{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ines_/bee_v2/bee_school/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ines_/bee_v2/bee_school/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ines_/bee_v2/bee_school/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{ReactTinyLink}from\"react-tiny-link\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Hashtags(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),records=_useState2[0],setRecords=_useState2[1];useEffect(function(){function getRecords(){return _getRecords.apply(this,arguments);}function _getRecords(){_getRecords=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,_records;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://bee-aware-08ab5a1c994e.herokuapp.com/apilinks/\");case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error(\"An error occurred: \".concat(response.statusText));case 6:_context.next=8;return response.json();case 8:_records=_context.sent;setRecords(_records);_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching data:\",_context.t0);window.alert(_context.t0.message);case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return _getRecords.apply(this,arguments);}getRecords();},[]);var redirectToTopicPage=function redirectToTopicPage(topic){// Modify the URL to the desired topic page\nvar topicPageURL=\"http:/#/topics/\".concat(topic);window.open(topicPageURL,\"_blank\");};var validateUrl=function validateUrl(url){try{new URL(url);// Validate the URL format\nreturn true;}catch(error){console.error(\"Invalid URL:\",url);return false;}};// Remove duplicate records based on both URL and title\nvar uniqueRecords=records.filter(function(record,index,self){return index===self.findIndex(function(r){return r.url===record.url||r.title===record.title;});});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Perspectives and Updates\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:uniqueRecords.slice(0,uniqueRecords.length/2).map(function(record){return/*#__PURE__*/_jsxs(\"div\",{children:[validateUrl(record.url)?/*#__PURE__*/_jsx(ReactTinyLink,{cardSize:\"large\",showGraphic:true,maxLine:2,minLine:1,noCache:true,url:record.url,loadSecureUrl:true}):/*#__PURE__*/_jsxs(\"p\",{children:[\"Invalid URL: \",record.url]}),/*#__PURE__*/_jsx(\"table\",{className:\"newstable\",style:{fontSize:\"16px\"},children:/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[\"Related Topics:\\xA0\",Array.isArray(record.topic)?record.topic.map(function(topic,index){return/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:function onClick(){return redirectToTopicPage(topic);},children:topic}),index<record.topic.length-1?', ':'']},index);}):/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:function onClick(){return redirectToTopicPage(record.topic);},children:record.topic})]})})})}),/*#__PURE__*/_jsx(\"br\",{})]},record._id);})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:uniqueRecords.slice(uniqueRecords.length/2).map(function(record){return/*#__PURE__*/_jsxs(\"div\",{children:[validateUrl(record.url)?/*#__PURE__*/_jsx(ReactTinyLink,{cardSize:\"large\",showGraphic:true,maxLine:2,minLine:1,noCache:true,url:record.url,loadSecureUrl:true}):/*#__PURE__*/_jsxs(\"p\",{children:[\"Invalid URL: \",record.url]}),/*#__PURE__*/_jsx(\"table\",{className:\"newstable\",style:{fontSize:\"16px\"},children:/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[\"Related Topics:\\xA0\",Array.isArray(record.topic)?record.topic.map(function(topic,index){return/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:function onClick(){return redirectToTopicPage(topic);},children:topic}),index<record.topic.length-1?', ':'']},index);}):/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:function onClick(){return redirectToTopicPage(record.topic);},children:record.topic})]})})})}),/*#__PURE__*/_jsx(\"br\",{})]},record._id);})})]})]});}","map":{"version":3,"names":["React","useEffect","useState","ReactTinyLink","Hashtags","records","setRecords","getRecords","fetch","response","ok","Error","statusText","json","console","error","window","alert","message","redirectToTopicPage","topic","topicPageURL","open","validateUrl","url","URL","uniqueRecords","filter","record","index","self","findIndex","r","title","display","flex","slice","length","map","fontSize","Array","isArray","_id"],"sources":["C:/Users/ines_/bee_v2/bee_school/frontend/src/views/dashboard/Perspectives_Updates.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { ReactTinyLink } from \"react-tiny-link\";\r\n\r\nexport default function Hashtags() {\r\n  const [records, setRecords] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function getRecords() {\r\n      try {\r\n        const response = await fetch(\"https://bee-aware-08ab5a1c994e.herokuapp.com/apilinks/\");\r\n        if (!response.ok) {\r\n          throw new Error(`An error occurred: ${response.statusText}`);\r\n        }\r\n        const records = await response.json();\r\n        setRecords(records);\r\n      } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n        window.alert(error.message);\r\n      }\r\n    }\r\n    getRecords();\r\n  }, []);\r\n\r\n  const redirectToTopicPage = (topic) => {\r\n    // Modify the URL to the desired topic page\r\n    const topicPageURL = `http:/#/topics/${topic}`;\r\n    window.open(topicPageURL, \"_blank\");\r\n  };\r\n\r\n  const validateUrl = (url) => {\r\n    try {\r\n      new URL(url); // Validate the URL format\r\n      return true;\r\n    } catch (error) {\r\n      console.error(\"Invalid URL:\", url);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  // Remove duplicate records based on both URL and title\r\n  const uniqueRecords = records.filter(\r\n    (record, index, self) =>\r\n      index ===\r\n      self.findIndex(\r\n        (r) => r.url === record.url || r.title === record.title\r\n      )\r\n  );\r\n\r\n  return (\r\n    <div>\r\n            <h2>Perspectives and Updates</h2>\r\n      <br />\r\n    <div style={{ display: \"flex\" }}>\r\n      <div style={{ flex: 1 }}>\r\n        {uniqueRecords.slice(0, uniqueRecords.length / 2).map((record) => (\r\n          <div key={record._id}>\r\n            {validateUrl(record.url) ? (\r\n              <ReactTinyLink\r\n              cardSize=\"large\"\r\n              showGraphic={true}\r\n              maxLine={2}\r\n              minLine={1}\r\n              noCache={true}\r\n              url={record.url}\r\n              loadSecureUrl={true}\r\n                \r\n                \r\n              />\r\n            ) : (\r\n              <p>Invalid URL: {record.url}</p>\r\n            )}\r\n          <table className=\"newstable\" style={{fontSize:\"16px\"}}>\r\n                  <tbody>\r\n                    <tr>\r\n                    <td>Related Topics:&nbsp; \r\n  {Array.isArray(record.topic) ? (\r\n    record.topic.map((topic, index) => (\r\n      <span key={index}>\r\n        <a href=\"#\" onClick={() => redirectToTopicPage(topic)}>{topic}</a>\r\n        {index < record.topic.length - 1 ? ', ' : ''}\r\n      </span>\r\n    ))\r\n  ) : (\r\n    <a href=\"#\" onClick={() => redirectToTopicPage(record.topic)}>{record.topic}</a>\r\n  )}\r\n</td>\r\n\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n            <br />\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div style={{ flex: 1 }}>\r\n        {uniqueRecords.slice(uniqueRecords.length / 2).map((record) => (\r\n          <div key={record._id}>\r\n            {validateUrl(record.url) ? (\r\n              <ReactTinyLink\r\n                cardSize=\"large\"\r\n                showGraphic={true}\r\n                maxLine={2}\r\n                minLine={1}\r\n                noCache={true}\r\n                url={record.url}\r\n                loadSecureUrl={true}\r\n              />\r\n            ) : (\r\n              <p>Invalid URL: {record.url}</p>\r\n            )}\r\n            <table className=\"newstable\" style={{fontSize:\"16px\"}}>\r\n                  <tbody>\r\n                    <tr>\r\n                    <td>Related Topics:&nbsp; \r\n  {Array.isArray(record.topic) ? (\r\n    record.topic.map((topic, index) => (\r\n      <span key={index}>\r\n        <a href=\"#\" onClick={() => redirectToTopicPage(topic)}>{topic}</a>\r\n        {index < record.topic.length - 1 ? ', ' : ''}\r\n      </span>\r\n    ))\r\n  ) : (\r\n    <a href=\"#\" onClick={() => redirectToTopicPage(record.topic)}>{record.topic}</a>\r\n  )}\r\n</td>\r\n</tr>\r\n                  </tbody>\r\n                </table>\r\n            <br />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}