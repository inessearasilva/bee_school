{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ines_/bee_v2/bee_school/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ines_/bee_v2/bee_school/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ines_/bee_v2/bee_school/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Topics=function Topics(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),records=_useState2[0],setRecords=_useState2[1];useEffect(function(){function getRecords(){return _getRecords.apply(this,arguments);}function _getRecords(){_getRecords=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,_records;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:5050/statistics_general/\");case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error(\"An error occurred: \".concat(response.statusText));case 6:_context.next=8;return response.json();case 8:_records=_context.sent;setRecords(_records);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);window.alert(_context.t0.message);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return _getRecords.apply(this,arguments);}getRecords();},[]);var getFirstTenRecords=function getFirstTenRecords(){return records.slice(0,10);};var getFirstTenTopicsEntries=function getFirstTenTopicsEntries(record){return Object.entries(record.topics).slice(0,10);};var redirectToTopicPage=function redirectToTopicPage(topic){// Modify the URL to the desired topic page\nvar topicPageURL=\"http:/#/topics/\".concat(topic);window.open(topicPageURL,\"_blank\");};return/*#__PURE__*/_jsx(\"tbody\",{children:getFirstTenRecords().map(function(record){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{style:{padding:'3px',paddingInlineStart:'10px'}})}),getFirstTenTopicsEntries(record).map(function(_ref){var _ref2=_slicedToArray(_ref,2),topic=_ref2[0],value=_ref2[1];return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'5px',paddingInlineStart:'10px',width:'82.5%'},children:/*#__PURE__*/_jsx(\"a\",{style:{color:'black'},href:\"#\",onClick:function onClick(){return redirectToTopicPage(topic);},children:topic})}),/*#__PURE__*/_jsx(\"td\",{className:\"qtt-background\",style:{padding:'3px'},children:value})]},topic);}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:\"viewall-background\",style:{padding:'3px',marginLeft:'149px'},children:/*#__PURE__*/_jsx(\"a\",{href:\"/#/all_topics\",style:{textDecoration:'none',color:'inherit',cursor:'pointer'},children:/*#__PURE__*/_jsx(\"strong\",{children:\"View All\"})})})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{style:{padding:'3px',paddingInlineStart:'20px'}})})]},record._id);})});};export default Topics;","map":{"version":3,"names":["React","useEffect","useState","Topics","records","setRecords","getRecords","fetch","response","ok","Error","statusText","json","window","alert","message","getFirstTenRecords","slice","getFirstTenTopicsEntries","record","Object","entries","topics","redirectToTopicPage","topic","topicPageURL","open","map","padding","paddingInlineStart","value","width","color","marginLeft","textDecoration","cursor","_id"],"sources":["C:/Users/ines_/bee_v2/bee_school/frontend/src/views/dashboard/Topics.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nconst Topics = () => {\r\n  const [records, setRecords] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function getRecords() {\r\n      try {\r\n        const response = await fetch(\"http://localhost:5050/statistics_general/\");\r\n        if (!response.ok) {\r\n          throw new Error(`An error occurred: ${response.statusText}`);\r\n        }\r\n        const records = await response.json();\r\n        setRecords(records);\r\n      } catch (error) {\r\n        window.alert(error.message);\r\n      }\r\n    }\r\n\r\n    getRecords();\r\n  }, []);\r\n\r\n  const getFirstTenRecords = () => records.slice(0, 10);\r\n  const getFirstTenTopicsEntries = (record) =>\r\n    Object.entries(record.topics).slice(0, 10);\r\n\r\n  const redirectToTopicPage = (topic) => {\r\n    // Modify the URL to the desired topic page\r\n    const topicPageURL = `http:/#/topics/${topic}`;\r\n    window.open(topicPageURL, \"_blank\");\r\n  };\r\n\r\n  return (\r\n    <tbody>\r\n      {getFirstTenRecords().map((record) => (\r\n        <React.Fragment key={record._id}>\r\n          <tr>\r\n            <td style={{ padding: '3px', paddingInlineStart: '10px' }}>\r\n              \r\n            </td>\r\n          </tr>\r\n          {getFirstTenTopicsEntries(record).map(([topic, value]) => (\r\n            <tr key={topic}>\r\n              <td style={{ padding: '5px', paddingInlineStart: '10px', width:'82.5%' }}>\r\n                <a style={{color: 'black'}} href=\"#\" onClick={() => redirectToTopicPage(topic)}>\r\n                  {topic}\r\n                </a>\r\n              </td>\r\n              <td className=\"qtt-background\" style={{ padding: '3px' }}>\r\n                {value}\r\n              </td>\r\n            </tr>\r\n          ))}\r\n          <tr>\r\n          <td className=\"viewall-background\" style={{ padding: '3px', marginLeft:'149px' }}>\r\n          <a href=\"/#/all_topics\" style={{ textDecoration: 'none', color: 'inherit', cursor: 'pointer' }}>\r\n              <strong>View All</strong>\r\n          </a>\r\n          </td>\r\n\r\n          </tr>\r\n          <tr>\r\n            <td style={{ padding: '3px', paddingInlineStart: '20px' }}>\r\n            </td>\r\n          </tr>\r\n        </React.Fragment>\r\n      ))}\r\n    </tbody>\r\n  );\r\n};\r\n\r\nexport default Topics;\r\n"],"mappings":"6YAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,wFAEnD,GAAMC,OAAM,CAAG,QAATA,OAAM,EAAS,CACnB,cAA8BD,QAAQ,CAAC,EAAE,CAAC,wCAAnCE,OAAO,eAAEC,UAAU,eAE1BJ,SAAS,CAAC,UAAM,SACCK,WAAU,0IAAzB,iMAE2BC,MAAK,CAAC,2CAA2C,CAAC,QAAnEC,QAAQ,kBACTA,QAAQ,CAACC,EAAE,8BACR,IAAIC,MAAK,8BAAuBF,QAAQ,CAACG,UAAU,EAAG,8BAExCH,SAAQ,CAACI,IAAI,EAAE,QAA/BR,QAAO,eACbC,UAAU,CAACD,QAAO,CAAC,CAAC,iFAEpBS,MAAM,CAACC,KAAK,CAAC,YAAMC,OAAO,CAAC,CAAC,qEAE/B,6CAEDT,UAAU,EAAE,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMU,mBAAkB,CAAG,QAArBA,mBAAkB,SAASZ,QAAO,CAACa,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,GACrD,GAAMC,yBAAwB,CAAG,QAA3BA,yBAAwB,CAAIC,MAAM,QACtCC,OAAM,CAACC,OAAO,CAACF,MAAM,CAACG,MAAM,CAAC,CAACL,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,GAE5C,GAAMM,oBAAmB,CAAG,QAAtBA,oBAAmB,CAAIC,KAAK,CAAK,CACrC;AACA,GAAMC,aAAY,0BAAqBD,KAAK,CAAE,CAC9CX,MAAM,CAACa,IAAI,CAACD,YAAY,CAAE,QAAQ,CAAC,CACrC,CAAC,CAED,mBACE,uBACGT,kBAAkB,EAAE,CAACW,GAAG,CAAC,SAACR,MAAM,qBAC/B,MAAC,KAAK,CAAC,QAAQ,yBACb,iCACE,WAAI,KAAK,CAAE,CAAES,OAAO,CAAE,KAAK,CAAEC,kBAAkB,CAAE,MAAO,CAAE,EAErD,EACF,CACJX,wBAAwB,CAACC,MAAM,CAAC,CAACQ,GAAG,CAAC,gDAAEH,KAAK,UAAEM,KAAK,6BAClD,mCACE,WAAI,KAAK,CAAE,CAAEF,OAAO,CAAE,KAAK,CAAEC,kBAAkB,CAAE,MAAM,CAAEE,KAAK,CAAC,OAAQ,CAAE,uBACvE,UAAG,KAAK,CAAE,CAACC,KAAK,CAAE,OAAO,CAAE,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAE,yBAAMT,oBAAmB,CAACC,KAAK,CAAC,EAAC,UAC5EA,KAAK,EACJ,EACD,cACL,WAAI,SAAS,CAAC,gBAAgB,CAAC,KAAK,CAAE,CAAEI,OAAO,CAAE,KAAM,CAAE,UACtDE,KAAK,EACH,GAREN,KAAK,CAST,EACN,CAAC,cACF,iCACA,WAAI,SAAS,CAAC,oBAAoB,CAAC,KAAK,CAAE,CAAEI,OAAO,CAAE,KAAK,CAAEK,UAAU,CAAC,OAAQ,CAAE,uBACjF,UAAG,IAAI,CAAC,eAAe,CAAC,KAAK,CAAE,CAAEC,cAAc,CAAE,MAAM,CAAEF,KAAK,CAAE,SAAS,CAAEG,MAAM,CAAE,SAAU,CAAE,uBAC3F,oCAAyB,EACzB,EACC,EAEA,cACL,iCACE,WAAI,KAAK,CAAE,CAAEP,OAAO,CAAE,KAAK,CAAEC,kBAAkB,CAAE,MAAO,CAAE,EACrD,EACF,GA7BcV,MAAM,CAACiB,GAAG,CA8Bd,EAClB,CAAC,EACI,CAEZ,CAAC,CAED,cAAejC,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}