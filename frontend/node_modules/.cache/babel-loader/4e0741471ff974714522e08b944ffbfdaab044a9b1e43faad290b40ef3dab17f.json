{"ast":null,"code":"import React, { useContext, useEffect, useState } from \"react\";\nimport Date from \"../../../../../components/Datatypes/Date/Date\";\nimport { buildValidationEditMode } from \"../../../FormValidation/BuildValidation/BuildValidation\";\nimport { buildInitialValueEditMode } from \"../../../FormInitialValues/BuildInitialValue/BuildInitialValue\";\nimport { handleIsVisible } from \"../../../../../assets/functions/HandleTasks/handleIsVisible\";\nimport { handleIsEditable } from \"../../../../../assets/functions/HandleTasks/handleIsEditable\";\nimport { handleRules } from \"../../../../../assets/functions/HandleRules/handleRules\";\nimport { firstAnyItem } from \"../../../../../assets/functions/FirstAnyItem/FirstAnyItem\";\nimport { getDLMConditions } from \"../../../../../assets/functions/HandleDLM/getDLMConditions\";\nimport { checkDLMRules } from \"../../../../../assets/functions/HandleDLM/checkDLMRules\";\nimport CombinedContext from \"../../../../../contexts/CombinedContext\";\nimport { getParent } from \"../../../../../assets/functions/GetParentItem/getParent\";\nconst BuildDateEditMode = (item, itemIndex, pathArray, setFieldValue, values, errors, touched, setFieldTouched, isAny, cardinalityObject, sectionValidation, initialValues, validationSchema, itemSection, multipleSections, professionalTasks, order, templateRules, idJDT) => {\n  const context = useContext(CombinedContext);\n  const isRM = pathArray[0] === \"rm\";\n  const isEditable = !item.TaskEditable ? false : handleIsEditable(item, professionalTasks);\n  const isVisible = !item.TaskVisible ? false : handleIsVisible(item, professionalTasks);\n  const initialRuleVisibility = !item.ruleVisibility ? true : handleRules(item, values, \"visibility\");\n  const initialRuleMandatory = !item.ruleMandatory ? true : handleRules(item, values, \"mandatory\");\n  const [ruleVisibility, setRuleVisibility] = useState(initialRuleVisibility);\n  const [ruleMandatory, setRuleMandatory] = useState(initialRuleMandatory);\n  const [isFieldEditable, setFieldEditable] = useState(true);\n  const [conditionValues, setConditionValues] = useState({});\n  const parentSection = isRM ? getParent(item.parentPath.split(\".\"), context.composition.template) : getParent(pathArray, context.composition.template);\n  const parentSectionVisibility = parentSection === \"parentless\" ? true : parentSection.TaskVisible.indexOf(\"All\") > -1 ? true : false;\n  const label = isRM ? item.itemName : item.node === null ? item.text : item.node.text;\n  let array = [];\n  array.push(\"value\");\n  const pathLabel = pathArray.concat(array).join(\"-\");\n  const path = pathArray.join(\".\");\n  const dlmConditions = getDLMConditions(item, templateRules);\n  useEffect(() => {\n    const newConditionValues = Object.keys(values).filter(key => dlmConditions.includes(key)).reduce((obj, key) => {\n      if (values[key]._immutable) {\n        obj[key] = values[key].getCurrentContent().getPlainText(\"\\n\").split(\"\\n\")[0];\n      } else {\n        obj[key] = values[key];\n      }\n      return obj;\n    }, {});\n    if (JSON.stringify(conditionValues) !== JSON.stringify(newConditionValues)) {\n      setConditionValues(newConditionValues);\n    }\n  }, [values, dlmConditions, conditionValues]);\n  useEffect(() => {\n    // para o caso de haver um update nos valores do form e a regra já não se verificar\n    setFieldEditable(isEditable);\n    setFieldValue(pathLabel, initialValues[pathLabel]);\n    setRuleVisibility(initialRuleVisibility);\n    setRuleMandatory(initialRuleMandatory);\n    checkDLMRules(context.token, context.dlm.updateIsDlmFinished, idJDT, item.dlmRules, templateRules, path, pathLabel, conditionValues).then(rules => {\n      if (Array.isArray(rules[0]) && rules[0].length > 0) {\n        for (const rule of rules[0]) {\n          if (rule.itemPath === path) {\n            const value = rule.value;\n            const action = rule.action;\n            switch (action) {\n              case \"isEqualTo\":\n                setFieldValue(pathLabel, value);\n                break;\n              case \"isNotEditable\":\n                setFieldEditable(false);\n                break;\n              case \"isMandatory\":\n                setRuleMandatory(true);\n                break;\n              case \"isVisible\":\n                setRuleVisibility(true);\n                break;\n              case \"isNotVisible\":\n                setRuleVisibility(false);\n                break;\n              default:\n                break;\n            }\n          }\n        }\n        context.dlm.updateIsDlmFinished(true);\n      } else {\n        context.dlm.updateIsDlmFinished(true);\n      }\n    });\n  }, [conditionValues, context.token, idJDT, initialRuleMandatory, initialRuleVisibility, isEditable, item.dlmRules, path, pathLabel, setFieldValue, templateRules]);\n  if (isVisible || item.value !== null) {\n    buildInitialValueEditMode(item, pathLabel, initialValues);\n    if (isEditable && parentSectionVisibility) {\n      buildValidationEditMode(item, pathLabel, cardinalityObject, validationSchema, itemSection, sectionValidation, multipleSections, ruleMandatory);\n    }\n  }\n  if (isVisible && ruleVisibility) {\n    if (isEditable) {\n      return /*#__PURE__*/React.createElement(Date, {\n        order: order ? order[pathArray.join(\".\")] : null,\n        key: itemIndex,\n        showLabel: !isAny || (order ? firstAnyItem(order, pathArray, isAny) : itemIndex === 0),\n        editMode: true,\n        functions: item.Functions,\n        isFieldEditable: isFieldEditable,\n        value: values[pathLabel],\n        onDateChange: setFieldValue,\n        label: label,\n        path: pathArray.join(\".\"),\n        pathLabel: pathLabel,\n        error: touched[pathLabel] && errors[pathLabel],\n        onTouch: setFieldTouched,\n        sectionOccurrence: itemSection[itemSection.length - 1],\n        optional: item.occurrences.lowerOccurrences === 0,\n        optionalMandatory: !ruleMandatory,\n        description: isRM ? item.description : item.node === null ? \"\" : item.node.description\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(Date, {\n        order: order ? order[pathArray.join(\".\")] : null,\n        key: itemIndex,\n        showLabel: !isAny || (order ? firstAnyItem(order, pathArray, isAny) : itemIndex === 0),\n        editMode: false,\n        path: pathArray.join(\".\"),\n        value: values[pathLabel] === \"\" ? \"\" : values[pathLabel],\n        label: label,\n        description: isRM ? item.description : item.node === null ? \"\" : item.node.description\n      });\n    }\n  }\n};\nexport default BuildDateEditMode;","map":{"version":3,"names":["React","useContext","useEffect","useState","Date","buildValidationEditMode","buildInitialValueEditMode","handleIsVisible","handleIsEditable","handleRules","firstAnyItem","getDLMConditions","checkDLMRules","CombinedContext","getParent","BuildDateEditMode","item","itemIndex","pathArray","setFieldValue","values","errors","touched","setFieldTouched","isAny","cardinalityObject","sectionValidation","initialValues","validationSchema","itemSection","multipleSections","professionalTasks","order","templateRules","idJDT","context","isRM","isEditable","TaskEditable","isVisible","TaskVisible","initialRuleVisibility","ruleVisibility","initialRuleMandatory","ruleMandatory","setRuleVisibility","setRuleMandatory","isFieldEditable","setFieldEditable","conditionValues","setConditionValues","parentSection","parentPath","split","composition","template","parentSectionVisibility","indexOf","label","itemName","node","text","array","push","pathLabel","concat","join","path","dlmConditions","newConditionValues","Object","keys","filter","key","includes","reduce","obj","_immutable","getCurrentContent","getPlainText","JSON","stringify","token","dlm","updateIsDlmFinished","dlmRules","then","rules","Array","isArray","length","rule","itemPath","value","action","createElement","showLabel","editMode","functions","Functions","onDateChange","error","onTouch","sectionOccurrence","optional","occurrences","lowerOccurrences","optionalMandatory","description"],"sources":["C:/Users/ines_/fisiosys/frontend/node_modules/protected-aidaforms/dist/containers/Form/BuildItems/BuildItemEditMode/BuildDate/BuildDate.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport Date from \"../../../../../components/Datatypes/Date/Date\";\nimport { buildValidationEditMode } from \"../../../FormValidation/BuildValidation/BuildValidation\";\nimport { buildInitialValueEditMode } from \"../../../FormInitialValues/BuildInitialValue/BuildInitialValue\";\nimport { handleIsVisible } from \"../../../../../assets/functions/HandleTasks/handleIsVisible\";\nimport { handleIsEditable } from \"../../../../../assets/functions/HandleTasks/handleIsEditable\";\nimport { handleRules } from \"../../../../../assets/functions/HandleRules/handleRules\";\nimport { firstAnyItem } from \"../../../../../assets/functions/FirstAnyItem/FirstAnyItem\";\nimport { getDLMConditions } from \"../../../../../assets/functions/HandleDLM/getDLMConditions\";\nimport { checkDLMRules } from \"../../../../../assets/functions/HandleDLM/checkDLMRules\";\nimport CombinedContext from \"../../../../../contexts/CombinedContext\";\nimport { getParent } from \"../../../../../assets/functions/GetParentItem/getParent\";\n\nconst BuildDateEditMode = (item, itemIndex, pathArray, setFieldValue, values, errors, touched, setFieldTouched, isAny, cardinalityObject, sectionValidation, initialValues, validationSchema, itemSection, multipleSections, professionalTasks, order, templateRules, idJDT) => {\n  const context = useContext(CombinedContext);\n  const isRM = pathArray[0] === \"rm\";\n  const isEditable = !item.TaskEditable ? false : handleIsEditable(item, professionalTasks);\n  const isVisible = !item.TaskVisible ? false : handleIsVisible(item, professionalTasks);\n  const initialRuleVisibility = !item.ruleVisibility ? true : handleRules(item, values, \"visibility\");\n  const initialRuleMandatory = !item.ruleMandatory ? true : handleRules(item, values, \"mandatory\");\n  const [ruleVisibility, setRuleVisibility] = useState(initialRuleVisibility);\n  const [ruleMandatory, setRuleMandatory] = useState(initialRuleMandatory);\n  const [isFieldEditable, setFieldEditable] = useState(true);\n  const [conditionValues, setConditionValues] = useState({});\n  const parentSection = isRM ? getParent(item.parentPath.split(\".\"), context.composition.template) : getParent(pathArray, context.composition.template);\n  const parentSectionVisibility = parentSection === \"parentless\" ? true : parentSection.TaskVisible.indexOf(\"All\") > -1 ? true : false;\n  const label = isRM ? item.itemName : item.node === null ? item.text : item.node.text;\n  let array = [];\n  array.push(\"value\");\n  const pathLabel = pathArray.concat(array).join(\"-\");\n  const path = pathArray.join(\".\");\n  const dlmConditions = getDLMConditions(item, templateRules);\n  useEffect(() => {\n    const newConditionValues = Object.keys(values).filter(key => dlmConditions.includes(key)).reduce((obj, key) => {\n      if (values[key]._immutable) {\n        obj[key] = values[key].getCurrentContent().getPlainText(\"\\n\").split(\"\\n\")[0];\n      } else {\n        obj[key] = values[key];\n      }\n\n      return obj;\n    }, {});\n\n    if (JSON.stringify(conditionValues) !== JSON.stringify(newConditionValues)) {\n      setConditionValues(newConditionValues);\n    }\n  }, [values, dlmConditions, conditionValues]);\n  useEffect(() => {\n    // para o caso de haver um update nos valores do form e a regra já não se verificar\n    setFieldEditable(isEditable);\n    setFieldValue(pathLabel, initialValues[pathLabel]);\n    setRuleVisibility(initialRuleVisibility);\n    setRuleMandatory(initialRuleMandatory);\n    checkDLMRules(context.token, context.dlm.updateIsDlmFinished, idJDT, item.dlmRules, templateRules, path, pathLabel, conditionValues).then(rules => {\n      if (Array.isArray(rules[0]) && rules[0].length > 0) {\n        for (const rule of rules[0]) {\n          if (rule.itemPath === path) {\n            const value = rule.value;\n            const action = rule.action;\n\n            switch (action) {\n              case \"isEqualTo\":\n                setFieldValue(pathLabel, value);\n                break;\n\n              case \"isNotEditable\":\n                setFieldEditable(false);\n                break;\n\n              case \"isMandatory\":\n                setRuleMandatory(true);\n                break;\n\n              case \"isVisible\":\n                setRuleVisibility(true);\n                break;\n\n              case \"isNotVisible\":\n                setRuleVisibility(false);\n                break;\n\n              default:\n                break;\n            }\n          }\n        }\n\n        context.dlm.updateIsDlmFinished(true);\n      } else {\n        context.dlm.updateIsDlmFinished(true);\n      }\n    });\n  }, [conditionValues, context.token, idJDT, initialRuleMandatory, initialRuleVisibility, isEditable, item.dlmRules, path, pathLabel, setFieldValue, templateRules]);\n\n  if (isVisible || item.value !== null) {\n    buildInitialValueEditMode(item, pathLabel, initialValues);\n\n    if (isEditable && parentSectionVisibility) {\n      buildValidationEditMode(item, pathLabel, cardinalityObject, validationSchema, itemSection, sectionValidation, multipleSections, ruleMandatory);\n    }\n  }\n\n  if (isVisible && ruleVisibility) {\n    if (isEditable) {\n      return /*#__PURE__*/React.createElement(Date, {\n        order: order ? order[pathArray.join(\".\")] : null,\n        key: itemIndex,\n        showLabel: !isAny || (order ? firstAnyItem(order, pathArray, isAny) : itemIndex === 0),\n        editMode: true,\n        functions: item.Functions,\n        isFieldEditable: isFieldEditable,\n        value: values[pathLabel],\n        onDateChange: setFieldValue,\n        label: label,\n        path: pathArray.join(\".\"),\n        pathLabel: pathLabel,\n        error: touched[pathLabel] && errors[pathLabel],\n        onTouch: setFieldTouched,\n        sectionOccurrence: itemSection[itemSection.length - 1],\n        optional: item.occurrences.lowerOccurrences === 0,\n        optionalMandatory: !ruleMandatory,\n        description: isRM ? item.description : item.node === null ? \"\" : item.node.description\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(Date, {\n        order: order ? order[pathArray.join(\".\")] : null,\n        key: itemIndex,\n        showLabel: !isAny || (order ? firstAnyItem(order, pathArray, isAny) : itemIndex === 0),\n        editMode: false,\n        path: pathArray.join(\".\"),\n        value: values[pathLabel] === \"\" ? \"\" : values[pathLabel],\n        label: label,\n        description: isRM ? item.description : item.node === null ? \"\" : item.node.description\n      });\n    }\n  }\n};\n\nexport default BuildDateEditMode;"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC9D,OAAOC,IAAI,MAAM,+CAA+C;AAChE,SAASC,uBAAuB,QAAQ,yDAAyD;AACjG,SAASC,yBAAyB,QAAQ,gEAAgE;AAC1G,SAASC,eAAe,QAAQ,6DAA6D;AAC7F,SAASC,gBAAgB,QAAQ,8DAA8D;AAC/F,SAASC,WAAW,QAAQ,yDAAyD;AACrF,SAASC,YAAY,QAAQ,2DAA2D;AACxF,SAASC,gBAAgB,QAAQ,4DAA4D;AAC7F,SAASC,aAAa,QAAQ,yDAAyD;AACvF,OAAOC,eAAe,MAAM,yCAAyC;AACrE,SAASC,SAAS,QAAQ,yDAAyD;AAEnF,MAAMC,iBAAiB,GAAG,CAACC,IAAI,EAAEC,SAAS,EAAEC,SAAS,EAAEC,aAAa,EAAEC,MAAM,EAAEC,MAAM,EAAEC,OAAO,EAAEC,eAAe,EAAEC,KAAK,EAAEC,iBAAiB,EAAEC,iBAAiB,EAAEC,aAAa,EAAEC,gBAAgB,EAAEC,WAAW,EAAEC,gBAAgB,EAAEC,iBAAiB,EAAEC,KAAK,EAAEC,aAAa,EAAEC,KAAK,KAAK;EAC9Q,MAAMC,OAAO,GAAGlC,UAAU,CAACY,eAAe,CAAC;EAC3C,MAAMuB,IAAI,GAAGlB,SAAS,CAAC,CAAC,CAAC,KAAK,IAAI;EAClC,MAAMmB,UAAU,GAAG,CAACrB,IAAI,CAACsB,YAAY,GAAG,KAAK,GAAG9B,gBAAgB,CAACQ,IAAI,EAAEe,iBAAiB,CAAC;EACzF,MAAMQ,SAAS,GAAG,CAACvB,IAAI,CAACwB,WAAW,GAAG,KAAK,GAAGjC,eAAe,CAACS,IAAI,EAAEe,iBAAiB,CAAC;EACtF,MAAMU,qBAAqB,GAAG,CAACzB,IAAI,CAAC0B,cAAc,GAAG,IAAI,GAAGjC,WAAW,CAACO,IAAI,EAAEI,MAAM,EAAE,YAAY,CAAC;EACnG,MAAMuB,oBAAoB,GAAG,CAAC3B,IAAI,CAAC4B,aAAa,GAAG,IAAI,GAAGnC,WAAW,CAACO,IAAI,EAAEI,MAAM,EAAE,WAAW,CAAC;EAChG,MAAM,CAACsB,cAAc,EAAEG,iBAAiB,CAAC,GAAG1C,QAAQ,CAACsC,qBAAqB,CAAC;EAC3E,MAAM,CAACG,aAAa,EAAEE,gBAAgB,CAAC,GAAG3C,QAAQ,CAACwC,oBAAoB,CAAC;EACxE,MAAM,CAACI,eAAe,EAAEC,gBAAgB,CAAC,GAAG7C,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAAC8C,eAAe,EAAEC,kBAAkB,CAAC,GAAG/C,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC1D,MAAMgD,aAAa,GAAGf,IAAI,GAAGtB,SAAS,CAACE,IAAI,CAACoC,UAAU,CAACC,KAAK,CAAC,GAAG,CAAC,EAAElB,OAAO,CAACmB,WAAW,CAACC,QAAQ,CAAC,GAAGzC,SAAS,CAACI,SAAS,EAAEiB,OAAO,CAACmB,WAAW,CAACC,QAAQ,CAAC;EACrJ,MAAMC,uBAAuB,GAAGL,aAAa,KAAK,YAAY,GAAG,IAAI,GAAGA,aAAa,CAACX,WAAW,CAACiB,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,GAAG,KAAK;EACpI,MAAMC,KAAK,GAAGtB,IAAI,GAAGpB,IAAI,CAAC2C,QAAQ,GAAG3C,IAAI,CAAC4C,IAAI,KAAK,IAAI,GAAG5C,IAAI,CAAC6C,IAAI,GAAG7C,IAAI,CAAC4C,IAAI,CAACC,IAAI;EACpF,IAAIC,KAAK,GAAG,EAAE;EACdA,KAAK,CAACC,IAAI,CAAC,OAAO,CAAC;EACnB,MAAMC,SAAS,GAAG9C,SAAS,CAAC+C,MAAM,CAACH,KAAK,CAAC,CAACI,IAAI,CAAC,GAAG,CAAC;EACnD,MAAMC,IAAI,GAAGjD,SAAS,CAACgD,IAAI,CAAC,GAAG,CAAC;EAChC,MAAME,aAAa,GAAGzD,gBAAgB,CAACK,IAAI,EAAEiB,aAAa,CAAC;EAC3D/B,SAAS,CAAC,MAAM;IACd,MAAMmE,kBAAkB,GAAGC,MAAM,CAACC,IAAI,CAACnD,MAAM,CAAC,CAACoD,MAAM,CAACC,GAAG,IAAIL,aAAa,CAACM,QAAQ,CAACD,GAAG,CAAC,CAAC,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEH,GAAG,KAAK;MAC7G,IAAIrD,MAAM,CAACqD,GAAG,CAAC,CAACI,UAAU,EAAE;QAC1BD,GAAG,CAACH,GAAG,CAAC,GAAGrD,MAAM,CAACqD,GAAG,CAAC,CAACK,iBAAiB,EAAE,CAACC,YAAY,CAAC,IAAI,CAAC,CAAC1B,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;MAC9E,CAAC,MAAM;QACLuB,GAAG,CAACH,GAAG,CAAC,GAAGrD,MAAM,CAACqD,GAAG,CAAC;MACxB;MAEA,OAAOG,GAAG;IACZ,CAAC,EAAE,CAAC,CAAC,CAAC;IAEN,IAAII,IAAI,CAACC,SAAS,CAAChC,eAAe,CAAC,KAAK+B,IAAI,CAACC,SAAS,CAACZ,kBAAkB,CAAC,EAAE;MAC1EnB,kBAAkB,CAACmB,kBAAkB,CAAC;IACxC;EACF,CAAC,EAAE,CAACjD,MAAM,EAAEgD,aAAa,EAAEnB,eAAe,CAAC,CAAC;EAC5C/C,SAAS,CAAC,MAAM;IACd;IACA8C,gBAAgB,CAACX,UAAU,CAAC;IAC5BlB,aAAa,CAAC6C,SAAS,EAAErC,aAAa,CAACqC,SAAS,CAAC,CAAC;IAClDnB,iBAAiB,CAACJ,qBAAqB,CAAC;IACxCK,gBAAgB,CAACH,oBAAoB,CAAC;IACtC/B,aAAa,CAACuB,OAAO,CAAC+C,KAAK,EAAE/C,OAAO,CAACgD,GAAG,CAACC,mBAAmB,EAAElD,KAAK,EAAElB,IAAI,CAACqE,QAAQ,EAAEpD,aAAa,EAAEkC,IAAI,EAAEH,SAAS,EAAEf,eAAe,CAAC,CAACqC,IAAI,CAACC,KAAK,IAAI;MACjJ,IAAIC,KAAK,CAACC,OAAO,CAACF,KAAK,CAAC,CAAC,CAAC,CAAC,IAAIA,KAAK,CAAC,CAAC,CAAC,CAACG,MAAM,GAAG,CAAC,EAAE;QAClD,KAAK,MAAMC,IAAI,IAAIJ,KAAK,CAAC,CAAC,CAAC,EAAE;UAC3B,IAAII,IAAI,CAACC,QAAQ,KAAKzB,IAAI,EAAE;YAC1B,MAAM0B,KAAK,GAAGF,IAAI,CAACE,KAAK;YACxB,MAAMC,MAAM,GAAGH,IAAI,CAACG,MAAM;YAE1B,QAAQA,MAAM;cACZ,KAAK,WAAW;gBACd3E,aAAa,CAAC6C,SAAS,EAAE6B,KAAK,CAAC;gBAC/B;cAEF,KAAK,eAAe;gBAClB7C,gBAAgB,CAAC,KAAK,CAAC;gBACvB;cAEF,KAAK,aAAa;gBAChBF,gBAAgB,CAAC,IAAI,CAAC;gBACtB;cAEF,KAAK,WAAW;gBACdD,iBAAiB,CAAC,IAAI,CAAC;gBACvB;cAEF,KAAK,cAAc;gBACjBA,iBAAiB,CAAC,KAAK,CAAC;gBACxB;cAEF;gBACE;YAAM;UAEZ;QACF;QAEAV,OAAO,CAACgD,GAAG,CAACC,mBAAmB,CAAC,IAAI,CAAC;MACvC,CAAC,MAAM;QACLjD,OAAO,CAACgD,GAAG,CAACC,mBAAmB,CAAC,IAAI,CAAC;MACvC;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,CAACnC,eAAe,EAAEd,OAAO,CAAC+C,KAAK,EAAEhD,KAAK,EAAES,oBAAoB,EAAEF,qBAAqB,EAAEJ,UAAU,EAAErB,IAAI,CAACqE,QAAQ,EAAElB,IAAI,EAAEH,SAAS,EAAE7C,aAAa,EAAEc,aAAa,CAAC,CAAC;EAElK,IAAIM,SAAS,IAAIvB,IAAI,CAAC6E,KAAK,KAAK,IAAI,EAAE;IACpCvF,yBAAyB,CAACU,IAAI,EAAEgD,SAAS,EAAErC,aAAa,CAAC;IAEzD,IAAIU,UAAU,IAAImB,uBAAuB,EAAE;MACzCnD,uBAAuB,CAACW,IAAI,EAAEgD,SAAS,EAAEvC,iBAAiB,EAAEG,gBAAgB,EAAEC,WAAW,EAAEH,iBAAiB,EAAEI,gBAAgB,EAAEc,aAAa,CAAC;IAChJ;EACF;EAEA,IAAIL,SAAS,IAAIG,cAAc,EAAE;IAC/B,IAAIL,UAAU,EAAE;MACd,OAAO,aAAarC,KAAK,CAAC+F,aAAa,CAAC3F,IAAI,EAAE;QAC5C4B,KAAK,EAAEA,KAAK,GAAGA,KAAK,CAACd,SAAS,CAACgD,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI;QAChDO,GAAG,EAAExD,SAAS;QACd+E,SAAS,EAAE,CAACxE,KAAK,KAAKQ,KAAK,GAAGtB,YAAY,CAACsB,KAAK,EAAEd,SAAS,EAAEM,KAAK,CAAC,GAAGP,SAAS,KAAK,CAAC,CAAC;QACtFgF,QAAQ,EAAE,IAAI;QACdC,SAAS,EAAElF,IAAI,CAACmF,SAAS;QACzBpD,eAAe,EAAEA,eAAe;QAChC8C,KAAK,EAAEzE,MAAM,CAAC4C,SAAS,CAAC;QACxBoC,YAAY,EAAEjF,aAAa;QAC3BuC,KAAK,EAAEA,KAAK;QACZS,IAAI,EAAEjD,SAAS,CAACgD,IAAI,CAAC,GAAG,CAAC;QACzBF,SAAS,EAAEA,SAAS;QACpBqC,KAAK,EAAE/E,OAAO,CAAC0C,SAAS,CAAC,IAAI3C,MAAM,CAAC2C,SAAS,CAAC;QAC9CsC,OAAO,EAAE/E,eAAe;QACxBgF,iBAAiB,EAAE1E,WAAW,CAACA,WAAW,CAAC6D,MAAM,GAAG,CAAC,CAAC;QACtDc,QAAQ,EAAExF,IAAI,CAACyF,WAAW,CAACC,gBAAgB,KAAK,CAAC;QACjDC,iBAAiB,EAAE,CAAC/D,aAAa;QACjCgE,WAAW,EAAExE,IAAI,GAAGpB,IAAI,CAAC4F,WAAW,GAAG5F,IAAI,CAAC4C,IAAI,KAAK,IAAI,GAAG,EAAE,GAAG5C,IAAI,CAAC4C,IAAI,CAACgD;MAC7E,CAAC,CAAC;IACJ,CAAC,MAAM;MACL,OAAO,aAAa5G,KAAK,CAAC+F,aAAa,CAAC3F,IAAI,EAAE;QAC5C4B,KAAK,EAAEA,KAAK,GAAGA,KAAK,CAACd,SAAS,CAACgD,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI;QAChDO,GAAG,EAAExD,SAAS;QACd+E,SAAS,EAAE,CAACxE,KAAK,KAAKQ,KAAK,GAAGtB,YAAY,CAACsB,KAAK,EAAEd,SAAS,EAAEM,KAAK,CAAC,GAAGP,SAAS,KAAK,CAAC,CAAC;QACtFgF,QAAQ,EAAE,KAAK;QACf9B,IAAI,EAAEjD,SAAS,CAACgD,IAAI,CAAC,GAAG,CAAC;QACzB2B,KAAK,EAAEzE,MAAM,CAAC4C,SAAS,CAAC,KAAK,EAAE,GAAG,EAAE,GAAG5C,MAAM,CAAC4C,SAAS,CAAC;QACxDN,KAAK,EAAEA,KAAK;QACZkD,WAAW,EAAExE,IAAI,GAAGpB,IAAI,CAAC4F,WAAW,GAAG5F,IAAI,CAAC4C,IAAI,KAAK,IAAI,GAAG,EAAE,GAAG5C,IAAI,CAAC4C,IAAI,CAACgD;MAC7E,CAAC,CAAC;IACJ;EACF;AACF,CAAC;AAED,eAAe7F,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}