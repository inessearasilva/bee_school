{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ines_/bee_v2/bee_school/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ines_/bee_v2/bee_school/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ines_/bee_v2/bee_school/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useParams}from'react-router-dom';import verifiedImage from'../../assets/images/verified.png';import{FaHeart,FaRetweet,FaQuoteLeft,FaReply,FaEye,FaUser,FaRegSmileBeam,FaRegFrown,FaRegMeh}from'react-icons/fa';import Map from'./Map Topic';import{BarChart,Bar,XAxis,YAxis,Legend,ResponsiveContainer,LabelList,Label,PieChart,Pie,Cell,Tooltip}from\"recharts\";import ReactWordcloud from\"react-wordcloud\";import'tippy.js/dist/tippy.css';import'tippy.js/animations/scale.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Record=function Record(_ref){var _record$sentiment_cou,_record$sentiment_per,_record$sentiment_cou2,_record$sentiment_per2,_record$sentiment_cou3,_record$sentiment_per3,_record$engagement_me,_record$sentiment_cou4,_record$sentiment_cou5,_record$sentiment_cou6;var record=_ref.record,hashtags=_ref.hashtags,filteredTop10=_ref.filteredTop10,selectedFilter=_ref.selectedFilter,handleFilterChange=_ref.handleFilterChange,options=_ref.options,keywordsArray=_ref.keywordsArray,hashtagsArray=_ref.hashtagsArray;// Prepare data for the pie chart\nvar pieData=record?[{name:'Positive',value:((_record$sentiment_cou=record.sentiment_count)===null||_record$sentiment_cou===void 0?void 0:_record$sentiment_cou.Positive)||0,color:'#76CC9D',perc:(_record$sentiment_per=record.sentiment_percentages)===null||_record$sentiment_per===void 0?void 0:_record$sentiment_per.Positive},{name:'Neutral',value:((_record$sentiment_cou2=record.sentiment_count)===null||_record$sentiment_cou2===void 0?void 0:_record$sentiment_cou2.Neutral)||0,color:'#FADB7C',perc:(_record$sentiment_per2=record.sentiment_percentages)===null||_record$sentiment_per2===void 0?void 0:_record$sentiment_per2.Neutral},{name:'Negative',value:((_record$sentiment_cou3=record.sentiment_count)===null||_record$sentiment_cou3===void 0?void 0:_record$sentiment_cou3.Negative)||0,color:'#F46161',perc:(_record$sentiment_per3=record.sentiment_percentages)===null||_record$sentiment_per3===void 0?void 0:_record$sentiment_per3.Negative}]:[];var PieGraphic=function PieGraphic(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),activeIndex=_useState2[0],setActiveIndex=_useState2[1];var handleMouseEnter=function handleMouseEnter(data,index){setActiveIndex(index);};var renderTooltipContent=function renderTooltipContent(props){var payload=props.payload;if(payload&&payload.length>0){var entry=payload[0];var _entry$payload=entry.payload,name=_entry$payload.name,perc=_entry$payload.perc;return/*#__PURE__*/_jsx(\"div\",{style:{marginRight:'10px',marginLeft:'10px',marginTop:'10px'},children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:name}),\": \",\"\".concat(perc.toFixed(2),\"%\")]})});}};return/*#__PURE__*/_jsxs(PieChart,{width:400,height:400,children:[/*#__PURE__*/_jsx(Pie,{data:pieData,dataKey:\"value\",cx:120,cy:150,innerRadius:75,outerRadius:110,paddingAngle:5,onMouseEnter:handleMouseEnter,children:pieData.map(function(entry,index){return/*#__PURE__*/_jsx(Cell,{fill:entry.color},index);})}),/*#__PURE__*/_jsx(Tooltip,{content:renderTooltipContent,active:activeIndex!==null,wrapperStyle:{backgroundColor:\"white\",border:'1px solid #ccc'}})]});};var calculateKValue=function calculateKValue(value){var kValue=value/1000;// Use toFixed(1) to display one decimal if the value is less than 1\nreturn kValue.toFixed(kValue<1?1:0);};var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),chartData=_useState4[0],setChartData=_useState4[1];useEffect(function(){if(record&&record.engagement_metrics){var data=[{name:'Impressions',value:record.engagement_metrics.total_impressions,sqrtValue:Math.sqrt(record.engagement_metrics.total_impressions)*0.9,kValue:calculateKValue(record.engagement_metrics.total_impressions)},{name:'Likes',value:record.engagement_metrics.total_likes,sqrtValue:Math.sqrt(record.engagement_metrics.total_likes),kValue:calculateKValue(record.engagement_metrics.total_likes)},{name:'Retweets',value:record.engagement_metrics.total_retweets,sqrtValue:Math.sqrt(record.engagement_metrics.total_retweets),kValue:calculateKValue(record.engagement_metrics.total_retweets)},{name:'Quotes',value:record.engagement_metrics.total_quotes,sqrtValue:Math.sqrt(record.engagement_metrics.total_quotes),kValue:calculateKValue(record.engagement_metrics.total_quotes)},{name:'Replys',value:record.engagement_metrics.total_replys,sqrtValue:Math.sqrt(record.engagement_metrics.total_replys),kValue:calculateKValue(record.engagement_metrics.total_replys)}];setChartData(data);}},[record]);var CustomTooltip=function CustomTooltip(_ref2){var active=_ref2.active,payload=_ref2.payload,label=_ref2.label,coordinate=_ref2.coordinate;if(active&&payload&&payload.length){var value=payload[0].payload.value;return/*#__PURE__*/_jsx(\"div\",{className:\"custom-tooltip\",style:{display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'10px',marginRight:'10px',marginLeft:'10px'},children:/*#__PURE__*/_jsxs(\"p\",{className:\"intro\",style:{textAlign:'center'},children:[\"Value: \",value]})})});}return null;};var CustomBarLabel=function CustomBarLabel(_ref3){var x=_ref3.x,y=_ref3.y,value=_ref3.value;return/*#__PURE__*/_jsx(\"text\",{x:x+0,y:y-7,textAnchor:\"start\",fontWeight:\"bold\",children:value});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"table\",{className:\"home-table1\",style:{display:'flex',alignItems:'center',width:'100%',minWidth:'1280px',maxWidth:'1280px'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{colSpan:\"2\",style:{textAlign:'center',position:'relative'},children:/*#__PURE__*/_jsx(\"span\",{style:{position:'relative',top:'3.6px'},children:record===null||record===void 0?void 0:record.topic})})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',marginTop:'40px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',marginLeft:'130px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(\"strong\",{children:record===null||record===void 0?void 0:(_record$engagement_me=record.engagement_metrics)===null||_record$engagement_me===void 0?void 0:_record$engagement_me.total_tweets})}),/*#__PURE__*/_jsx(\"h6\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"h3\",{style:{color:'#76CC9D'},children:/*#__PURE__*/_jsx(\"strong\",{children:record===null||record===void 0?void 0:(_record$sentiment_cou4=record.sentiment_count)===null||_record$sentiment_cou4===void 0?void 0:_record$sentiment_cou4.Positive})}),/*#__PURE__*/_jsx(\"h6\",{children:\"Positive\"}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"h3\",{style:{color:'#FADB7C'},children:/*#__PURE__*/_jsx(\"strong\",{children:record===null||record===void 0?void 0:(_record$sentiment_cou5=record.sentiment_count)===null||_record$sentiment_cou5===void 0?void 0:_record$sentiment_cou5.Neutral})}),/*#__PURE__*/_jsx(\"h6\",{children:\"Neutral\"}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"h3\",{style:{color:'#F46161'},children:/*#__PURE__*/_jsx(\"strong\",{children:record===null||record===void 0?void 0:(_record$sentiment_cou6=record.sentiment_count)===null||_record$sentiment_cou6===void 0?void 0:_record$sentiment_cou6.Negative})}),/*#__PURE__*/_jsx(\"h6\",{children:\"Negative\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'350px',height:'350px',marginLeft:'150px'},children:/*#__PURE__*/_jsx(PieGraphic,{})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center'},children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:450,height:350,children:/*#__PURE__*/_jsxs(BarChart,{layout:\"vertical\",data:chartData,barSize:35,margin:{left:60,right:80,top:4,bottom:20},children:[\" \",/*#__PURE__*/_jsx(XAxis,{type:\"number\",dataKey:\"sqrtValue\",hide:true}),\" \",/*#__PURE__*/_jsx(YAxis,{type:\"category\",dataKey:\"name\",hide:true}),\" \",/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsx(CustomTooltip,{}),wrapperStyle:{backgroundColor:\"white\",border:'1px solid #ccc'}}),/*#__PURE__*/_jsxs(Bar,{dataKey:\"sqrtValue\",fill:\"#8884d8\",children:[/*#__PURE__*/_jsx(LabelList,{dataKey:\"name\",position:\"top\"//offset={4}\n,content:/*#__PURE__*/_jsx(CustomBarLabel,{})}),/*#__PURE__*/_jsx(LabelList,{dataKey:\"kValue\",position:\"right\",formatter:function formatter(value){return\"\".concat(value,\"K\");}})]})]})})})]})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"container text\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-start\",style:{display:'flex',width:'100%',minWidth:'1280px',maxWidth:'1280px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 col-md-4 col-sm-8\",style:{marginRight:'15px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"flex-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-item\",children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsx(\"h3\",{children:\"Trending Tweets Today \"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:selectedFilter===\"top_10_global\"?\"active\":\"\",onClick:function onClick(){return handleFilterChange(\"top_10_global\");},children:\"Global\"}),/*#__PURE__*/_jsx(\"button\",{className:selectedFilter===\"top_10_media\"?\"active\":\"\",onClick:function onClick(){return handleFilterChange(\"top_10_media\");},children:\"With Media\"}),/*#__PURE__*/_jsx(\"button\",{className:selectedFilter===\"top_10_verified\"?\"active\":\"\",onClick:function onClick(){return handleFilterChange(\"top_10_verified\");},children:\"Verified\"}),/*#__PURE__*/_jsx(\"button\",{className:selectedFilter===\"top_10_question\"?\"active\":\"\",onClick:function onClick(){return handleFilterChange(\"top_10_question\");},children:\"Concerns\"})]}),/*#__PURE__*/_jsx(\"br\",{}),filteredTop10.length>0?filteredTop10.map(function(entry,index){return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px',width:'620px',border:'1px solid #ccc',borderRadius:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'flex-start'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginRight:'10px',marginTop:'6px'},children:/*#__PURE__*/_jsx(\"img\",{src:entry.profile_photo,alt:\"Profile\",style:{width:'65px',marginLeft:'5px'}})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"@\",entry.username]}),\" \",entry.verified&&/*#__PURE__*/_jsx(\"img\",{src:verifiedImage,alt:\"Verified\",style:{width:'13px',height:'13px',verticalAlign:'middle',marginBottom:'2px'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'15px',marginRight:'5px'},children:[entry.result,/*#__PURE__*/_jsx(\"br\",{}),entry.media!==null?/*#__PURE__*/_jsx(\"a\",{href:entry.media,target:\"_blank\",rel:\"noopener noreferrer\",children:entry.media}):null]})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:'75px',marginBottom:'5px'},children:[/*#__PURE__*/_jsx(FaEye,{title:\"Impressions\"}),\" \",entry.total_impressions,\" \\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(FaHeart,{title:\"Likes\"}),\" \",entry.total_likes,\" \\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(FaRetweet,{title:\"Retweets\"}),\" \",entry.total_retweets,\" \\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(FaQuoteLeft,{title:\"Quotes\"}),\" \",entry.total_quotes,\" \\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(FaReply,{title:\"Replies\"}),\" \",entry.total_replys,\" \\xA0\\xA0\\xA0\",entry.mentions>1?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FaUser,{title:\"Mentions\"}),\" \",entry.mentions]}):null,/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:'10px',display:'inline-flex',alignItems:'center'},children:[entry.sentiment===\"Positive\"?/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(FaRegSmileBeam,{style:{color:\"#76CC9D\"}}),\" Positive\"]}):null,entry.sentiment===\"Negative\"?/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(FaRegFrown,{style:{color:\"#F46161\"}}),\" Negative\"]}):null,entry.sentiment===\"Neutral\"?/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(FaRegMeh,{style:{color:\"#FADB7C\"}}),\" Neutral\"]}):null]})]})]},index);}):/*#__PURE__*/_jsx(\"p\",{children:\"No data available for the selected filter.\"})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-2 col-md-3 col-sm-4\",style:{marginLeft:'5px',marginTop:'20px',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"600px\",height:\"270px\",marginBottom:'40px'},children:/*#__PURE__*/_jsx(ReactWordcloud,{options:options,words:hashtagsArray})}),/*#__PURE__*/_jsx(Map,{}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"600px\",height:\"270px\",marginTop:'40px'},children:/*#__PURE__*/_jsx(ReactWordcloud,{options:options,words:keywordsArray})})]})]})})]});};export default function Hashtags(){var _useParams=useParams(),topic=_useParams.topic;// State to store the selected filter, defaulting to 'top_10_global'\nvar _useState5=useState(\"top_10_global\"),_useState6=_slicedToArray(_useState5,2),selectedFilter=_useState6[0],setSelectedFilter=_useState6[1];// Declare keywordsArray outside the useEffect hook\nvar _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),record=_useState8[0],setRecord=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),keywordsArray=_useState10[0],setKeywordsArray=_useState10[1];// Initialize it as an empty array\nvar _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),hashtagsArray=_useState12[0],setHashtagsArray=_useState12[1];// Initialize it as an empty array\nuseEffect(function(){function getRecords(){return _getRecords.apply(this,arguments);}function _getRecords(){_getRecords=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,records,matchingRecord,keywords,_keywordsArray,_hashtags,_hashtagsArray;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://bee-aware-08ab5a1c994e.herokuapp.com/statistics/\");case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error(\"An error occurred: \".concat(response.statusText));case 6:_context.next=8;return response.json();case 8:records=_context.sent;matchingRecord=records.find(function(r){return r.topic===topic;});setRecord(matchingRecord||null);// Convert the record.keywords object into an array of keyword objects\nkeywords=(matchingRecord===null||matchingRecord===void 0?void 0:matchingRecord.keywords)||{};_keywordsArray=Object.entries(keywords).map(function(_ref4){var _ref5=_slicedToArray(_ref4,2),keyword=_ref5[0],count=_ref5[1];return{text:keyword,value:count};});setKeywordsArray(_keywordsArray);// Set the keywordsArray state with the converted data\n_hashtags=(matchingRecord===null||matchingRecord===void 0?void 0:matchingRecord.hashtags)||{};_hashtagsArray=Object.entries(_hashtags).map(function(_ref6){var _ref7=_slicedToArray(_ref6,2),hashtag=_ref7[0],count=_ref7[1];return{text:hashtag,value:count};});setHashtagsArray(_hashtagsArray);// \n_context.next=22;break;case 19:_context.prev=19;_context.t0=_context[\"catch\"](0);window.alert(_context.t0.message);case 22:case\"end\":return _context.stop();}}},_callee,null,[[0,19]]);}));return _getRecords.apply(this,arguments);}getRecords();},[topic]);// Function to handle filter change\nvar handleFilterChange=function handleFilterChange(filter){setSelectedFilter(filter);};if(!record){return null;}var hashtags={sentimentCount:record.sentiment_count||{},engagementMetrics:Object.entries(record.engagement_metrics||{}),sentimentPerc:Object.entries(record.sentiment_percentages||{}),top_10_global:record.top_10_global||[],top_10_media:record.top_10_media||[],top_10_verified:record.top_10_verified||[],top_10_question:record.top_10_question||[]};var filteredTop10=[];switch(selectedFilter){case\"top_10_global\":filteredTop10=hashtags.top_10_global;break;case\"top_10_media\":filteredTop10=hashtags.top_10_media;break;case\"top_10_verified\":filteredTop10=hashtags.top_10_verified;break;case\"top_10_question\":filteredTop10=hashtags.top_10_question;break;default:filteredTop10=hashtags.top_10_global;break;}var options={//colors: [\"#1f77b4\", \"#ff7f0e\", \"#2ca02c\", \"#d62728\", \"#9467bd\", \"#8c564b\"],\nenableTooltip:true,deterministic:false,fontFamily:\"impact\",fontSizes:[15,50],fontStyle:\"normal\",fontWeight:\"normal\",padding:1,rotations:0,//rotationAngles: [0, 80],\nscale:\"sqrt\",spiral:\"archimedean\",transitionDuration:1000};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Record,{record:record,hashtags:hashtags,filteredTop10:filteredTop10,selectedFilter:selectedFilter,handleFilterChange:handleFilterChange// Pass the handleFilterChange function\n,options:options,keywordsArray:keywordsArray,hashtagsArray:hashtagsArray})});}","map":{"version":3,"names":["React","useEffect","useState","useParams","verifiedImage","FaHeart","FaRetweet","FaQuoteLeft","FaReply","FaEye","FaUser","FaRegSmileBeam","FaRegFrown","FaRegMeh","Map","BarChart","Bar","XAxis","YAxis","Legend","ResponsiveContainer","LabelList","Label","PieChart","Pie","Cell","Tooltip","ReactWordcloud","Record","record","hashtags","filteredTop10","selectedFilter","handleFilterChange","options","keywordsArray","hashtagsArray","pieData","name","value","sentiment_count","Positive","color","perc","sentiment_percentages","Neutral","Negative","PieGraphic","activeIndex","setActiveIndex","handleMouseEnter","data","index","renderTooltipContent","props","payload","length","entry","marginRight","marginLeft","marginTop","toFixed","map","backgroundColor","border","calculateKValue","kValue","chartData","setChartData","engagement_metrics","total_impressions","sqrtValue","Math","sqrt","total_likes","total_retweets","total_quotes","total_replys","CustomTooltip","active","label","coordinate","display","alignItems","justifyContent","textAlign","CustomBarLabel","x","y","width","minWidth","maxWidth","position","top","topic","flexDirection","total_tweets","height","left","right","bottom","marginBottom","borderRadius","profile_photo","username","verified","verticalAlign","fontSize","result","media","mentions","sentiment","Hashtags","setSelectedFilter","setRecord","setKeywordsArray","setHashtagsArray","getRecords","fetch","response","ok","Error","statusText","json","records","matchingRecord","find","r","keywords","Object","entries","keyword","count","text","hashtag","window","alert","message","filter","sentimentCount","engagementMetrics","sentimentPerc","top_10_global","top_10_media","top_10_verified","top_10_question","enableTooltip","deterministic","fontFamily","fontSizes","fontStyle","fontWeight","padding","rotations","scale","spiral","transitionDuration"],"sources":["C:/Users/ines_/bee_v2/bee_school/frontend/src/views/dashboard/TopicPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from 'react-router-dom';\nimport verifiedImage from '../../assets/images/verified.png';\nimport { FaHeart, FaRetweet, FaQuoteLeft, FaReply, FaEye, FaUser, FaRegSmileBeam, FaRegFrown, FaRegMeh } from 'react-icons/fa';\nimport Map from './Map Topic'\nimport { BarChart, Bar, XAxis, YAxis, Legend, ResponsiveContainer, LabelList, Label, PieChart, Pie, Cell, Tooltip } from \"recharts\";\nimport ReactWordcloud from \"react-wordcloud\"; \nimport 'tippy.js/dist/tippy.css';\nimport 'tippy.js/animations/scale.css'\n\nconst Record = ({ record, hashtags, filteredTop10, selectedFilter, handleFilterChange, options, keywordsArray, hashtagsArray }) => {\n  // Prepare data for the pie chart\n  const pieData = record ? [\n    { name: 'Positive', value: record.sentiment_count?.Positive || 0, color: '#76CC9D', perc: record.sentiment_percentages?.Positive },\n    { name: 'Neutral', value: record.sentiment_count?.Neutral || 0, color: '#FADB7C', perc: record.sentiment_percentages?.Neutral },\n    { name: 'Negative', value: record.sentiment_count?.Negative || 0, color: '#F46161', perc: record.sentiment_percentages?.Negative },\n  ] : [];\n\n  const PieGraphic = () => {\n    const [activeIndex, setActiveIndex] = useState(null);\n\n    const handleMouseEnter = (data, index) => {\n      setActiveIndex(index);\n    };\n\n    const renderTooltipContent = (props) => {\n      const { payload } = props;\n      if (payload && payload.length > 0) {\n        const entry = payload[0];\n        const { name, perc } = entry.payload;\n\n        return (\n          <div style= {{marginRight:'10px', marginLeft:'10px', marginTop:'10px'}}>\n            <p><strong>{name}</strong>: {`${perc.toFixed(2)}%`}</p>\n          </div>\n        );\n      }\n    };\n\n    return (\n      <PieChart width={400} height={400}>\n        <Pie\n          data={pieData}\n          dataKey=\"value\"\n          cx={120}\n          cy={150}\n          innerRadius={75}\n          outerRadius={110}\n          paddingAngle={5}\n          onMouseEnter={handleMouseEnter}\n        >\n          {pieData.map((entry, index) => (\n            <Cell key={index} fill={entry.color} />\n          ))}\n        </Pie>\n        <Tooltip content={renderTooltipContent} active={activeIndex !== null} wrapperStyle={{ backgroundColor: \"white\", border: '1px solid #ccc' }} />\n      </PieChart>\n    );\n  };\n\n  const calculateKValue = (value) => {\n    const kValue = value / 1000;\n    // Use toFixed(1) to display one decimal if the value is less than 1\n    return kValue.toFixed(kValue < 1 ? 1 : 0);\n  };\n\n  const [chartData, setChartData] = useState([]);\n\n  useEffect(() => {\n    if (record && record.engagement_metrics) {\n      const data = [\n        { name: 'Impressions', value: record.engagement_metrics.total_impressions, sqrtValue: Math.sqrt(record.engagement_metrics.total_impressions) * 0.9, kValue: calculateKValue(record.engagement_metrics.total_impressions), },\n        { name: 'Likes', value: record.engagement_metrics.total_likes, sqrtValue: Math.sqrt(record.engagement_metrics.total_likes), kValue: calculateKValue(record.engagement_metrics.total_likes),},\n        { name: 'Retweets', value: record.engagement_metrics.total_retweets, sqrtValue: Math.sqrt(record.engagement_metrics.total_retweets), kValue: calculateKValue(record.engagement_metrics.total_retweets), },\n        { name: 'Quotes', value: record.engagement_metrics.total_quotes, sqrtValue: Math.sqrt(record.engagement_metrics.total_quotes), kValue: calculateKValue(record.engagement_metrics.total_quotes)},\n        { name: 'Replys', value: record.engagement_metrics.total_replys, sqrtValue: Math.sqrt(record.engagement_metrics.total_replys), kValue: calculateKValue(record.engagement_metrics.total_replys) },\n      ];\n      setChartData(data);\n    }\n  }, [record]);\n  \n\n  const CustomTooltip = ({ active, payload, label, coordinate }) => {\n    if (active && payload && payload.length) {\n      const value = payload[0].payload.value;\n      return (\n        <div className=\"custom-tooltip\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n          <div style={{ marginTop: '10px', marginRight: '10px', marginLeft: '10px' }}>\n          <p className=\"intro\" style={{ textAlign: 'center' }}>Value: {value}</p></div>\n        </div>\n      );\n    }\n  \n    return null;\n  };\n\n  const CustomBarLabel = ({ x, y, value }) => (\n    <text x={x + 0} y={y - 7} textAnchor=\"start\" fontWeight=\"bold\">\n      {value}\n    </text>\n  );\n  \n  return (\n    <div >\n      <table className=\"home-table1\" style={{ display: 'flex', alignItems: 'center', width:'100%', minWidth: '1280px', maxWidth:'1280px' }}>\n      <thead>\n        <tr>\n          <th colSpan=\"2\" style={{ textAlign: 'center', position: 'relative' }}>\n            <span style={{ position: 'relative', top: '3.6px' }}>{record?.topic}</span>\n          </th>\n        </tr>\n      </thead>\n      <div>\n        <div style={{ display: 'flex', marginTop: '40px'}}>\n          <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', marginLeft: '130px' }}>\n          <h3><strong>{record?.engagement_metrics?.total_tweets}</strong></h3>\n          <h6>Total</h6>\n          <p></p>\n          <h3 style={{ color: '#76CC9D' }}><strong>{record?.sentiment_count?.Positive}</strong></h3>\n          <h6>Positive</h6>\n          <p></p>\n          <h3 style={{ color: '#FADB7C' }}><strong>{record?.sentiment_count?.Neutral}</strong></h3>\n          <h6>Neutral</h6>\n          <p></p>\n          <h3 style={{ color: '#F46161' }}><strong>{record?.sentiment_count?.Negative}</strong></h3>\n          <h6>Negative</h6>\n        </div>\n        <div style={{ width: '350px', height: '350px', marginLeft: '150px' }}>\n          <PieGraphic />\n          </div>\n          <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n            <ResponsiveContainer width={450} height={350}>\n            <BarChart layout=\"vertical\" data={chartData} barSize={35} margin={{ left: 60, right: 80, top:4, bottom: 20 }}> {/* Adjust the margins */}\n                <XAxis type=\"number\" dataKey=\"sqrtValue\" hide /> {/* Use \"sqrtValue\" for XAxis dataKey */}\n                <YAxis type=\"category\" dataKey=\"name\" hide/> {/* Use \"name\" for YAxis dataKey */}\n                <Tooltip content={<CustomTooltip />} wrapperStyle={{ backgroundColor: \"white\", border: '1px solid #ccc' }} />\n                <Bar dataKey=\"sqrtValue\" fill=\"#8884d8\">\n                  <LabelList\n                    dataKey=\"name\"\n                    position=\"top\"\n                    //offset={4}\n                    content={<CustomBarLabel />}\n                  />\n                  <LabelList\n                    dataKey=\"kValue\"\n                    position=\"right\"\n                    formatter={(value) => `${value}K`}\n                  />\n                </Bar>\n              </BarChart>\n            </ResponsiveContainer>\n          </div>\n          \n        </div>\n      </div>\n      </table>\n      <br></br>\n      \n      <div className=\"container text\" >\n              <div className=\"row align-items-start\" style={{ display: 'flex', width:'100%', minWidth: '1280px', maxWidth:'1280px'}}>\n              <div className=\"col-lg-6 col-md-4 col-sm-8\" style={{marginRight:'15px'}}>\n              <div className=\"flex-container\">\n                  <div className=\"flex-item\">\n                    <div style={{ marginBottom: '20px'}}>\n                  <h3>Trending Tweets Today </h3></div>\n                  <div className=\"filter-buttons\">\n        <button\n          className={selectedFilter === \"top_10_global\" ? \"active\" : \"\"}\n          onClick={() => handleFilterChange(\"top_10_global\")}\n        >\n          Global\n        </button>\n        <button\n          className={selectedFilter === \"top_10_media\" ? \"active\" : \"\"}\n          onClick={() => handleFilterChange(\"top_10_media\")}\n        >\n          With Media\n        </button>\n        <button\n          className={selectedFilter === \"top_10_verified\" ? \"active\" : \"\"}\n          onClick={() => handleFilterChange(\"top_10_verified\")}\n        >\n          Verified\n        </button>\n        <button\n                    className={selectedFilter === \"top_10_question\" ? \"active\" : \"\"}\n                    onClick={() => handleFilterChange(\"top_10_question\")}\n                  >\n                   Concerns\n                  </button>\n      </div>\n      <br></br>\n  {filteredTop10.length > 0 ? (\n    filteredTop10.map((entry, index) => (\n          <div key={index} style={{ marginBottom: '20px', width: '620px', border: '1px solid #ccc', borderRadius: '8px'}}>\n          <div style={{ display: 'flex', alignItems: 'flex-start' }}>\n            <div style={{ marginRight: '10px', marginTop: '6px' }}>\n              <img src={entry.profile_photo} alt=\"Profile\" style={{ width: '65px', marginLeft: '5px' }} />\n            </div>\n            <div style={{ display: 'flex', flexDirection: 'column' }}>\n              <div>\n                <strong>@{entry.username}</strong> {entry.verified && <img src={verifiedImage} alt=\"Verified\" style={{ width: '13px', height: '13px', verticalAlign: 'middle', marginBottom: '2px' }} />}\n              </div>\n              <div style={{ fontSize: '15px', marginRight: '5px' }}>\n                {entry.result}\n                <br />\n                {entry.media !== null ? (\n                <a href={entry.media} target=\"_blank\" rel=\"noopener noreferrer\">\n                  {entry.media}\n                </a>\n              ) : null}\n              </div>\n            </div>\n          </div>\n          <br></br>\n          <div style={{ marginLeft: '75px', marginBottom: '5px'}}>\n            <FaEye title=\"Impressions\" /> {entry.total_impressions} &nbsp;&nbsp;&nbsp;\n            <FaHeart title=\"Likes\" /> {entry.total_likes} &nbsp;&nbsp;&nbsp;\n            <FaRetweet title=\"Retweets\" /> {entry.total_retweets} &nbsp;&nbsp;&nbsp;\n            <FaQuoteLeft title=\"Quotes\" /> {entry.total_quotes} &nbsp;&nbsp;&nbsp;\n            <FaReply title=\"Replies\" /> {entry.total_replys} &nbsp;&nbsp;&nbsp;\n            {entry.mentions > 1 ? <><FaUser title=\"Mentions\" /> {entry.mentions}</> : null}\n\n            <div style={{ marginLeft: '10px', display: 'inline-flex', alignItems: 'center'}}>\n              {entry.sentiment === \"Positive\" ? <p><FaRegSmileBeam style={{ color: \"#76CC9D\" }} /> Positive</p> : null}\n              {entry.sentiment === \"Negative\" ? <p><FaRegFrown style={{ color: \"#F46161\" }} /> Negative</p>: null}\n              {entry.sentiment === \"Neutral\" ? <p><FaRegMeh style={{ color: \"#FADB7C\" }} /> Neutral</p>: null}\n            </div>\n          </div>\n        </div>\n ))\n ) : (\n   <p>No data available for the selected filter.</p>\n )}\n       </div>\n       </div>\n            </div>\n            <div className=\"col-lg-2 col-md-3 col-sm-4\"  style={{ marginLeft:'5px', marginTop: '20px', alignItems:'center'}}>\n              <br></br><br></br>\n              <div style={{ width: \"600px\", height: \"270px\" , marginBottom:'40px'}}>\n      <ReactWordcloud options={options} words={hashtagsArray} />\n      </div>\n        <Map/>\n        \n        <div style={{ width: \"600px\", height: \"270px\", marginTop:'40px' }}>\n      <ReactWordcloud options={options} words={keywordsArray} />\n      </div>\n      </div>\n\n\n    </div>\n</div>\n    </div>\n  );\n};\n\n\nexport default function Hashtags() {\n  const { topic } = useParams();\n\n  // State to store the selected filter, defaulting to 'top_10_global'\n  const [selectedFilter, setSelectedFilter] = useState(\"top_10_global\");\n\n  // Declare keywordsArray outside the useEffect hook\n  const [record, setRecord] = useState(null);\n  const [keywordsArray, setKeywordsArray] = useState([]); // Initialize it as an empty array\n  const [hashtagsArray, setHashtagsArray] = useState([]); // Initialize it as an empty array\n\n  useEffect(() => {\n    async function getRecords() {\n      try {\n        const response = await fetch(\"https://bee-aware-08ab5a1c994e.herokuapp.com/statistics/\");\n        if (!response.ok) {\n          throw new Error(`An error occurred: ${response.statusText}`);\n        }\n        const records = await response.json();\n        const matchingRecord = records.find((r) => r.topic === topic);\n        setRecord(matchingRecord || null);\n\n        // Convert the record.keywords object into an array of keyword objects\n        const keywords = matchingRecord?.keywords || {};\n        const keywordsArray = Object.entries(keywords).map(([keyword, count]) => ({\n          text: keyword,\n          value: count,\n        }));\n\n        setKeywordsArray(keywordsArray); // Set the keywordsArray state with the converted data\n\n        const hashtags = matchingRecord?.hashtags || {};\n        const hashtagsArray = Object.entries(hashtags).map(([hashtag, count]) => ({\n          text: hashtag,\n          value: count,\n        }));\n\n        setHashtagsArray(hashtagsArray); // \n\n      } catch (error) {\n        window.alert(error.message);\n      }\n    }\n\n    getRecords();\n  }, [topic]);\n\n  // Function to handle filter change\n  const handleFilterChange = (filter) => {\n    setSelectedFilter(filter);\n  };\n\n  if (!record) {\n    return null;\n  }\n\n  const hashtags = {\n    sentimentCount: record.sentiment_count || {},\n    engagementMetrics: Object.entries(record.engagement_metrics || {}),\n    sentimentPerc: Object.entries(record.sentiment_percentages || {}),\n    top_10_global: record.top_10_global || [],\n    top_10_media: record.top_10_media || [],\n    top_10_verified: record.top_10_verified || [],\n    top_10_question: record.top_10_question || [],\n  };\n\n  let filteredTop10 = [];\n  switch (selectedFilter) {\n    case \"top_10_global\":\n      filteredTop10 = hashtags.top_10_global;\n      break;\n    case \"top_10_media\":\n      filteredTop10 = hashtags.top_10_media;\n      break;\n    case \"top_10_verified\":\n      filteredTop10 = hashtags.top_10_verified;\n      break;\n    case \"top_10_question\":\n      filteredTop10 = hashtags.top_10_question;\n      break;\n    default:\n      filteredTop10 = hashtags.top_10_global;\n      break;\n    \n  }\n\n  const options = {\n    //colors: [\"#1f77b4\", \"#ff7f0e\", \"#2ca02c\", \"#d62728\", \"#9467bd\", \"#8c564b\"],\n    enableTooltip: true,\n    deterministic: false,\n    fontFamily: \"impact\",\n    fontSizes: [15, 50],\n    fontStyle: \"normal\",\n    fontWeight: \"normal\",\n    padding: 1,\n    rotations: 0,\n    //rotationAngles: [0, 80],\n    scale: \"sqrt\",\n    spiral: \"archimedean\",\n    transitionDuration: 1000\n  };\n\n\n  return (\n    <div>\n      {/* Pass the filteredTop10 data and the handleFilterChange function as props to the Record component */}\n      <Record\n        record={record}\n        hashtags={hashtags}\n        filteredTop10={filteredTop10}\n        selectedFilter={selectedFilter}\n        handleFilterChange={handleFilterChange} // Pass the handleFilterChange function\n        options={options}\n        keywordsArray={keywordsArray}\n        hashtagsArray={hashtagsArray}\n      />\n    </div>\n  )}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}