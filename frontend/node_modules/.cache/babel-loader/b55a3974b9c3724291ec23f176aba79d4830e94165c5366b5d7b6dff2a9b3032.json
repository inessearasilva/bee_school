{"ast":null,"code":"const buildCodedTextInitialValue = (item, pathLabel, initialValues) => {\n  let defaultValue = undefined;\n  let items;\n  if (item.itemsList === undefined || Array.isArray(item.Refset) && item.Refset.length > 0) {\n    items = [];\n  } else {\n    items = item.itemsList;\n  }\n  if (item.constraints !== undefined) {\n    let possibleDefaultValues = [];\n    item.constraints.forEach(obj => {\n      let objs = items.filter(x => x.code === obj.default_value.code);\n      possibleDefaultValues.push(...objs);\n    });\n    if (possibleDefaultValues.length !== 0) {\n      if (item.occurrences.upperOccurrences === 1) {\n        defaultValue = possibleDefaultValues[0]; // objeto\n      } else {\n        defaultValue = possibleDefaultValues; // array\n      }\n    }\n  }\n\n  let value = item.value === null ? \"\" : item.value;\n  if (item.occurrences.upperOccurrences === 1) {\n    initialValues[pathLabel] = value === \"\" && defaultValue !== undefined ? defaultValue : value; // defaultValue já está em objeto\n  } else {\n    if (value === \"\") {\n      initialValues[pathLabel] = defaultValue !== undefined ? defaultValue : []; // defaultValue já está em array\n    } else {\n      initialValues[pathLabel] = value;\n    }\n  }\n};\nexport { buildCodedTextInitialValue };","map":{"version":3,"names":["buildCodedTextInitialValue","item","pathLabel","initialValues","defaultValue","undefined","items","itemsList","Array","isArray","Refset","length","constraints","possibleDefaultValues","forEach","obj","objs","filter","x","code","default_value","push","occurrences","upperOccurrences","value"],"sources":["C:/Users/ines_/fisiosys/frontend/node_modules/protected-aidaforms/dist/containers/Form/FormInitialValues/BuildCodedTextInitialValue/BuildCodedTextInitialValue.js"],"sourcesContent":["const buildCodedTextInitialValue = (item, pathLabel, initialValues) => {\r\n  let defaultValue = undefined;\r\n  let items;\r\n\r\n  if (item.itemsList === undefined || Array.isArray(item.Refset) && item.Refset.length > 0) {\r\n    items = [];\r\n  } else {\r\n    items = item.itemsList;\r\n  }\r\n\r\n  if (item.constraints !== undefined) {\r\n    let possibleDefaultValues = [];\r\n    item.constraints.forEach(obj => {\r\n      let objs = items.filter(x => x.code === obj.default_value.code);\r\n      possibleDefaultValues.push(...objs);\r\n    });\r\n\r\n    if (possibleDefaultValues.length !== 0) {\r\n      if (item.occurrences.upperOccurrences === 1) {\r\n        defaultValue = possibleDefaultValues[0]; // objeto\r\n      } else {\r\n        defaultValue = possibleDefaultValues; // array\r\n      }\r\n    }\r\n  }\r\n\r\n  let value = item.value === null ? \"\" : item.value;\r\n\r\n  if (item.occurrences.upperOccurrences === 1) {\r\n    initialValues[pathLabel] = value === \"\" && defaultValue !== undefined ? defaultValue : value; // defaultValue já está em objeto\r\n  } else {\r\n    if (value === \"\") {\r\n      initialValues[pathLabel] = defaultValue !== undefined ? defaultValue : []; // defaultValue já está em array\r\n    } else {\r\n      initialValues[pathLabel] = value;\r\n    }\r\n  }\r\n};\r\n\r\nexport { buildCodedTextInitialValue };"],"mappings":"AAAA,MAAMA,0BAA0B,GAAG,CAACC,IAAI,EAAEC,SAAS,EAAEC,aAAa,KAAK;EACrE,IAAIC,YAAY,GAAGC,SAAS;EAC5B,IAAIC,KAAK;EAET,IAAIL,IAAI,CAACM,SAAS,KAAKF,SAAS,IAAIG,KAAK,CAACC,OAAO,CAACR,IAAI,CAACS,MAAM,CAAC,IAAIT,IAAI,CAACS,MAAM,CAACC,MAAM,GAAG,CAAC,EAAE;IACxFL,KAAK,GAAG,EAAE;EACZ,CAAC,MAAM;IACLA,KAAK,GAAGL,IAAI,CAACM,SAAS;EACxB;EAEA,IAAIN,IAAI,CAACW,WAAW,KAAKP,SAAS,EAAE;IAClC,IAAIQ,qBAAqB,GAAG,EAAE;IAC9BZ,IAAI,CAACW,WAAW,CAACE,OAAO,CAACC,GAAG,IAAI;MAC9B,IAAIC,IAAI,GAAGV,KAAK,CAACW,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAKJ,GAAG,CAACK,aAAa,CAACD,IAAI,CAAC;MAC/DN,qBAAqB,CAACQ,IAAI,CAAC,GAAGL,IAAI,CAAC;IACrC,CAAC,CAAC;IAEF,IAAIH,qBAAqB,CAACF,MAAM,KAAK,CAAC,EAAE;MACtC,IAAIV,IAAI,CAACqB,WAAW,CAACC,gBAAgB,KAAK,CAAC,EAAE;QAC3CnB,YAAY,GAAGS,qBAAqB,CAAC,CAAC,CAAC,CAAC,CAAC;MAC3C,CAAC,MAAM;QACLT,YAAY,GAAGS,qBAAqB,CAAC,CAAC;MACxC;IACF;EACF;;EAEA,IAAIW,KAAK,GAAGvB,IAAI,CAACuB,KAAK,KAAK,IAAI,GAAG,EAAE,GAAGvB,IAAI,CAACuB,KAAK;EAEjD,IAAIvB,IAAI,CAACqB,WAAW,CAACC,gBAAgB,KAAK,CAAC,EAAE;IAC3CpB,aAAa,CAACD,SAAS,CAAC,GAAGsB,KAAK,KAAK,EAAE,IAAIpB,YAAY,KAAKC,SAAS,GAAGD,YAAY,GAAGoB,KAAK,CAAC,CAAC;EAChG,CAAC,MAAM;IACL,IAAIA,KAAK,KAAK,EAAE,EAAE;MAChBrB,aAAa,CAACD,SAAS,CAAC,GAAGE,YAAY,KAAKC,SAAS,GAAGD,YAAY,GAAG,EAAE,CAAC,CAAC;IAC7E,CAAC,MAAM;MACLD,aAAa,CAACD,SAAS,CAAC,GAAGsB,KAAK;IAClC;EACF;AACF,CAAC;AAED,SAASxB,0BAA0B"},"metadata":{},"sourceType":"module","externalDependencies":[]}