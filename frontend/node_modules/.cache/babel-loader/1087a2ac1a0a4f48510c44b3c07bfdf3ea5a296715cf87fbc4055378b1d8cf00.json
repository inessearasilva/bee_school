{"ast":null,"code":"import objPath from \"object-path\";\nconst replaceValuesJDT = (jdt, composition) => {\n  if (!composition) {\n    // handle the case where composition is undefined or null\n    return jdt;\n  }\n\n  // make a copy of the jdt\n  let newJDT = {\n    ...jdt\n  };\n\n  // regular expression to remove everything in the composition except the itemPath\n  const regex = /((?!value|start|end|date|time|unit).)*/g;\n\n  // get all itemPaths from the composition using the regular expression\n  const compositionKeys = Object.keys(composition).map(key => key.match(regex)[0].slice(0, -1));\n\n  // array to hold the values of selected options\n  const selectedOptionValues = [];\n\n  // iterate through each itemPath in the composition\n  for (let index in compositionKeys) {\n    let itemPath = compositionKeys[index];\n\n    // get the corresponding item in the JDT\n    let obj = objPath.get(newJDT, itemPath);\n\n    // if the item is found, replace its value with the value from the composition\n    if (obj !== undefined) {\n      switch (obj.dataType) {\n        case \"DV_DATE_TIME\":\n          obj.value.date = composition[itemPath.concat(\".value.date\")];\n          obj.value.time = composition[itemPath.concat(\".value.time\")];\n          break;\n        case \"DV_DURATION\":\n        case \"DV_QUANTITY\":\n          obj.value.value = composition[itemPath.concat(\".value.value\")];\n          obj.value.unit = composition[itemPath.concat(\".value.unit\")];\n          break;\n        case \"DV_INTERVAL<DV_DATE>\":\n        case \"DV_INTERVAL<DV_COUNT>\":\n        case \"DV_INTERVAL<DV_TIME>\":\n          obj.value.start = composition[itemPath.concat(\".value.start\")];\n          obj.value.end = composition[itemPath.concat(\".value.end\")];\n          break;\n        case \"DV_INTERVAL<DV_DATE_TIME>\":\n          obj.value.date.start = composition[itemPath.concat(\".value.date.start\")];\n          obj.value.date.end = composition[itemPath.concat(\".value.date.end\")];\n          obj.value.time.start = composition[itemPath.concat(\".value.time.start\")];\n          obj.value.time.end = composition[itemPath.concat(\".value.time.end\")];\n          break;\n        case \"DV_INTERVAL<DV_QUANTITY>\":\n          obj.value.value.start = composition[itemPath.concat(\".value.value.start\")];\n          obj.value.value.end = composition[itemPath.concat(\".value.value.end\")];\n          obj.value.unit = composition[itemPath.concat(\".value.unit\")];\n          break;\n        default:\n          // for all other data types, replace the value property\n          if (composition[itemPath.concat(\".value\")]) {\n            obj.value = composition[itemPath.concat(\".value\")];\n\n            // if the value property is a number, add it to the selectedOptionValues array\n            if (obj.value && typeof obj.value.value === \"number\") {\n              selectedOptionValues.push(obj.value.value);\n            }\n          }\n      }\n    }\n  }\n\n  // calculate the total score by summing the values of selected options\n  const totalScore = selectedOptionValues.reduce((acc, curr) => acc + curr, 0);\n\n  // update the Total Score item in the JDT with the calculated value\n  objPath.set(newJDT, \"items.0.0.items.12.value\", totalScore);\n  if (totalScore < 20) {\n    objPath.set(newJDT, \"items.0.0.items.13.value\", 'Severa');\n  } else if (totalScore > 19 && totalScore < 30) {\n    objPath.set(newJDT, \"items.0.0.items.13.value\", 'Moderada a severa');\n  } else if (totalScore > 29 && totalScore < 40) {\n    objPath.set(newJDT, \"items.0.0.items.13.value\", 'Branda a moderada');\n  } else {\n    objPath.set(newJDT, \"items.0.0.items.13.value\", 'Satisfatória');\n  }\n  return newJDT;\n};\nexport { replaceValuesJDT };","map":{"version":3,"names":["objPath","replaceValuesJDT","jdt","composition","newJDT","regex","compositionKeys","Object","keys","map","key","match","slice","selectedOptionValues","index","itemPath","obj","get","undefined","dataType","value","date","concat","time","unit","start","end","push","totalScore","reduce","acc","curr","set"],"sources":["C:/Users/ines_/fisiosys/frontend/src/views/dashboard/SavedValues.js"],"sourcesContent":["import objPath from \"object-path\";\r\n\r\nconst replaceValuesJDT = (jdt, composition) => {\r\n    if (!composition) {\r\n      // handle the case where composition is undefined or null\r\n      return jdt;\r\n    }\r\n  \r\n    // make a copy of the jdt\r\n    let newJDT = { ...jdt };\r\n  \r\n    // regular expression to remove everything in the composition except the itemPath\r\n    const regex = /((?!value|start|end|date|time|unit).)*/g;\r\n  \r\n    // get all itemPaths from the composition using the regular expression\r\n    const compositionKeys = Object.keys(composition).map((key) =>\r\n      key.match(regex)[0].slice(0, -1)\r\n    );\r\n  \r\n    // array to hold the values of selected options\r\n    const selectedOptionValues = [];\r\n  \r\n    // iterate through each itemPath in the composition\r\n    for (let index in compositionKeys) {\r\n      let itemPath = compositionKeys[index];\r\n  \r\n      // get the corresponding item in the JDT\r\n      let obj = objPath.get(newJDT, itemPath);\r\n  \r\n      // if the item is found, replace its value with the value from the composition\r\n      if (obj !== undefined) {\r\n        switch (obj.dataType) {\r\n          case \"DV_DATE_TIME\":\r\n            obj.value.date = composition[itemPath.concat(\".value.date\")];\r\n            obj.value.time = composition[itemPath.concat(\".value.time\")];\r\n            break;\r\n          case \"DV_DURATION\":\r\n          case \"DV_QUANTITY\":\r\n            obj.value.value = composition[itemPath.concat(\".value.value\")];\r\n            obj.value.unit = composition[itemPath.concat(\".value.unit\")];\r\n            break;\r\n          case \"DV_INTERVAL<DV_DATE>\":\r\n          case \"DV_INTERVAL<DV_COUNT>\":\r\n          case \"DV_INTERVAL<DV_TIME>\":\r\n            obj.value.start = composition[itemPath.concat(\".value.start\")];\r\n            obj.value.end = composition[itemPath.concat(\".value.end\")];\r\n            break;\r\n          case \"DV_INTERVAL<DV_DATE_TIME>\":\r\n            obj.value.date.start = composition[itemPath.concat(\".value.date.start\")];\r\n            obj.value.date.end = composition[itemPath.concat(\".value.date.end\")];\r\n            obj.value.time.start = composition[itemPath.concat(\".value.time.start\")];\r\n            obj.value.time.end = composition[itemPath.concat(\".value.time.end\")];\r\n            break;\r\n          case \"DV_INTERVAL<DV_QUANTITY>\":\r\n            obj.value.value.start = composition[itemPath.concat(\".value.value.start\")];\r\n            obj.value.value.end = composition[itemPath.concat(\".value.value.end\")];\r\n            obj.value.unit = composition[itemPath.concat(\".value.unit\")];\r\n            break;\r\n          default:\r\n            // for all other data types, replace the value property\r\n            if (composition[itemPath.concat(\".value\")]) {\r\n                obj.value = composition[itemPath.concat(\".value\")];\r\n      \r\n                // if the value property is a number, add it to the selectedOptionValues array\r\n                if (obj.value && typeof obj.value.value === \"number\") {\r\n                  selectedOptionValues.push(obj.value.value);\r\n            }\r\n            }\r\n        }\r\n      }\r\n    }\r\n  \r\n    // calculate the total score by summing the values of selected options\r\n    const totalScore = selectedOptionValues.reduce((acc, curr) => acc + curr, 0);\r\n  \r\n    // update the Total Score item in the JDT with the calculated value\r\n    objPath.set(newJDT, \"items.0.0.items.12.value\", totalScore);\r\n\r\n    if (totalScore < 20) {\r\n        objPath.set(newJDT, \"items.0.0.items.13.value\", 'Severa');\r\n    }\r\n    else if (totalScore > 19 && totalScore < 30){\r\n        objPath.set(newJDT, \"items.0.0.items.13.value\", 'Moderada a severa');\r\n    }\r\n    else if (totalScore > 29 && totalScore < 40){\r\n        objPath.set(newJDT, \"items.0.0.items.13.value\", 'Branda a moderada');\r\n    }\r\n    else {\r\n        objPath.set(newJDT, \"items.0.0.items.13.value\", 'Satisfatória');\r\n    }\r\n  \r\n    return newJDT;\r\n  };\r\n  \r\n  export { replaceValuesJDT };\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}