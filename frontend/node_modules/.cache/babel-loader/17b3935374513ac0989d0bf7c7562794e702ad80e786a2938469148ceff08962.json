{"ast":null,"code":"import { EditorState, convertFromRaw, ContentState } from \"draft-js\";\nconst buildTextInitialValue = (item, pathLabel, initialValues) => {\n  if (item.occurrences.upperOccurrences === 1) {\n    if (item.value === null) {\n      initialValues[pathLabel] = EditorState.createEmpty();\n    } else {\n      try {\n        JSON.parse(item.value);\n        initialValues[pathLabel] = EditorState.createWithContent(convertFromRaw(JSON.parse(item.value)));\n      } catch (e) {\n        initialValues[pathLabel] = EditorState.createWithContent(ContentState.createFromText(item.value.toString()));\n      }\n    }\n  } else {\n    if (item.value === null) {\n      initialValues[pathLabel] = [{\n        textId: 0,\n        value: EditorState.createEmpty()\n      }];\n    } else {\n      let array = [];\n      array = item.value.map(obj => {\n        try {\n          JSON.parse(obj.value);\n          return {\n            textId: obj.textId,\n            value: EditorState.createWithContent(convertFromRaw(JSON.parse(obj.value)))\n          };\n        } catch {\n          return {\n            textId: obj.textId,\n            value: EditorState.createWithContent(ContentState.createFromText(obj.value.toString()))\n          };\n        }\n      });\n      initialValues[pathLabel] = array;\n    }\n  }\n};\nexport { buildTextInitialValue };","map":{"version":3,"names":["EditorState","convertFromRaw","ContentState","buildTextInitialValue","item","pathLabel","initialValues","occurrences","upperOccurrences","value","createEmpty","JSON","parse","createWithContent","e","createFromText","toString","textId","array","map","obj"],"sources":["C:/Users/ines_/fisiosys/frontend/node_modules/protected-aidaforms/dist/containers/Form/FormInitialValues/BuildTextInitialValue/BuildTextInitialValue.js"],"sourcesContent":["import { EditorState, convertFromRaw, ContentState } from \"draft-js\";\n\nconst buildTextInitialValue = (item, pathLabel, initialValues) => {\n  if (item.occurrences.upperOccurrences === 1) {\n    if (item.value === null) {\n      initialValues[pathLabel] = EditorState.createEmpty();\n    } else {\n      try {\n        JSON.parse(item.value);\n        initialValues[pathLabel] = EditorState.createWithContent(convertFromRaw(JSON.parse(item.value)));\n      } catch (e) {\n        initialValues[pathLabel] = EditorState.createWithContent(ContentState.createFromText(item.value.toString()));\n      }\n    }\n  } else {\n    if (item.value === null) {\n      initialValues[pathLabel] = [{\n        textId: 0,\n        value: EditorState.createEmpty()\n      }];\n    } else {\n      let array = [];\n      array = item.value.map(obj => {\n        try {\n          JSON.parse(obj.value);\n          return {\n            textId: obj.textId,\n            value: EditorState.createWithContent(convertFromRaw(JSON.parse(obj.value)))\n          };\n        } catch {\n          return {\n            textId: obj.textId,\n            value: EditorState.createWithContent(ContentState.createFromText(obj.value.toString()))\n          };\n        }\n      });\n      initialValues[pathLabel] = array;\n    }\n  }\n};\n\nexport { buildTextInitialValue };"],"mappings":"AAAA,SAASA,WAAW,EAAEC,cAAc,EAAEC,YAAY,QAAQ,UAAU;AAEpE,MAAMC,qBAAqB,GAAG,CAACC,IAAI,EAAEC,SAAS,EAAEC,aAAa,KAAK;EAChE,IAAIF,IAAI,CAACG,WAAW,CAACC,gBAAgB,KAAK,CAAC,EAAE;IAC3C,IAAIJ,IAAI,CAACK,KAAK,KAAK,IAAI,EAAE;MACvBH,aAAa,CAACD,SAAS,CAAC,GAAGL,WAAW,CAACU,WAAW,EAAE;IACtD,CAAC,MAAM;MACL,IAAI;QACFC,IAAI,CAACC,KAAK,CAACR,IAAI,CAACK,KAAK,CAAC;QACtBH,aAAa,CAACD,SAAS,CAAC,GAAGL,WAAW,CAACa,iBAAiB,CAACZ,cAAc,CAACU,IAAI,CAACC,KAAK,CAACR,IAAI,CAACK,KAAK,CAAC,CAAC,CAAC;MAClG,CAAC,CAAC,OAAOK,CAAC,EAAE;QACVR,aAAa,CAACD,SAAS,CAAC,GAAGL,WAAW,CAACa,iBAAiB,CAACX,YAAY,CAACa,cAAc,CAACX,IAAI,CAACK,KAAK,CAACO,QAAQ,EAAE,CAAC,CAAC;MAC9G;IACF;EACF,CAAC,MAAM;IACL,IAAIZ,IAAI,CAACK,KAAK,KAAK,IAAI,EAAE;MACvBH,aAAa,CAACD,SAAS,CAAC,GAAG,CAAC;QAC1BY,MAAM,EAAE,CAAC;QACTR,KAAK,EAAET,WAAW,CAACU,WAAW;MAChC,CAAC,CAAC;IACJ,CAAC,MAAM;MACL,IAAIQ,KAAK,GAAG,EAAE;MACdA,KAAK,GAAGd,IAAI,CAACK,KAAK,CAACU,GAAG,CAACC,GAAG,IAAI;QAC5B,IAAI;UACFT,IAAI,CAACC,KAAK,CAACQ,GAAG,CAACX,KAAK,CAAC;UACrB,OAAO;YACLQ,MAAM,EAAEG,GAAG,CAACH,MAAM;YAClBR,KAAK,EAAET,WAAW,CAACa,iBAAiB,CAACZ,cAAc,CAACU,IAAI,CAACC,KAAK,CAACQ,GAAG,CAACX,KAAK,CAAC,CAAC;UAC5E,CAAC;QACH,CAAC,CAAC,MAAM;UACN,OAAO;YACLQ,MAAM,EAAEG,GAAG,CAACH,MAAM;YAClBR,KAAK,EAAET,WAAW,CAACa,iBAAiB,CAACX,YAAY,CAACa,cAAc,CAACK,GAAG,CAACX,KAAK,CAACO,QAAQ,EAAE,CAAC;UACxF,CAAC;QACH;MACF,CAAC,CAAC;MACFV,aAAa,CAACD,SAAS,CAAC,GAAGa,KAAK;IAClC;EACF;AACF,CAAC;AAED,SAASf,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}