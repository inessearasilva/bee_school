{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/ines_/fisiosys/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/ines_/fisiosys/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"C:/Users/ines_/fisiosys/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport axios from \"axios\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport CombinedContext from \"../../../contexts/CombinedContext\";\nimport ProviderCombinedContext from \"../../../contexts/ProviderCombinedContext\";\nimport \"../../../styles/custom.module.css\";\nimport FieldContainer from \"../../UI/FieldContainer/FieldContainer\";\nimport Label from \"../../UI/Label/Label\";\nimport ValidationError from \"../../UI/ValidationError/ValidationError\";\nimport { handleInternalFunctions } from \"../../../assets/functions/InternalFuntions/handleInternalFunctions\";\nvar RadioBox = function RadioBox(props) {\n  var context = useContext(CombinedContext);\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    items = _useState2[0],\n    setItems = _useState2[1];\n  useEffect(function () {\n    // Se houver um link no Refset, vai buscar os items ao serviço\n    function fetchItems() {\n      return _fetchItems.apply(this, arguments);\n    }\n    function _fetchItems() {\n      _fetchItems = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(Array.isArray(props.refset) && props.refset.length > 0)) {\n                  _context.next = 5;\n                  break;\n                }\n                _context.next = 3;\n                return axios({\n                  method: \"get\",\n                  url: props.refset[0],\n                  headers: {\n                    Authorization: \"Bearer \".concat(context.token)\n                  }\n                }).then(function (res) {\n                  if (res.data.success === true || res.data.success === \"true\") {\n                    setItems(res.data.concepts);\n                  } else {\n                    setItems(props.items);\n                  }\n                }).catch(function (err) {\n                  setItems(props.items);\n                });\n              case 3:\n                _context.next = 6;\n                break;\n              case 5:\n                setItems(props.items);\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _fetchItems.apply(this, arguments);\n    }\n    fetchItems();\n  });\n  var handleChange = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(obj) {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              handleTouch();\n              _context2.next = 3;\n              return context.fields.updateValue(props.pathLabel);\n            case 3:\n              if (!(obj.code === props.value.code)) {\n                _context2.next = 8;\n                break;\n              }\n              _context2.next = 6;\n              return props.onRadioChange(props.pathLabel, \"\");\n            case 6:\n              _context2.next = 10;\n              break;\n            case 8:\n              _context2.next = 10;\n              return props.onRadioChange(props.pathLabel, obj);\n            case 10:\n              if (!(Array.isArray(props.internalFunctions) && props.internalFunctions.length > 0)) {\n                _context2.next = 13;\n                break;\n              }\n              _context2.next = 13;\n              return handleInternalFunctions(props.internalFunctions, props.onRadioChange, context.token, props.values, context.fields);\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return function handleChange(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var handleTouch = function handleTouch() {\n    props.onTouch(props.pathLabel);\n  };\n  var radio = /*#__PURE__*/React.createElement(\"div\", {\n    title: props.description,\n    className: \"flex w-full flex-wrap justify-center items-center\"\n  }, items.map(function (element, index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"flex items-center mx-2 my-2\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onClick: function onClick() {\n        return props.isFieldEditable && handleChange(element);\n      },\n      id: props.pathLabel + element.code,\n      type: \"radio\",\n      className: \"hidden\"\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: props.pathLabel + element.code,\n      style: {\n        fontSize: context.font.fontSize.field\n      },\n      className: \"flex items-center text-gray-700 leading-tight \".concat(props.isFieldEditable ? 'cursor-pointer' : 'cursor-not-allowed')\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        backgroundColor: props.value.code === element.code ? Array.isArray(context.theme) ? context.theme[1] : context.theme.themePalette.$400 : \"transparent\",\n        boxShadow: props.value.code === element.code ? \"0px 0px 0px 2px white inset\" : null\n      },\n      className: \"transform duration-300 w-4 h-4 inline-block mr-1 rounded-full border border-gray-400 \\n                                \".concat(props.isFieldEditable ? 'hover:scale-110' : 'opacity-50')\n    }), element.text));\n  }));\n  return /*#__PURE__*/React.createElement(ProviderCombinedContext, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      order: props.order,\n      width: context.sizes.sizes[props.path] ? context.sizes.sizes[props.path] : \"100%\"\n    },\n    className: \"flex\"\n  }, /*#__PURE__*/React.createElement(FieldContainer, null, /*#__PURE__*/React.createElement(Label, {\n    label: props.label,\n    editMode: props.editMode,\n    showLabel: props.showLabel,\n    optional: props.optional,\n    optionalMandatory: props.optionalMandatory,\n    sectionOccurrence: props.sectionOccurrence\n  }), radio, props.error && /*#__PURE__*/React.createElement(ValidationError, {\n    errorMessage: props.error\n  }))));\n};\nexport default RadioBox;","map":{"version":3,"names":["axios","React","useContext","useEffect","useState","CombinedContext","ProviderCombinedContext","FieldContainer","Label","ValidationError","handleInternalFunctions","RadioBox","props","context","items","setItems","fetchItems","Array","isArray","refset","length","method","url","headers","Authorization","token","then","res","data","success","concepts","catch","err","handleChange","obj","handleTouch","fields","updateValue","pathLabel","code","value","onRadioChange","internalFunctions","values","onTouch","radio","createElement","title","description","className","map","element","index","key","onClick","isFieldEditable","id","type","htmlFor","style","fontSize","font","field","backgroundColor","theme","themePalette","$400","boxShadow","text","order","width","sizes","path","label","editMode","showLabel","optional","optionalMandatory","sectionOccurrence","error","errorMessage"],"sources":["C:/Users/ines_/fisiosys/frontend/node_modules/protected-aidaforms/dist/components/Datatypes/RadioBox/RadioBox.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport CombinedContext from \"../../../contexts/CombinedContext\";\r\nimport ProviderCombinedContext from \"../../../contexts/ProviderCombinedContext\";\r\nimport \"../../../styles/custom.module.css\";\r\nimport FieldContainer from \"../../UI/FieldContainer/FieldContainer\";\r\nimport Label from \"../../UI/Label/Label\";\r\nimport ValidationError from \"../../UI/ValidationError/ValidationError\";\r\nimport { handleInternalFunctions } from \"../../../assets/functions/InternalFuntions/handleInternalFunctions\";\r\n\r\nconst RadioBox = props => {\r\n  const context = useContext(CombinedContext);\r\n  const [items, setItems] = useState([]);\r\n  useEffect(() => {\r\n    // Se houver um link no Refset, vai buscar os items ao serviço\r\n    async function fetchItems() {\r\n      if (Array.isArray(props.refset) && props.refset.length > 0) {\r\n        await axios({\r\n          method: \"get\",\r\n          url: props.refset[0],\r\n          headers: {\r\n            Authorization: `Bearer ${context.token}`\r\n          }\r\n        }).then(res => {\r\n          if (res.data.success === true || res.data.success === \"true\") {\r\n            setItems(res.data.concepts);\r\n          } else {\r\n            setItems(props.items);\r\n          }\r\n        }).catch(err => {\r\n          setItems(props.items);\r\n        });\r\n      } else {\r\n        setItems(props.items);\r\n      }\r\n    }\r\n\r\n    fetchItems();\r\n  });\r\n\r\n  const handleChange = async obj => {\r\n    handleTouch();\r\n    await context.fields.updateValue(props.pathLabel);\r\n\r\n    if (obj.code === props.value.code) {\r\n      await props.onRadioChange(props.pathLabel, \"\");\r\n    } else {\r\n      await props.onRadioChange(props.pathLabel, obj);\r\n    } // Ver se internal functions para processar\r\n\r\n\r\n    if (Array.isArray(props.internalFunctions) && props.internalFunctions.length > 0) {\r\n      await handleInternalFunctions(props.internalFunctions, props.onRadioChange, context.token, props.values, context.fields);\r\n    }\r\n  };\r\n\r\n  const handleTouch = () => {\r\n    props.onTouch(props.pathLabel);\r\n  };\r\n\r\n  let radio = /*#__PURE__*/React.createElement(\"div\", {\r\n    title: props.description,\r\n    className: \"flex w-full flex-wrap justify-center items-center\"\r\n  }, items.map((element, index) => {\r\n    return /*#__PURE__*/React.createElement(\"div\", {\r\n      key: index,\r\n      className: \"flex items-center mx-2 my-2\"\r\n    }, /*#__PURE__*/React.createElement(\"input\", {\r\n      onClick: () => props.isFieldEditable && handleChange(element),\r\n      id: props.pathLabel + element.code,\r\n      type: \"radio\",\r\n      className: \"hidden\"\r\n    }), /*#__PURE__*/React.createElement(\"label\", {\r\n      htmlFor: props.pathLabel + element.code,\r\n      style: {\r\n        fontSize: context.font.fontSize.field\r\n      },\r\n      className: `flex items-center text-gray-700 leading-tight ${props.isFieldEditable ? 'cursor-pointer' : 'cursor-not-allowed'}`\r\n    }, /*#__PURE__*/React.createElement(\"span\", {\r\n      style: {\r\n        backgroundColor: props.value.code === element.code ? Array.isArray(context.theme) ? context.theme[1] : context.theme.themePalette.$400 : \"transparent\",\r\n        boxShadow: props.value.code === element.code ? \"0px 0px 0px 2px white inset\" : null\r\n      },\r\n      className: `transform duration-300 w-4 h-4 inline-block mr-1 rounded-full border border-gray-400 \r\n                                ${props.isFieldEditable ? 'hover:scale-110' : 'opacity-50'}`\r\n    }), element.text));\r\n  }));\r\n  return /*#__PURE__*/React.createElement(ProviderCombinedContext, null, /*#__PURE__*/React.createElement(\"div\", {\r\n    style: {\r\n      order: props.order,\r\n      width: context.sizes.sizes[props.path] ? context.sizes.sizes[props.path] : \"100%\"\r\n    },\r\n    className: \"flex\"\r\n  }, /*#__PURE__*/React.createElement(FieldContainer, null, /*#__PURE__*/React.createElement(Label, {\r\n    label: props.label,\r\n    editMode: props.editMode,\r\n    showLabel: props.showLabel,\r\n    optional: props.optional,\r\n    optionalMandatory: props.optionalMandatory,\r\n    sectionOccurrence: props.sectionOccurrence\r\n  }), radio, props.error && /*#__PURE__*/React.createElement(ValidationError, {\r\n    errorMessage: props.error\r\n  }))));\r\n};\r\n\r\nexport default RadioBox;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}