{"ast":null,"code":"import axios from \"axios\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport CombinedContext from \"../../../contexts/CombinedContext\";\nimport ProviderCombinedContext from \"../../../contexts/ProviderCombinedContext\";\nimport \"../../../styles/custom.module.css\";\nimport FieldContainer from \"../../UI/FieldContainer/FieldContainer\";\nimport Label from \"../../UI/Label/Label\";\nimport ValidationError from \"../../UI/ValidationError/ValidationError\";\nimport { handleInternalFunctions } from \"../../../assets/functions/InternalFuntions/handleInternalFunctions\";\nconst RadioBox = props => {\n  const context = useContext(CombinedContext);\n  const [items, setItems] = useState([]);\n  useEffect(() => {\n    // Se houver um link no Refset, vai buscar os items ao serviço\n    async function fetchItems() {\n      if (Array.isArray(props.refset) && props.refset.length > 0) {\n        await axios({\n          method: \"get\",\n          url: props.refset[0],\n          headers: {\n            Authorization: `Bearer ${context.token}`\n          }\n        }).then(res => {\n          if (res.data.success === true || res.data.success === \"true\") {\n            setItems(res.data.concepts);\n          } else {\n            setItems(props.items);\n          }\n        }).catch(err => {\n          setItems(props.items);\n        });\n      } else {\n        setItems(props.items);\n      }\n    }\n    fetchItems();\n  });\n  const handleChange = async obj => {\n    handleTouch();\n    await context.fields.updateValue(props.pathLabel);\n    if (obj.code === props.value.code) {\n      await props.onRadioChange(props.pathLabel, \"\");\n    } else {\n      await props.onRadioChange(props.pathLabel, obj);\n    } // Ver se internal functions para processar\n\n    if (Array.isArray(props.internalFunctions) && props.internalFunctions.length > 0) {\n      await handleInternalFunctions(props.internalFunctions, props.onRadioChange, context.token, props.values, context.fields);\n    }\n  };\n  const handleTouch = () => {\n    props.onTouch(props.pathLabel);\n  };\n  let radio = /*#__PURE__*/React.createElement(\"div\", {\n    title: props.description,\n    className: \"flex w-full flex-wrap justify-center items-center\"\n  }, items.map((element, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"flex items-center mx-2 my-2\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onClick: () => props.isFieldEditable && handleChange(element),\n      id: props.pathLabel + element.code,\n      type: \"radio\",\n      className: \"hidden\"\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: props.pathLabel + element.code,\n      style: {\n        fontSize: context.font.fontSize.field\n      },\n      className: `flex items-center text-gray-700 leading-tight ${props.isFieldEditable ? 'cursor-pointer' : 'cursor-not-allowed'}`\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        backgroundColor: props.value.code === element.code ? Array.isArray(context.theme) ? context.theme[1] : context.theme.themePalette.$400 : \"transparent\",\n        boxShadow: props.value.code === element.code ? \"0px 0px 0px 2px white inset\" : null\n      },\n      className: `transform duration-300 w-4 h-4 inline-block mr-1 rounded-full border border-gray-400 \n                                ${props.isFieldEditable ? 'hover:scale-110' : 'opacity-50'}`\n    }), element.text));\n  }));\n  return /*#__PURE__*/React.createElement(ProviderCombinedContext, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      order: props.order,\n      width: context.sizes.sizes[props.path] ? context.sizes.sizes[props.path] : \"100%\"\n    },\n    className: \"flex\"\n  }, /*#__PURE__*/React.createElement(FieldContainer, null, /*#__PURE__*/React.createElement(Label, {\n    label: props.label,\n    editMode: props.editMode,\n    showLabel: props.showLabel,\n    optional: props.optional,\n    optionalMandatory: props.optionalMandatory,\n    sectionOccurrence: props.sectionOccurrence\n  }), radio, props.error && /*#__PURE__*/React.createElement(ValidationError, {\n    errorMessage: props.error\n  }))));\n};\nexport default RadioBox;","map":{"version":3,"names":["axios","React","useContext","useEffect","useState","CombinedContext","ProviderCombinedContext","FieldContainer","Label","ValidationError","handleInternalFunctions","RadioBox","props","context","items","setItems","fetchItems","Array","isArray","refset","length","method","url","headers","Authorization","token","then","res","data","success","concepts","catch","err","handleChange","obj","handleTouch","fields","updateValue","pathLabel","code","value","onRadioChange","internalFunctions","values","onTouch","radio","createElement","title","description","className","map","element","index","key","onClick","isFieldEditable","id","type","htmlFor","style","fontSize","font","field","backgroundColor","theme","themePalette","$400","boxShadow","text","order","width","sizes","path","label","editMode","showLabel","optional","optionalMandatory","sectionOccurrence","error","errorMessage"],"sources":["C:/Users/ines_/fisiosys/frontend/node_modules/protected-aidaforms/dist/components/Datatypes/RadioBox/RadioBox.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport CombinedContext from \"../../../contexts/CombinedContext\";\nimport ProviderCombinedContext from \"../../../contexts/ProviderCombinedContext\";\nimport \"../../../styles/custom.module.css\";\nimport FieldContainer from \"../../UI/FieldContainer/FieldContainer\";\nimport Label from \"../../UI/Label/Label\";\nimport ValidationError from \"../../UI/ValidationError/ValidationError\";\nimport { handleInternalFunctions } from \"../../../assets/functions/InternalFuntions/handleInternalFunctions\";\n\nconst RadioBox = props => {\n  const context = useContext(CombinedContext);\n  const [items, setItems] = useState([]);\n  useEffect(() => {\n    // Se houver um link no Refset, vai buscar os items ao serviço\n    async function fetchItems() {\n      if (Array.isArray(props.refset) && props.refset.length > 0) {\n        await axios({\n          method: \"get\",\n          url: props.refset[0],\n          headers: {\n            Authorization: `Bearer ${context.token}`\n          }\n        }).then(res => {\n          if (res.data.success === true || res.data.success === \"true\") {\n            setItems(res.data.concepts);\n          } else {\n            setItems(props.items);\n          }\n        }).catch(err => {\n          setItems(props.items);\n        });\n      } else {\n        setItems(props.items);\n      }\n    }\n\n    fetchItems();\n  });\n\n  const handleChange = async obj => {\n    handleTouch();\n    await context.fields.updateValue(props.pathLabel);\n\n    if (obj.code === props.value.code) {\n      await props.onRadioChange(props.pathLabel, \"\");\n    } else {\n      await props.onRadioChange(props.pathLabel, obj);\n    } // Ver se internal functions para processar\n\n\n    if (Array.isArray(props.internalFunctions) && props.internalFunctions.length > 0) {\n      await handleInternalFunctions(props.internalFunctions, props.onRadioChange, context.token, props.values, context.fields);\n    }\n  };\n\n  const handleTouch = () => {\n    props.onTouch(props.pathLabel);\n  };\n\n  let radio = /*#__PURE__*/React.createElement(\"div\", {\n    title: props.description,\n    className: \"flex w-full flex-wrap justify-center items-center\"\n  }, items.map((element, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"flex items-center mx-2 my-2\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onClick: () => props.isFieldEditable && handleChange(element),\n      id: props.pathLabel + element.code,\n      type: \"radio\",\n      className: \"hidden\"\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: props.pathLabel + element.code,\n      style: {\n        fontSize: context.font.fontSize.field\n      },\n      className: `flex items-center text-gray-700 leading-tight ${props.isFieldEditable ? 'cursor-pointer' : 'cursor-not-allowed'}`\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        backgroundColor: props.value.code === element.code ? Array.isArray(context.theme) ? context.theme[1] : context.theme.themePalette.$400 : \"transparent\",\n        boxShadow: props.value.code === element.code ? \"0px 0px 0px 2px white inset\" : null\n      },\n      className: `transform duration-300 w-4 h-4 inline-block mr-1 rounded-full border border-gray-400 \n                                ${props.isFieldEditable ? 'hover:scale-110' : 'opacity-50'}`\n    }), element.text));\n  }));\n  return /*#__PURE__*/React.createElement(ProviderCombinedContext, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      order: props.order,\n      width: context.sizes.sizes[props.path] ? context.sizes.sizes[props.path] : \"100%\"\n    },\n    className: \"flex\"\n  }, /*#__PURE__*/React.createElement(FieldContainer, null, /*#__PURE__*/React.createElement(Label, {\n    label: props.label,\n    editMode: props.editMode,\n    showLabel: props.showLabel,\n    optional: props.optional,\n    optionalMandatory: props.optionalMandatory,\n    sectionOccurrence: props.sectionOccurrence\n  }), radio, props.error && /*#__PURE__*/React.createElement(ValidationError, {\n    errorMessage: props.error\n  }))));\n};\n\nexport default RadioBox;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}