{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ines_/bee_v2/bee_school/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ines_/bee_v2/bee_school/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ines_/bee_v2/bee_school/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{NavLink}from'react-router-dom';import{CContainer,CHeader,CHeaderBrand,CHeaderDivider,CHeaderNav,CHeaderToggler,CNavLink,CNavItem}from'@coreui/react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Topics=function Topics(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),records=_useState2[0],setRecords=_useState2[1];useEffect(function(){function getRecords(){return _getRecords.apply(this,arguments);}function _getRecords(){_getRecords=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,_records;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://bee-aware-2b421aedee22.herokuapp.com/statistics_general/\");case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error(\"An error occurred: \".concat(response.statusText));case 6:_context.next=8;return response.json();case 8:_records=_context.sent;setRecords(_records);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);window.alert(_context.t0.message);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return _getRecords.apply(this,arguments);}getRecords();},[]);var getFirstTenRecords=function getFirstTenRecords(){// Sort the records based on their values in descending order\nvar sortedRecords=records.sort(function(a,b){return b.value-a.value;});// Slice the first 10 records\nreturn sortedRecords.slice(0,10);};var getFirstTenTopicsEntries=function getFirstTenTopicsEntries(record){// Sort the topics based on their values in descending order\nvar sortedTopics=Object.entries(record.topics).sort(function(a,b){return b[1]-a[1];});// Slice the first 10 topics\nreturn sortedTopics.slice(0,10);};return/*#__PURE__*/_jsx(\"tbody\",{children:getFirstTenRecords().map(function(record){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{style:{padding:'3px',paddingInlineStart:'20px'}})}),getFirstTenTopicsEntries(record).map(function(_ref){var _ref2=_slicedToArray(_ref,2),topic=_ref2[0],value=_ref2[1];return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'5px',paddingInlineStart:'10px',width:'82.5%'},children:/*#__PURE__*/_jsx(NavLink,{to:\"/topics/\".concat(topic),style:{color:'black'},children:topic})}),/*#__PURE__*/_jsx(\"td\",{className:\"qtt-background\",style:{padding:'3px'},children:value})]},topic);}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:\"viewall-background\",style:{padding:'3px'},children:/*#__PURE__*/_jsx(NavLink,{to:\"/all_topics\",style:{textDecoration:'none',color:'inherit',cursor:'pointer'},children:/*#__PURE__*/_jsx(\"strong\",{children:\"View All\"})})})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{style:{padding:'3px',paddingInlineStart:'20px'}})})]},record._id);})});};export default Topics;","map":{"version":3,"names":["React","useEffect","useState","NavLink","CContainer","CHeader","CHeaderBrand","CHeaderDivider","CHeaderNav","CHeaderToggler","CNavLink","CNavItem","Topics","records","setRecords","getRecords","fetch","response","ok","Error","statusText","json","window","alert","message","getFirstTenRecords","sortedRecords","sort","a","b","value","slice","getFirstTenTopicsEntries","record","sortedTopics","Object","entries","topics","map","padding","paddingInlineStart","topic","width","color","textDecoration","cursor","_id"],"sources":["C:/Users/ines_/bee_v2/bee_school/frontend/src/views/dashboard/Topics.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { NavLink } from 'react-router-dom';\nimport {\n  CContainer,\n  CHeader,\n  CHeaderBrand,\n  CHeaderDivider,\n  CHeaderNav,\n  CHeaderToggler,\n  CNavLink,\n  CNavItem,\n} from '@coreui/react';\n\nconst Topics = () => {\n  const [records, setRecords] = useState([]);\n\n  useEffect(() => {\n    async function getRecords() {\n      try {\n        const response = await fetch(\"https://bee-aware-2b421aedee22.herokuapp.com/statistics_general/\");\n        if (!response.ok) {\n          throw new Error(`An error occurred: ${response.statusText}`);\n        }\n        const records = await response.json();\n        setRecords(records);\n      } catch (error) {\n        window.alert(error.message);\n      }\n    }\n\n    getRecords();\n  }, []);\n\n  const getFirstTenRecords = () => {\n    // Sort the records based on their values in descending order\n    const sortedRecords = records.sort((a, b) => b.value - a.value);\n    // Slice the first 10 records\n    return sortedRecords.slice(0, 10);\n  };\n\n  const getFirstTenTopicsEntries = (record) => {\n    // Sort the topics based on their values in descending order\n    const sortedTopics = Object.entries(record.topics).sort((a, b) => b[1] - a[1]);\n    // Slice the first 10 topics\n    return sortedTopics.slice(0, 10);\n  };\n\n  return (\n    <tbody>\n      {getFirstTenRecords().map((record) => (\n        <React.Fragment key={record._id}>\n          <tr>\n            <td style={{ padding: '3px', paddingInlineStart: '20px' }}>\n            </td>\n          </tr>\n          {getFirstTenTopicsEntries(record).map(([topic, value]) => (\n            <tr key={topic}>\n              <td style={{ padding: '5px', paddingInlineStart: '10px', width:'82.5%' }}>\n                <NavLink to={`/topics/${topic}`} style={{color: 'black'}}>\n                  {topic}\n                </NavLink>\n              </td>\n              <td className=\"qtt-background\" style={{ padding: '3px' }}>\n                {value}\n              </td>\n            </tr>\n          ))}\n          <tr>\n            <td className=\"viewall-background\" style={{ padding: '3px' }}>\n              <NavLink to=\"/all_topics\" style={{ textDecoration: 'none', color: 'inherit', cursor: 'pointer' }}>\n                <strong>View All</strong>\n              </NavLink>\n            </td>\n          </tr>\n          <tr>\n            <td style={{ padding: '3px', paddingInlineStart: '20px' }}>\n            </td>\n          </tr>\n        </React.Fragment>\n      ))}\n    </tbody>\n  );\n};\n\nexport default Topics;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}