{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/ines_/fisiosys/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _objectSpread from \"C:/Users/ines_/fisiosys/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"C:/Users/ines_/fisiosys/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _toConsumableArray from \"C:/Users/ines_/fisiosys/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport ob from \"object-path\";\nvar template = {};\nvar fields = [];\nvar buildSection = function buildSection(item, pathArray) {\n  item.items.map(function (subItem, subItemIndex) {\n    var array = [];\n    array.push(\"items\", subItemIndex);\n    return buildItem(subItem, pathArray.concat(array));\n  });\n};\nvar buildItem = function buildItem(item, pathArray) {\n  if (item.data_type === \"Title\") {\n    return buildSection(item, pathArray);\n  } else {\n    if (Array.isArray(item)) {\n      item.forEach(function (itemAny, itemAnyIndex) {\n        var pathSection = _toConsumableArray(pathArray);\n        pathSection.pop();\n        pathSection.pop();\n        var section = ob.get(template, pathSection);\n        var sectionName = section.node ? section.node.text : \"\";\n        var array = [];\n        array.push(itemAnyIndex);\n        var newPath = pathArray.concat(array);\n        var path = newPath.join(\".\");\n        fields.push({\n          path: path,\n          name: itemAny.node ? \"\".concat(sectionName, \" - \").concat(itemAny.node.text) : \"\",\n          datatype: itemAny.dataType,\n          upperOccurrences: itemAny.occurrences.upperOccurrences\n        });\n      });\n    } else {\n      var pathSection = _toConsumableArray(pathArray);\n      pathSection.pop();\n      pathSection.pop();\n      var section = ob.get(template, pathSection);\n      var sectionName = section.node ? section.node.text : \"\";\n      var path = pathArray.join(\".\");\n      fields.push({\n        path: path,\n        name: item.node ? \"\".concat(sectionName, \" - \").concat(item.node.text) : \"\",\n        datatype: item.dataType,\n        upperOccurrences: item.occurrences.upperOccurrences\n      });\n    }\n  }\n};\nvar getFormFields = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(temp) {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _objectSpread({}, temp);\n          case 2:\n            template = _context.sent;\n            fields = [];\n            template.items.map(function (attribute, index) {\n              return attribute.map(function (att, attIndex) {\n                var array = [];\n                array.push(\"items\", index, attIndex);\n                return buildItem(att, array);\n              });\n            });\n            return _context.abrupt(\"return\", fields);\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function getFormFields(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport { getFormFields };","map":{"version":3,"names":["ob","template","fields","buildSection","item","pathArray","items","map","subItem","subItemIndex","array","push","buildItem","concat","data_type","Array","isArray","forEach","itemAny","itemAnyIndex","pathSection","pop","section","get","sectionName","node","text","newPath","path","join","name","datatype","dataType","upperOccurrences","occurrences","getFormFields","temp","attribute","index","att","attIndex"],"sources":["C:/Users/ines_/fisiosys/frontend/node_modules/protected-aidaforms/dist/assets/functions/GetFormFields/getFormFields.js"],"sourcesContent":["import ob from \"object-path\";\r\nlet template = {};\r\nlet fields = [];\r\n\r\nconst buildSection = (item, pathArray) => {\r\n  item.items.map((subItem, subItemIndex) => {\r\n    let array = [];\r\n    array.push(\"items\", subItemIndex);\r\n    return buildItem(subItem, pathArray.concat(array));\r\n  });\r\n};\r\n\r\nconst buildItem = (item, pathArray) => {\r\n  if (item.data_type === \"Title\") {\r\n    return buildSection(item, pathArray);\r\n  } else {\r\n    if (Array.isArray(item)) {\r\n      item.forEach((itemAny, itemAnyIndex) => {\r\n        const pathSection = [...pathArray];\r\n        pathSection.pop();\r\n        pathSection.pop();\r\n        const section = ob.get(template, pathSection);\r\n        const sectionName = section.node ? section.node.text : \"\";\r\n        let array = [];\r\n        array.push(itemAnyIndex);\r\n        const newPath = pathArray.concat(array);\r\n        const path = newPath.join(\".\");\r\n        fields.push({\r\n          path: path,\r\n          name: itemAny.node ? `${sectionName} - ${itemAny.node.text}` : \"\",\r\n          datatype: itemAny.dataType,\r\n          upperOccurrences: itemAny.occurrences.upperOccurrences\r\n        });\r\n      });\r\n    } else {\r\n      const pathSection = [...pathArray];\r\n      pathSection.pop();\r\n      pathSection.pop();\r\n      const section = ob.get(template, pathSection);\r\n      const sectionName = section.node ? section.node.text : \"\";\r\n      const path = pathArray.join(\".\");\r\n      fields.push({\r\n        path: path,\r\n        name: item.node ? `${sectionName} - ${item.node.text}` : \"\",\r\n        datatype: item.dataType,\r\n        upperOccurrences: item.occurrences.upperOccurrences\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\nconst getFormFields = async temp => {\r\n  template = await { ...temp\r\n  };\r\n  fields = [];\r\n  template.items.map((attribute, index) => {\r\n    return attribute.map((att, attIndex) => {\r\n      let array = [];\r\n      array.push(\"items\", index, attIndex);\r\n      return buildItem(att, array);\r\n    });\r\n  });\r\n  return fields;\r\n};\r\n\r\nexport { getFormFields };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}