{"ast":null,"code":"import { EditorState, convertFromRaw, ContentState } from \"draft-js\";\nvar buildTextInitialValue = function buildTextInitialValue(item, pathLabel, initialValues) {\n  if (item.occurrences.upperOccurrences === 1) {\n    if (item.value === null) {\n      initialValues[pathLabel] = EditorState.createEmpty();\n    } else {\n      try {\n        JSON.parse(item.value);\n        initialValues[pathLabel] = EditorState.createWithContent(convertFromRaw(JSON.parse(item.value)));\n      } catch (e) {\n        initialValues[pathLabel] = EditorState.createWithContent(ContentState.createFromText(item.value.toString()));\n      }\n    }\n  } else {\n    if (item.value === null) {\n      initialValues[pathLabel] = [{\n        textId: 0,\n        value: EditorState.createEmpty()\n      }];\n    } else {\n      var array = [];\n      array = item.value.map(function (obj) {\n        try {\n          JSON.parse(obj.value);\n          return {\n            textId: obj.textId,\n            value: EditorState.createWithContent(convertFromRaw(JSON.parse(obj.value)))\n          };\n        } catch (_unused) {\n          return {\n            textId: obj.textId,\n            value: EditorState.createWithContent(ContentState.createFromText(obj.value.toString()))\n          };\n        }\n      });\n      initialValues[pathLabel] = array;\n    }\n  }\n};\nexport { buildTextInitialValue };","map":{"version":3,"names":["EditorState","convertFromRaw","ContentState","buildTextInitialValue","item","pathLabel","initialValues","occurrences","upperOccurrences","value","createEmpty","JSON","parse","createWithContent","e","createFromText","toString","textId","array","map","obj"],"sources":["C:/Users/ines_/fisiosys/frontend/node_modules/protected-aidaforms/dist/containers/Form/FormInitialValues/BuildTextInitialValue/BuildTextInitialValue.js"],"sourcesContent":["import { EditorState, convertFromRaw, ContentState } from \"draft-js\";\r\n\r\nconst buildTextInitialValue = (item, pathLabel, initialValues) => {\r\n  if (item.occurrences.upperOccurrences === 1) {\r\n    if (item.value === null) {\r\n      initialValues[pathLabel] = EditorState.createEmpty();\r\n    } else {\r\n      try {\r\n        JSON.parse(item.value);\r\n        initialValues[pathLabel] = EditorState.createWithContent(convertFromRaw(JSON.parse(item.value)));\r\n      } catch (e) {\r\n        initialValues[pathLabel] = EditorState.createWithContent(ContentState.createFromText(item.value.toString()));\r\n      }\r\n    }\r\n  } else {\r\n    if (item.value === null) {\r\n      initialValues[pathLabel] = [{\r\n        textId: 0,\r\n        value: EditorState.createEmpty()\r\n      }];\r\n    } else {\r\n      let array = [];\r\n      array = item.value.map(obj => {\r\n        try {\r\n          JSON.parse(obj.value);\r\n          return {\r\n            textId: obj.textId,\r\n            value: EditorState.createWithContent(convertFromRaw(JSON.parse(obj.value)))\r\n          };\r\n        } catch {\r\n          return {\r\n            textId: obj.textId,\r\n            value: EditorState.createWithContent(ContentState.createFromText(obj.value.toString()))\r\n          };\r\n        }\r\n      });\r\n      initialValues[pathLabel] = array;\r\n    }\r\n  }\r\n};\r\n\r\nexport { buildTextInitialValue };"],"mappings":"AAAA,SAASA,WAAW,EAAEC,cAAc,EAAEC,YAAY,QAAQ,UAAU;AAEpE,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAqB,CAAIC,IAAI,EAAEC,SAAS,EAAEC,aAAa,EAAK;EAChE,IAAIF,IAAI,CAACG,WAAW,CAACC,gBAAgB,KAAK,CAAC,EAAE;IAC3C,IAAIJ,IAAI,CAACK,KAAK,KAAK,IAAI,EAAE;MACvBH,aAAa,CAACD,SAAS,CAAC,GAAGL,WAAW,CAACU,WAAW,EAAE;IACtD,CAAC,MAAM;MACL,IAAI;QACFC,IAAI,CAACC,KAAK,CAACR,IAAI,CAACK,KAAK,CAAC;QACtBH,aAAa,CAACD,SAAS,CAAC,GAAGL,WAAW,CAACa,iBAAiB,CAACZ,cAAc,CAACU,IAAI,CAACC,KAAK,CAACR,IAAI,CAACK,KAAK,CAAC,CAAC,CAAC;MAClG,CAAC,CAAC,OAAOK,CAAC,EAAE;QACVR,aAAa,CAACD,SAAS,CAAC,GAAGL,WAAW,CAACa,iBAAiB,CAACX,YAAY,CAACa,cAAc,CAACX,IAAI,CAACK,KAAK,CAACO,QAAQ,EAAE,CAAC,CAAC;MAC9G;IACF;EACF,CAAC,MAAM;IACL,IAAIZ,IAAI,CAACK,KAAK,KAAK,IAAI,EAAE;MACvBH,aAAa,CAACD,SAAS,CAAC,GAAG,CAAC;QAC1BY,MAAM,EAAE,CAAC;QACTR,KAAK,EAAET,WAAW,CAACU,WAAW;MAChC,CAAC,CAAC;IACJ,CAAC,MAAM;MACL,IAAIQ,KAAK,GAAG,EAAE;MACdA,KAAK,GAAGd,IAAI,CAACK,KAAK,CAACU,GAAG,CAAC,UAAAC,GAAG,EAAI;QAC5B,IAAI;UACFT,IAAI,CAACC,KAAK,CAACQ,GAAG,CAACX,KAAK,CAAC;UACrB,OAAO;YACLQ,MAAM,EAAEG,GAAG,CAACH,MAAM;YAClBR,KAAK,EAAET,WAAW,CAACa,iBAAiB,CAACZ,cAAc,CAACU,IAAI,CAACC,KAAK,CAACQ,GAAG,CAACX,KAAK,CAAC,CAAC;UAC5E,CAAC;QACH,CAAC,CAAC,gBAAM;UACN,OAAO;YACLQ,MAAM,EAAEG,GAAG,CAACH,MAAM;YAClBR,KAAK,EAAET,WAAW,CAACa,iBAAiB,CAACX,YAAY,CAACa,cAAc,CAACK,GAAG,CAACX,KAAK,CAACO,QAAQ,EAAE,CAAC;UACxF,CAAC;QACH;MACF,CAAC,CAAC;MACFV,aAAa,CAACD,SAAS,CAAC,GAAGa,KAAK;IAClC;EACF;AACF,CAAC;AAED,SAASf,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}