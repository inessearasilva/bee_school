{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ines_\\\\bee_v2\\\\bee_school\\\\frontend\\\\src\\\\views\\\\dashboard\\\\Desmistificacao.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { ReactTinyLink } from 'react-tiny-link';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Hashtags() {\n  _s();\n  const [records, setRecords] = useState([]);\n  useEffect(() => {\n    async function getRecords() {\n      try {\n        const response = await fetch(\"http://localhost:5050/links/\");\n        if (!response.ok) {\n          throw new Error(`An error occurred: ${response.statusText}`);\n        }\n        const records = await response.json();\n        setRecords(records);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n        window.alert(error.message);\n      }\n    }\n    getRecords();\n  }, []);\n  const getFirstTenRecords = () => records.slice(0, 10);\n  const fetchOpenGraphData = async (html, url) => {\n    const {\n      parse\n    } = require(\"open-graph-scraper\");\n    const options = {\n      html,\n      url\n    };\n    try {\n      const {\n        data\n      } = await parse(options);\n      return data;\n    } catch (error) {\n      console.error(\"Error parsing Open Graph data:\", error);\n      return {};\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: getFirstTenRecords().map(record => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Title: \", record.title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Topic: \", record.main_topic]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Description: \", record.description]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ReactTinyLink, {\n        cardSize: \"small\",\n        showGraphic: true,\n        maxLine: 2,\n        minLine: 1,\n        url: record.url\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), record.url && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Link Preview:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(LinkPreview, {\n          url: record.url\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)]\n    }, record._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(Hashtags, \"2hVe065MKzxnAZ4C3qrhRP61L3w=\");\n_c = Hashtags;\nfunction LinkPreview(_ref) {\n  _s2();\n  let {\n    url\n  } = _ref;\n  const [previewData, setPreviewData] = useState(null);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(`https://cors-anywhere.herokuapp.com/${url}`);\n        const html = response.data;\n        const openGraphData = await fetchOpenGraphData(html, url);\n        setPreviewData(openGraphData);\n      } catch (error) {\n        console.error('Error fetching link preview data:', error);\n      }\n    };\n    fetchData();\n  }, [url]);\n  if (!previewData) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"link-preview\",\n    children: [previewData.ogImage && /*#__PURE__*/_jsxDEV(\"img\", {\n      src: previewData.ogImage.url,\n      alt: \"Link Preview\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 31\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: previewData.ogTitle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: previewData.ogDescription\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n_s2(LinkPreview, \"4wI4w1YbTo3stop/q4UWmQQZhSE=\");\n_c2 = LinkPreview;\nvar _c, _c2;\n$RefreshReg$(_c, \"Hashtags\");\n$RefreshReg$(_c2, \"LinkPreview\");","map":{"version":3,"names":["React","useEffect","useState","axios","ReactTinyLink","Hashtags","records","setRecords","getRecords","response","fetch","ok","Error","statusText","json","error","console","window","alert","message","getFirstTenRecords","slice","fetchOpenGraphData","html","url","parse","require","options","data","map","record","title","main_topic","description","_id","LinkPreview","previewData","setPreviewData","fetchData","get","openGraphData","ogImage","ogTitle","ogDescription"],"sources":["C:/Users/ines_/bee_v2/bee_school/frontend/src/views/dashboard/Desmistificacao.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { ReactTinyLink } from 'react-tiny-link'\r\n\r\nexport default function Hashtags() {\r\n  const [records, setRecords] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function getRecords() {\r\n      try {\r\n        const response = await fetch(\"http://localhost:5050/links/\");\r\n        if (!response.ok) {\r\n          throw new Error(`An error occurred: ${response.statusText}`);\r\n        }\r\n        const records = await response.json();\r\n        setRecords(records);\r\n      } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n        window.alert(error.message);\r\n      }\r\n    }\r\n    getRecords();\r\n  }, []);\r\n\r\n  const getFirstTenRecords = () => records.slice(0, 10);\r\n\r\n  const fetchOpenGraphData = async (html, url) => {\r\n    const { parse } = require(\"open-graph-scraper\");\r\n    const options = { html, url };\r\n\r\n    try {\r\n      const { data } = await parse(options);\r\n      return data;\r\n    } catch (error) {\r\n      console.error(\"Error parsing Open Graph data:\", error);\r\n      return {};\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {getFirstTenRecords().map((record) => (\r\n        <div key={record._id}>\r\n          <h3>Title: {record.title}</h3>\r\n          <p>Topic: {record.main_topic}</p>\r\n          <p>Description: {record.description}</p>\r\n          <ReactTinyLink cardSize=\"small\" showGraphic={true} maxLine={2} minLine={1} url={record.url} />\r\n          {record.url && (\r\n            <div>\r\n              <h4>Link Preview:</h4>\r\n              <LinkPreview url={record.url} />\r\n            </div>\r\n          )}\r\n          <br />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction LinkPreview({ url }) {\r\n  const [previewData, setPreviewData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await axios.get(`https://cors-anywhere.herokuapp.com/${url}`);\r\n        const html = response.data;\r\n        const openGraphData = await fetchOpenGraphData(html, url);\r\n        setPreviewData(openGraphData);\r\n      } catch (error) {\r\n        console.error('Error fetching link preview data:', error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [url]);\r\n\r\n  if (!previewData) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"link-preview\">\r\n      {previewData.ogImage && <img src={previewData.ogImage.url} alt=\"Link Preview\" />}\r\n      <h4>{previewData.ogTitle}</h4>\r\n      <p>{previewData.ogDescription}</p>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}