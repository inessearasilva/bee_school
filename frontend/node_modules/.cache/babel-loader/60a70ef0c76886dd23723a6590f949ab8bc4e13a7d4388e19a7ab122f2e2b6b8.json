{"ast":null,"code":"import { handleIsVisible } from \"../HandleTasks/handleIsVisible\";\nconst handleSectionValidationDataType = (item, pathArray, array, professionalTasks) => {\n  let isVisible;\n  if (!item.TaskVisible) {\n    isVisible = false;\n  } else {\n    isVisible = handleIsVisible(item, professionalTasks);\n  }\n  if (isVisible) {\n    if (item.dataType === \"DV_TEXT\" || item.dataType === \"DV_BOOLEAN\" || item.dataType === \"DV_CODED_TEXT\" || item.dataType === \"DV_DATE\" || item.dataType === \"DV_TIME\" || item.dataType === \"DV_COUNT\" || item.dataType === \"DV_IDENTIFIER\" || item.dataType === \"DV_MULTIMEDIA\" || item.dataType === \"DV_ORDINAL\" || item.dataType === \"DV_PROPORTION\") {\n      let value = [...array, \"value\"];\n      return pathArray.concat(value).join(\"-\");\n    } else if (item.dataType === \"DV_QUANTITY\" || item.dataType === \"DV_DURATION\") {\n      let unit = [...array, \"value\", \"unit\"];\n      let value = [...array, \"value\", \"value\"];\n      return [pathArray.concat(value).join(\"-\"), pathArray.concat(unit).join(\"-\")];\n    } else if (item.dataType === \"DV_DATE_TIME\") {\n      let date = [...array, \"value\", \"date\"];\n      let time = [...array, \"value\", \"time\"];\n      return [pathArray.concat(date).join(\"-\"), pathArray.concat(time).join(\"-\")];\n    } else if (item.dataType === \"DV_INTERVAL<DV_DATE>\" || item.dataType === \"DV_INTERVAL<DV_TIME>\" || item.dataType === \"DV_INTERVAL<DV_COUNT>\") {\n      let end = [...array, \"value\", \"end\"];\n      let start = [...array, \"value\", \"start\"];\n      return [pathArray.concat(start).join(\"-\"), pathArray.concat(end).join(\"-\")];\n    } else if (item.dataType === \"DV_INTERVAL<DV_DATE_TIME>\") {\n      let endDate = [...array, \"value\", \"date\", \"end\"];\n      let startDate = [...array, \"value\", \"date\", \"start\"];\n      let endTime = [...array, \"value\", \"time\", \"end\"];\n      let startTime = [...array, \"value\", \"time\", \"start\"];\n      return [pathArray.concat(startDate).join(\"-\"), pathArray.concat(endDate).join(\"-\"), pathArray.concat(endTime).join(\"-\"), pathArray.concat(startTime).join(\"-\")];\n    } else if (item.dataType === \"DV_INTERVAL<DV_QUANTITY>\") {\n      let end = [...array, \"value\", \"value\", \"end\"];\n      let start = [...array, \"value\", \"value\", \"start\"];\n      let unit = [...array, \"value\", \"unit\"];\n      return [pathArray.concat(start).join(\"-\"), pathArray.concat(end).join(\"-\"), pathArray.concat(unit).join(\"-\")];\n    }\n  }\n};\nconst handleSectionValidationAny = (item, pathArray, array, professionalTasks) => {\n  let paths = item.map((subItem, index) => {\n    return handleSectionValidationDataType(subItem, pathArray, [...array, index], professionalTasks);\n  });\n  return paths;\n};\nconst handleSectionValidationItem = (item, pathArray, array, professionalTasks) => {\n  let paths = item.items.map((subItem, subItemIndex) => {\n    if (subItem.data_type === \"Title\") {\n      return handleSectionValidationItem(subItem, pathArray, [...array, \"items\", subItemIndex], professionalTasks);\n    } else {\n      if (Array.isArray(subItem)) {\n        return handleSectionValidationAny(subItem, pathArray, [...array, \"items\", subItemIndex], professionalTasks);\n      } else {\n        return handleSectionValidationDataType(subItem, pathArray, [...array, \"items\", subItemIndex], professionalTasks);\n      }\n    }\n  });\n  return paths;\n};\nconst handleSectionValidation = (item, pathArray, professionalTasks) => {\n  let itemsPaths = item.items.map((item, index) => {\n    if (item.data_type === \"Title\") {\n      return handleSectionValidationItem(item, pathArray, [\"items\", index], professionalTasks);\n    } else {\n      if (Array.isArray(item)) {\n        return handleSectionValidationAny(item, pathArray, [\"items\", index], professionalTasks);\n      } else {\n        return handleSectionValidationDataType(item, pathArray, [\"items\", index], professionalTasks);\n      }\n    }\n  });\n  const processed = itemsPaths.toString().split(\",\");\n  return processed.filter(x => x !== \"\");\n};\nexport { handleSectionValidation };","map":{"version":3,"names":["handleIsVisible","handleSectionValidationDataType","item","pathArray","array","professionalTasks","isVisible","TaskVisible","dataType","value","concat","join","unit","date","time","end","start","endDate","startDate","endTime","startTime","handleSectionValidationAny","paths","map","subItem","index","handleSectionValidationItem","items","subItemIndex","data_type","Array","isArray","handleSectionValidation","itemsPaths","processed","toString","split","filter","x"],"sources":["C:/Users/ines_/fisiosys/frontend/node_modules/protected-aidaforms/dist/assets/functions/HandleSectionValidation/handleSectionValidation.js"],"sourcesContent":["import { handleIsVisible } from \"../HandleTasks/handleIsVisible\";\r\n\r\nconst handleSectionValidationDataType = (item, pathArray, array, professionalTasks) => {\r\n  let isVisible;\r\n\r\n  if (!item.TaskVisible) {\r\n    isVisible = false;\r\n  } else {\r\n    isVisible = handleIsVisible(item, professionalTasks);\r\n  }\r\n\r\n  if (isVisible) {\r\n    if (item.dataType === \"DV_TEXT\" || item.dataType === \"DV_BOOLEAN\" || item.dataType === \"DV_CODED_TEXT\" || item.dataType === \"DV_DATE\" || item.dataType === \"DV_TIME\" || item.dataType === \"DV_COUNT\" || item.dataType === \"DV_IDENTIFIER\" || item.dataType === \"DV_MULTIMEDIA\" || item.dataType === \"DV_ORDINAL\" || item.dataType === \"DV_PROPORTION\") {\r\n      let value = [...array, \"value\"];\r\n      return pathArray.concat(value).join(\"-\");\r\n    } else if (item.dataType === \"DV_QUANTITY\" || item.dataType === \"DV_DURATION\") {\r\n      let unit = [...array, \"value\", \"unit\"];\r\n      let value = [...array, \"value\", \"value\"];\r\n      return [pathArray.concat(value).join(\"-\"), pathArray.concat(unit).join(\"-\")];\r\n    } else if (item.dataType === \"DV_DATE_TIME\") {\r\n      let date = [...array, \"value\", \"date\"];\r\n      let time = [...array, \"value\", \"time\"];\r\n      return [pathArray.concat(date).join(\"-\"), pathArray.concat(time).join(\"-\")];\r\n    } else if (item.dataType === \"DV_INTERVAL<DV_DATE>\" || item.dataType === \"DV_INTERVAL<DV_TIME>\" || item.dataType === \"DV_INTERVAL<DV_COUNT>\") {\r\n      let end = [...array, \"value\", \"end\"];\r\n      let start = [...array, \"value\", \"start\"];\r\n      return [pathArray.concat(start).join(\"-\"), pathArray.concat(end).join(\"-\")];\r\n    } else if (item.dataType === \"DV_INTERVAL<DV_DATE_TIME>\") {\r\n      let endDate = [...array, \"value\", \"date\", \"end\"];\r\n      let startDate = [...array, \"value\", \"date\", \"start\"];\r\n      let endTime = [...array, \"value\", \"time\", \"end\"];\r\n      let startTime = [...array, \"value\", \"time\", \"start\"];\r\n      return [pathArray.concat(startDate).join(\"-\"), pathArray.concat(endDate).join(\"-\"), pathArray.concat(endTime).join(\"-\"), pathArray.concat(startTime).join(\"-\")];\r\n    } else if (item.dataType === \"DV_INTERVAL<DV_QUANTITY>\") {\r\n      let end = [...array, \"value\", \"value\", \"end\"];\r\n      let start = [...array, \"value\", \"value\", \"start\"];\r\n      let unit = [...array, \"value\", \"unit\"];\r\n      return [pathArray.concat(start).join(\"-\"), pathArray.concat(end).join(\"-\"), pathArray.concat(unit).join(\"-\")];\r\n    }\r\n  }\r\n};\r\n\r\nconst handleSectionValidationAny = (item, pathArray, array, professionalTasks) => {\r\n  let paths = item.map((subItem, index) => {\r\n    return handleSectionValidationDataType(subItem, pathArray, [...array, index], professionalTasks);\r\n  });\r\n  return paths;\r\n};\r\n\r\nconst handleSectionValidationItem = (item, pathArray, array, professionalTasks) => {\r\n  let paths = item.items.map((subItem, subItemIndex) => {\r\n    if (subItem.data_type === \"Title\") {\r\n      return handleSectionValidationItem(subItem, pathArray, [...array, \"items\", subItemIndex], professionalTasks);\r\n    } else {\r\n      if (Array.isArray(subItem)) {\r\n        return handleSectionValidationAny(subItem, pathArray, [...array, \"items\", subItemIndex], professionalTasks);\r\n      } else {\r\n        return handleSectionValidationDataType(subItem, pathArray, [...array, \"items\", subItemIndex], professionalTasks);\r\n      }\r\n    }\r\n  });\r\n  return paths;\r\n};\r\n\r\nconst handleSectionValidation = (item, pathArray, professionalTasks) => {\r\n  let itemsPaths = item.items.map((item, index) => {\r\n    if (item.data_type === \"Title\") {\r\n      return handleSectionValidationItem(item, pathArray, [\"items\", index], professionalTasks);\r\n    } else {\r\n      if (Array.isArray(item)) {\r\n        return handleSectionValidationAny(item, pathArray, [\"items\", index], professionalTasks);\r\n      } else {\r\n        return handleSectionValidationDataType(item, pathArray, [\"items\", index], professionalTasks);\r\n      }\r\n    }\r\n  });\r\n  const processed = itemsPaths.toString().split(\",\");\r\n  return processed.filter(x => x !== \"\");\r\n};\r\n\r\nexport { handleSectionValidation };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}