{"ast":null,"code":"import _toConsumableArray from \"C:/Users/ines_/fisiosys/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _defineProperty2 from \"C:/Users/ines_/fisiosys/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"C:/Users/ines_/fisiosys/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"C:/Users/ines_/fisiosys/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/ines_/fisiosys/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"C:/Users/ines_/fisiosys/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"C:/Users/ines_/fisiosys/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Users/ines_/fisiosys/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nimport React, { Component } from \"react\";\nimport SidePanel from \"../../SidePanel\";\nimport CombinedContext from \"../../../../../../contexts/CombinedContext\";\nimport ProviderCombinedContext from \"../../../../../../contexts/ProviderCombinedContext\";\nimport axios from \"axios\";\nimport tagColors from \"../../../../../../assets/colors/TagColors\";\nimport CompositionPlanningPanel from \"../CompositionPlanningPanel\";\nimport { getEnvUrl } from \"../../../../../../environment/index\";\nvar RefsetComponent = /*#__PURE__*/function (_Component) {\n  _inherits(RefsetComponent, _Component);\n  var _super = _createSuper(RefsetComponent);\n  function RefsetComponent() {\n    var _this;\n    _classCallCheck(this, RefsetComponent);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      filterSelected: \"All\",\n      //filtro seleccionado -> tipos de refsets -> por default mostra todos\n      searchValue: \"\",\n      //valor de pesquisa\n      refsetSelected: null,\n      //refset seleccionado\n      concepts: [],\n      // Lista de conceitos de um refset\n      columnCode: null,\n      // Refset => coluna code\n      columnText: null,\n      // Refset => coluna text\n      showDropColumnCode: false,\n      // Show coluna code\n      showDropColumnText: false,\n      // Show coluna text\n      data: []\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleSelectFilter\", function (e) {\n      if (_this.state.filterSelected !== e) {\n        _this.setState({\n          filterSelected: e\n        });\n      } else {\n        _this.setState({\n          filterSelected: \"All\"\n        });\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleChangeSearch\", function (value) {\n      _this.setState({\n        searchValue: value\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleRemoveFilter\", function () {\n      _this.setState({\n        filterSelected: \"All\",\n        concepts: [],\n        refsetSelected: null,\n        searchValue: \"\",\n        columnCode: null,\n        columnText: null\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleReftsetSelected\", function (obj) {\n      _this.setState(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          columnCode: null,\n          columnText: null,\n          concepts: null,\n          refsetSelected: prevState.refsetSelected !== null && prevState.refsetSelected.id === obj.id ? null : obj\n        });\n      }, function () {\n        _this.handleFetchConcepts();\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleFetchConcepts\", function () {\n      if (_this.state.refsetSelected !== null) {\n        var concepts = _this.context.composition.compositionPlanningRefsets.filter(function (item) {\n          return item.id === _this.state.refsetSelected.id;\n        });\n        _this.setState({\n          concepts: concepts[0].concept_keys,\n          data: [{\n            id: 1,\n            title: \"Coluna do identificador único\",\n            placeholder: \"Selecione uma coluna...\",\n            type: \"dropdown\",\n            key: \"columnCode\"\n          }, {\n            id: 2,\n            title: \"Coluna da designação\",\n            placeholder: \"Selecione uma coluna...\",\n            type: \"dropdown\",\n            key: \"columnText\"\n          }]\n        }); // axios({\n        //     method: \"get\",\n        //     url: `${getEnvUrl('aidarefsets','4010')}/refsetConcepts?id=${this.state.refsetSelected.id}`,\n        //     // url: `http://172.21.220.49:4010/refsetConcepts?id=${this.state.refsetSelected.id}`,\n        //     headers: {Authorization: \"Bearer \" + this.context.token},\n        // })\n        //     .then((response) => {\n        //         if (response.data.success === true) {\n        //             this.setState({\n        //                 concepts: response.data.concepts\n        //             });\n        //\n        //             if (response.data.concepts !== null && response.data.concepts.length > 0) {\n        //                 this.setState({\n        //                     data: [\n        //                         {\n        //                             id: 1,\n        //                             title: \"Coluna do identificador único\",\n        //                             placeholder: \"Selecione uma coluna...\",\n        //                             type: \"dropdown\",\n        //                             key: \"columnCode\",\n        //                         },\n        //                         {\n        //                             id: 2,\n        //                             title: \"Coluna da designação\",\n        //                             placeholder: \"Selecione uma coluna...\",\n        //                             type: \"dropdown\",\n        //                             key: \"columnText\",\n        //                         }\n        //                     ]\n        //                 })\n        //             }\n        //         } else {\n        //             this.setState({\n        //                 concepts: []\n        //             });\n        //         }\n        //     })\n        //     .catch((error) => {\n        //         this.setState({\n        //             concepts: []\n        //         });\n        //     });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOpenDropList\", function (key) {\n      _this.setState(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, _defineProperty2({}, key, !prevState[key]));\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleClearConceptSelected\", function (key) {\n      var _this$setState;\n      _this.setState((_this$setState = {}, _defineProperty2(_this$setState, key, null), _defineProperty2(_this$setState, \"showDropColumnCode\", false), _defineProperty2(_this$setState, \"showDropColumnText\", false), _this$setState));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleConceptSelected\", function (value) {\n      var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      _this.setState(function (prevState) {\n        var _objectSpread3;\n        return _objectSpread(_objectSpread({}, prevState), {}, (_objectSpread3 = {}, _defineProperty2(_objectSpread3, key, prevState[key] !== null && prevState[key] === value ? null : value), _defineProperty2(_objectSpread3, \"showDropColumnCode\", false), _defineProperty2(_objectSpread3, \"showDropColumnText\", false), _objectSpread3));\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleConceptInsert\", function (value) {\n      var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      _this.setState(_defineProperty2({}, key, value.target.value));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleRefsetComposition\", function (type) {\n      var value = type === \"dynamic\" ? [\"\".concat(getEnvUrl('aidarefsets', '4010'), \"/refsetConcepts?id=\").concat(_this.state.refsetSelected.id)] : [\"\".concat(getEnvUrl('aidarefsets', '4010'), \"/refsetConcepts?id=\").concat(_this.state.refsetSelected.id, \"&code=\").concat(_this.state.columnCode, \"&text=\").concat(_this.state.columnText)]; // const value = [`http://172.21.220.49:4010/refsetConcepts?id=${this.state.refsetSelected.id}&code=${this.state.columnCode}&text=${this.state.columnText}`];\n\n      _this.context.composition.handleCompositionPlanning(_this.context.composition.openCompositionPlanningPath, \"Refset\", value);\n      _this.setState({\n        refsetSelected: null,\n        concepts: [],\n        columnCode: null,\n        columnText: null,\n        showDropColumnCode: false,\n        showDropColumnText: false\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleCancelChanges\", function () {\n      _this.props.onCancel(); // ver se ao carregar no botão de cancelar, queremos que o item fique deseleccionado -> descomentar linha de baixo\n      //await this.context.composition.handleOpenCompositionPlanning(this.context.composition.openCompositionPlanningPath);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleConfirmChanges\", function () {\n      if (_this.state.concepts !== null && _this.state.concepts.length > 0) {\n        _this.state.columnText !== null && _this.state.columnCode !== null && _this.handleRefsetComposition();\n      } else {\n        _this.handleRefsetComposition(\"dynamic\");\n      }\n    });\n    return _this;\n  }\n  _createClass(RefsetComponent, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      // console.log('EIIII', this.state.refsetSelected !== null && this.context.composition.compositionPlanningRefsets.filter((item) => item.id === this.state.refsetSelected.id))\n      var list = this.context.composition.compositionPlanningRefsets;\n      var refsetTypes = _toConsumableArray(new Set(list.map(function (item) {\n        return item[\"type\"];\n      }))).filter(function (e) {\n        return e !== null && e;\n      });\n      var refsetTypesNColors = refsetTypes.map(function (r, i) {\n        return {\n          type: r,\n          color: tagColors[i]\n        };\n      });\n      var content;\n      var arr1 = this.state.concepts !== null && this.state.concepts.length > 0 ? [{\n        id: 1,\n        value: this.state.columnCode,\n        dropList: this.state.refsetSelected.concept_keys,\n        isDropSelected: this.state.showDropColumnCode,\n        handleOpenDrop: this.handleOpenDropList,\n        handleSetValue: this.handleConceptSelected,\n        handleClearValue: this.handleClearConceptSelected\n      }, {\n        id: 2,\n        value: this.state.columnText,\n        dropList: this.state.refsetSelected.concept_keys,\n        isDropSelected: this.state.showDropColumnText,\n        handleOpenDrop: this.handleOpenDropList,\n        handleSetValue: this.handleConceptSelected,\n        handleClearValue: this.handleClearConceptSelected\n      }] : [{\n        id: 1,\n        value: this.state.columnCode,\n        handleSetValue: this.handleConceptInsert\n      }, {\n        id: 2,\n        value: this.state.columnText,\n        handleSetValue: this.handleConceptInsert\n      }];\n      var bodyData = this.state.data.length !== 0 ? this.state.data.map(function (x) {\n        return Object.assign(x, arr1.find(function (y) {\n          return y.id === x.id;\n        }));\n      }) : [];\n      content = this.context.composition.openCompositionPlanning && /*#__PURE__*/React.createElement(CompositionPlanningPanel, {\n        jsonTitle: \"Refset\",\n        selectedItem: this.state.refsetSelected,\n        handleSelectItem: this.handleReftsetSelected,\n        itemsList: list,\n        badgePrefix: \"R\",\n        hasSearchBar: true,\n        searchBarType: \"SearchBarWithTagFilter\",\n        searchValue: this.state.searchValue,\n        handleChangeSearch: this.handleChangeSearch,\n        handleRemoveFilter: this.handleRemoveFilter,\n        tagList: refsetTypesNColors,\n        handleSelectTag: this.handleSelectFilter,\n        selectedTag: this.state.filterSelected,\n        concepts: this.state.refsetSelected !== null ? this.state.refsetSelected.concept_keys : null,\n        bodyData: bodyData\n      });\n      return /*#__PURE__*/React.createElement(SidePanel, {\n        title: \"Associar Refset\",\n        content: content,\n        isSidePanelOpen: this.props.isSidePanelOpen,\n        collapseSidePanel: function collapseSidePanel() {\n          return _this2.props.collapseSidePanel();\n        },\n        onCancelChanges: function onCancelChanges() {\n          return _this2.handleCancelChanges();\n        },\n        onClosed: function onClosed() {\n          return _this2.handleConfirmChanges();\n        }\n      });\n    }\n  }]);\n  return RefsetComponent;\n}(Component);\n_defineProperty(RefsetComponent, \"contextType\", CombinedContext);\nvar RefsetSettingsPanel = function RefsetSettingsPanel(props) {\n  return /*#__PURE__*/React.createElement(ProviderCombinedContext, null, /*#__PURE__*/React.createElement(RefsetComponent, props));\n};\nexport default RefsetSettingsPanel;","map":{"version":3,"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","React","Component","SidePanel","CombinedContext","ProviderCombinedContext","axios","tagColors","CompositionPlanningPanel","getEnvUrl","RefsetComponent","args","filterSelected","searchValue","refsetSelected","concepts","columnCode","columnText","showDropColumnCode","showDropColumnText","data","e","state","setState","prevState","id","handleFetchConcepts","context","composition","compositionPlanningRefsets","filter","item","concept_keys","title","placeholder","type","target","handleCompositionPlanning","openCompositionPlanningPath","props","onCancel","length","handleRefsetComposition","list","refsetTypes","Set","map","refsetTypesNColors","r","i","color","content","arr1","dropList","isDropSelected","handleOpenDrop","handleOpenDropList","handleSetValue","handleConceptSelected","handleClearValue","handleClearConceptSelected","handleConceptInsert","bodyData","x","assign","find","y","openCompositionPlanning","createElement","jsonTitle","selectedItem","handleSelectItem","handleReftsetSelected","itemsList","badgePrefix","hasSearchBar","searchBarType","handleChangeSearch","handleRemoveFilter","tagList","handleSelectTag","handleSelectFilter","selectedTag","isSidePanelOpen","collapseSidePanel","onCancelChanges","handleCancelChanges","onClosed","handleConfirmChanges","RefsetSettingsPanel"],"sources":["C:/Users/ines_/fisiosys/frontend/node_modules/protected-aidaforms/dist/components/FormDesigner/Sidebar/SidePanel/CompositionPlanningPanels/RefsetSettingsPanel/RefsetSettingsPanel.js"],"sourcesContent":["function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nimport React, { Component } from \"react\";\r\nimport SidePanel from \"../../SidePanel\";\r\nimport CombinedContext from \"../../../../../../contexts/CombinedContext\";\r\nimport ProviderCombinedContext from \"../../../../../../contexts/ProviderCombinedContext\";\r\nimport axios from \"axios\";\r\nimport tagColors from \"../../../../../../assets/colors/TagColors\";\r\nimport CompositionPlanningPanel from \"../CompositionPlanningPanel\";\r\nimport { getEnvUrl } from \"../../../../../../environment/index\";\r\n\r\nclass RefsetComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n\r\n    _defineProperty(this, \"state\", {\r\n      filterSelected: \"All\",\r\n      //filtro seleccionado -> tipos de refsets -> por default mostra todos\r\n      searchValue: \"\",\r\n      //valor de pesquisa\r\n      refsetSelected: null,\r\n      //refset seleccionado\r\n      concepts: [],\r\n      // Lista de conceitos de um refset\r\n      columnCode: null,\r\n      // Refset => coluna code\r\n      columnText: null,\r\n      // Refset => coluna text\r\n      showDropColumnCode: false,\r\n      // Show coluna code\r\n      showDropColumnText: false,\r\n      // Show coluna text\r\n      data: []\r\n    });\r\n\r\n    _defineProperty(this, \"handleSelectFilter\", e => {\r\n      if (this.state.filterSelected !== e) {\r\n        this.setState({\r\n          filterSelected: e\r\n        });\r\n      } else {\r\n        this.setState({\r\n          filterSelected: \"All\"\r\n        });\r\n      }\r\n    });\r\n\r\n    _defineProperty(this, \"handleChangeSearch\", value => {\r\n      this.setState({\r\n        searchValue: value\r\n      });\r\n    });\r\n\r\n    _defineProperty(this, \"handleRemoveFilter\", () => {\r\n      this.setState({\r\n        filterSelected: \"All\",\r\n        concepts: [],\r\n        refsetSelected: null,\r\n        searchValue: \"\",\r\n        columnCode: null,\r\n        columnText: null\r\n      });\r\n    });\r\n\r\n    _defineProperty(this, \"handleReftsetSelected\", obj => {\r\n      this.setState(prevState => ({ ...prevState,\r\n        columnCode: null,\r\n        columnText: null,\r\n        concepts: null,\r\n        refsetSelected: prevState.refsetSelected !== null && prevState.refsetSelected.id === obj.id ? null : obj\r\n      }), () => {\r\n        this.handleFetchConcepts();\r\n      });\r\n    });\r\n\r\n    _defineProperty(this, \"handleFetchConcepts\", () => {\r\n      if (this.state.refsetSelected !== null) {\r\n        let concepts = this.context.composition.compositionPlanningRefsets.filter(item => item.id === this.state.refsetSelected.id);\r\n        this.setState({\r\n          concepts: concepts[0].concept_keys,\r\n          data: [{\r\n            id: 1,\r\n            title: \"Coluna do identificador único\",\r\n            placeholder: \"Selecione uma coluna...\",\r\n            type: \"dropdown\",\r\n            key: \"columnCode\"\r\n          }, {\r\n            id: 2,\r\n            title: \"Coluna da designação\",\r\n            placeholder: \"Selecione uma coluna...\",\r\n            type: \"dropdown\",\r\n            key: \"columnText\"\r\n          }]\r\n        }); // axios({\r\n        //     method: \"get\",\r\n        //     url: `${getEnvUrl('aidarefsets','4010')}/refsetConcepts?id=${this.state.refsetSelected.id}`,\r\n        //     // url: `http://172.21.220.49:4010/refsetConcepts?id=${this.state.refsetSelected.id}`,\r\n        //     headers: {Authorization: \"Bearer \" + this.context.token},\r\n        // })\r\n        //     .then((response) => {\r\n        //         if (response.data.success === true) {\r\n        //             this.setState({\r\n        //                 concepts: response.data.concepts\r\n        //             });\r\n        //\r\n        //             if (response.data.concepts !== null && response.data.concepts.length > 0) {\r\n        //                 this.setState({\r\n        //                     data: [\r\n        //                         {\r\n        //                             id: 1,\r\n        //                             title: \"Coluna do identificador único\",\r\n        //                             placeholder: \"Selecione uma coluna...\",\r\n        //                             type: \"dropdown\",\r\n        //                             key: \"columnCode\",\r\n        //                         },\r\n        //                         {\r\n        //                             id: 2,\r\n        //                             title: \"Coluna da designação\",\r\n        //                             placeholder: \"Selecione uma coluna...\",\r\n        //                             type: \"dropdown\",\r\n        //                             key: \"columnText\",\r\n        //                         }\r\n        //                     ]\r\n        //                 })\r\n        //             }\r\n        //         } else {\r\n        //             this.setState({\r\n        //                 concepts: []\r\n        //             });\r\n        //         }\r\n        //     })\r\n        //     .catch((error) => {\r\n        //         this.setState({\r\n        //             concepts: []\r\n        //         });\r\n        //     });\r\n      }\r\n    });\r\n\r\n    _defineProperty(this, \"handleOpenDropList\", key => {\r\n      this.setState(prevState => ({ ...prevState,\r\n        [key]: !prevState[key]\r\n      }));\r\n    });\r\n\r\n    _defineProperty(this, \"handleClearConceptSelected\", key => {\r\n      this.setState({\r\n        [key]: null,\r\n        showDropColumnCode: false,\r\n        showDropColumnText: false\r\n      });\r\n    });\r\n\r\n    _defineProperty(this, \"handleConceptSelected\", (value, key = null) => {\r\n      this.setState(prevState => ({ ...prevState,\r\n        [key]: prevState[key] !== null && prevState[key] === value ? null : value,\r\n        showDropColumnCode: false,\r\n        showDropColumnText: false\r\n      }));\r\n    });\r\n\r\n    _defineProperty(this, \"handleConceptInsert\", (value, key = null) => {\r\n      this.setState({\r\n        [key]: value.target.value\r\n      });\r\n    });\r\n\r\n    _defineProperty(this, \"handleRefsetComposition\", type => {\r\n      let value = type === \"dynamic\" ? [`${getEnvUrl('aidarefsets', '4010')}/refsetConcepts?id=${this.state.refsetSelected.id}`] : [`${getEnvUrl('aidarefsets', '4010')}/refsetConcepts?id=${this.state.refsetSelected.id}&code=${this.state.columnCode}&text=${this.state.columnText}`]; // const value = [`http://172.21.220.49:4010/refsetConcepts?id=${this.state.refsetSelected.id}&code=${this.state.columnCode}&text=${this.state.columnText}`];\r\n\r\n      this.context.composition.handleCompositionPlanning(this.context.composition.openCompositionPlanningPath, \"Refset\", value);\r\n      this.setState({\r\n        refsetSelected: null,\r\n        concepts: [],\r\n        columnCode: null,\r\n        columnText: null,\r\n        showDropColumnCode: false,\r\n        showDropColumnText: false\r\n      });\r\n    });\r\n\r\n    _defineProperty(this, \"handleCancelChanges\", () => {\r\n      this.props.onCancel(); // ver se ao carregar no botão de cancelar, queremos que o item fique deseleccionado -> descomentar linha de baixo\r\n      //await this.context.composition.handleOpenCompositionPlanning(this.context.composition.openCompositionPlanningPath);\r\n    });\r\n\r\n    _defineProperty(this, \"handleConfirmChanges\", () => {\r\n      if (this.state.concepts !== null && this.state.concepts.length > 0) {\r\n        this.state.columnText !== null && this.state.columnCode !== null && this.handleRefsetComposition();\r\n      } else {\r\n        this.handleRefsetComposition(\"dynamic\");\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    // console.log('EIIII', this.state.refsetSelected !== null && this.context.composition.compositionPlanningRefsets.filter((item) => item.id === this.state.refsetSelected.id))\r\n    let list = this.context.composition.compositionPlanningRefsets;\r\n    let refsetTypes = [...new Set(list.map(item => item[\"type\"]))].filter(e => e !== null && e);\r\n    let refsetTypesNColors = refsetTypes.map((r, i) => {\r\n      return {\r\n        type: r,\r\n        color: tagColors[i]\r\n      };\r\n    });\r\n    let content;\r\n    let arr1 = this.state.concepts !== null && this.state.concepts.length > 0 ? [{\r\n      id: 1,\r\n      value: this.state.columnCode,\r\n      dropList: this.state.refsetSelected.concept_keys,\r\n      isDropSelected: this.state.showDropColumnCode,\r\n      handleOpenDrop: this.handleOpenDropList,\r\n      handleSetValue: this.handleConceptSelected,\r\n      handleClearValue: this.handleClearConceptSelected\r\n    }, {\r\n      id: 2,\r\n      value: this.state.columnText,\r\n      dropList: this.state.refsetSelected.concept_keys,\r\n      isDropSelected: this.state.showDropColumnText,\r\n      handleOpenDrop: this.handleOpenDropList,\r\n      handleSetValue: this.handleConceptSelected,\r\n      handleClearValue: this.handleClearConceptSelected\r\n    }] : [{\r\n      id: 1,\r\n      value: this.state.columnCode,\r\n      handleSetValue: this.handleConceptInsert\r\n    }, {\r\n      id: 2,\r\n      value: this.state.columnText,\r\n      handleSetValue: this.handleConceptInsert\r\n    }];\r\n    let bodyData = this.state.data.length !== 0 ? this.state.data.map(x => Object.assign(x, arr1.find(y => y.id === x.id))) : [];\r\n    content = this.context.composition.openCompositionPlanning && /*#__PURE__*/React.createElement(CompositionPlanningPanel, {\r\n      jsonTitle: \"Refset\",\r\n      selectedItem: this.state.refsetSelected,\r\n      handleSelectItem: this.handleReftsetSelected,\r\n      itemsList: list,\r\n      badgePrefix: \"R\",\r\n      hasSearchBar: true,\r\n      searchBarType: \"SearchBarWithTagFilter\",\r\n      searchValue: this.state.searchValue,\r\n      handleChangeSearch: this.handleChangeSearch,\r\n      handleRemoveFilter: this.handleRemoveFilter,\r\n      tagList: refsetTypesNColors,\r\n      handleSelectTag: this.handleSelectFilter,\r\n      selectedTag: this.state.filterSelected,\r\n      concepts: this.state.refsetSelected !== null ? this.state.refsetSelected.concept_keys : null,\r\n      bodyData: bodyData\r\n    });\r\n    return /*#__PURE__*/React.createElement(SidePanel, {\r\n      title: \"Associar Refset\",\r\n      content: content,\r\n      isSidePanelOpen: this.props.isSidePanelOpen,\r\n      collapseSidePanel: () => this.props.collapseSidePanel(),\r\n      onCancelChanges: () => this.handleCancelChanges(),\r\n      onClosed: () => this.handleConfirmChanges()\r\n    });\r\n  }\r\n\r\n}\r\n\r\n_defineProperty(RefsetComponent, \"contextType\", CombinedContext);\r\n\r\nconst RefsetSettingsPanel = props => {\r\n  return /*#__PURE__*/React.createElement(ProviderCombinedContext, null, /*#__PURE__*/React.createElement(RefsetComponent, props));\r\n};\r\n\r\nexport default RefsetSettingsPanel;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}