(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[810],{47961:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var i=n(74165),r=n(15861),s=n(70885),a=n(72791),l=n(57689),o=n(34073),c=n(59135),d=n(69961),u=n(17626),p=n(73123),x=n(59500),h=(n(23666),n(80184)),m=function(e){var t=Object.entries(e.record.geographical).reduce((function(e,t){var n=(0,s.Z)(t,2),i=n[0],r=n[1];if("null"!==i){var a=r[0],l=r[1],o=r[2];null!==l&&null!==o&&e.push({country:i,value:a,coordinates:[l,o]})}return e}),[]);return(0,h.jsxs)(d.h,{style:{height:"500px",width:"600px"},center:[0,0],zoomSnap:0,zoom:1.25,doubleClickZoom:!1,attributionControl:!1,maxBounds:[[90,-180],[-90,180]],children:[(0,h.jsx)(u.I,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",noWrap:!0}),t.map((function(e){return(0,h.jsx)(p.c,{center:e.coordinates,radius:5*Math.pow(e.value,.2),color:"#F9E076",fillColor:"#F9E076",fillOpacity:.8,children:(0,h.jsxs)(x.G,{children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("strong",{children:"Country: "}),e.country]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("strong",{children:"Value: "}),e.value]})]})},e.country)}))]})};function g(){var e=(0,l.UO)().topic,t=(0,a.useState)([]),n=(0,s.Z)(t,2),o=n[0],c=n[1];return(0,a.useEffect)((function(){function t(){return(t=(0,r.Z)((0,i.Z)().mark((function t(){var n,r,s;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:5050/statistics/");case 3:if((n=t.sent).ok){t.next=6;break}throw new Error("An error occurred: ".concat(n.statusText));case 6:return t.next=8,n.json();case 8:r=t.sent,s=r.filter((function(t){return t.topic===e})),c(s),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),window.alert(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),o.length?(0,h.jsx)("div",{children:o.map((function(e){return(0,h.jsx)(m,{record:e},e.topic)}))}):(0,h.jsx)("div",{children:"No record found"})}var v=n(73787),f=(v.Z.CanvasJS,v.Z.CanvasJSChart),j=function(e){var t=function(e){var t={};return["Total","Negative","Positive","Neutral"].forEach((function(n){for(var i in t[n]=[],e)/^\d{2}-\d{2}-\d{4}$/.test(i)&&e[i][n]&&t[n].push({x:new Date(i.split("-").reverse().join("-")),y:e[i][n]})})),t}(e.record),n={theme:"light2",animationEnabled:!0,width:600,title:{text:"Sentiment Analysis Overtime"},axisX:{},axisY:{title:"Counts",titleFontColor:"#6D78AD",lineColor:"#6D78AD",labelFontColor:"#6D78AD",tickColor:"#6D78AD"},toolTip:{shared:!0},data:[{type:"spline",name:"Total",showInLegend:!0,xValueFormatString:"DD MMM YYYY",yValueFormatString:"#,##0",dataPoints:t.Total},{type:"spline",name:"Positive",showInLegend:!0,xValueFormatString:"DD MMM YYYY",yValueFormatString:"#,##0",dataPoints:t.Positive,color:"#76CC9D"},{type:"spline",name:"Neutral",showInLegend:!0,xValueFormatString:"DD MMM YYYY",yValueFormatString:"#,##0",dataPoints:t.Neutral,color:"#FADB7C"},{type:"spline",name:"Negative",showInLegend:!0,xValueFormatString:"DD MMM YYYY",yValueFormatString:"#,##0",dataPoints:t.Negative,color:"#F46161"}]};return(0,h.jsx)(f,{options:n})};function _(){var e=(0,l.UO)().topic,t=(0,a.useState)([]),n=(0,s.Z)(t,2),o=n[0],c=n[1];return(0,a.useEffect)((function(){function t(){return(t=(0,r.Z)((0,i.Z)().mark((function t(){var n,r,s;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:5050/general_info/");case 3:if((n=t.sent).ok){t.next=6;break}throw new Error("An error occurred: ".concat(n.statusText));case 6:return t.next=8,n.json();case 8:r=t.sent,s=r.filter((function(t){return t.topic===e})),c(s),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),window.alert(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),o.length?(0,h.jsx)("div",{children:o.map((function(e){return(0,h.jsx)(j,{record:e},e.topic)}))}):(0,h.jsx)("div",{children:"No record found"})}var y=n(73909),b=n(21041),w=n(41048),k=n(35667),C=n(20601),N=n(38725),D=n(90466),F=n(12891),S=n(57702),V=n(87970),Z=n(6481),q=(n(44992),n(49952),function(e){var t,n,i,r,l,d,u,p,x,m,v=e.record,f=(e.hashtags,e.filteredTop10),j=e.selectedFilter,q=e.handleFilterChange,M=e.options,A=e.keywordsArray,T=e.hashtagsArray,P=v?[{name:"Positive",value:(null===(t=v.sentiment_count)||void 0===t?void 0:t.Positive)||0,color:"#76CC9D",perc:null===(n=v.sentiment_percentages)||void 0===n?void 0:n.Positive},{name:"Neutral",value:(null===(i=v.sentiment_count)||void 0===i?void 0:i.Neutral)||0,color:"#FADB7C",perc:null===(r=v.sentiment_percentages)||void 0===r?void 0:r.Neutral},{name:"Negative",value:(null===(l=v.sentiment_count)||void 0===l?void 0:l.Negative)||0,color:"#F46161",perc:null===(d=v.sentiment_percentages)||void 0===d?void 0:d.Negative}]:[],Y=function(){var e=(0,a.useState)(null),t=(0,s.Z)(e,2),n=t[0],i=t[1];return(0,h.jsxs)(y.u,{width:400,height:400,children:[(0,h.jsx)(b.b,{data:P,dataKey:"value",cx:120,cy:150,innerRadius:75,outerRadius:110,paddingAngle:5,onMouseEnter:function(e,t){i(t)},children:P.map((function(e,t){return(0,h.jsx)(w.b,{fill:e.color},t)}))}),(0,h.jsx)(k.u,{content:function(e){var t=e.payload;if(t&&t.length>0){var n=t[0].payload,i=n.name,r=n.perc;return(0,h.jsx)("div",{style:{marginRight:"10px",marginLeft:"10px",marginTop:"10px"},children:(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:i}),": ","".concat(r.toFixed(2),"%")]})})}},active:null!==n,wrapperStyle:{backgroundColor:"white",border:"1px solid #ccc"}})]})},I=function(e){var t=e/1e3;return t.toFixed(t<1?1:0)},L=(0,a.useState)([]),E=(0,s.Z)(L,2),B=E[0],R=E[1];(0,a.useEffect)((function(){if(v&&v.engagement_metrics){var e=[{name:"Impressions",value:v.engagement_metrics.total_impressions,sqrtValue:.9*Math.sqrt(v.engagement_metrics.total_impressions),kValue:I(v.engagement_metrics.total_impressions)},{name:"Likes",value:v.engagement_metrics.total_likes,sqrtValue:Math.sqrt(v.engagement_metrics.total_likes),kValue:I(v.engagement_metrics.total_likes)},{name:"Retweets",value:v.engagement_metrics.total_retweets,sqrtValue:Math.sqrt(v.engagement_metrics.total_retweets),kValue:I(v.engagement_metrics.total_retweets)},{name:"Quotes",value:v.engagement_metrics.total_quotes,sqrtValue:Math.sqrt(v.engagement_metrics.total_quotes),kValue:I(v.engagement_metrics.total_quotes)},{name:"Replys",value:v.engagement_metrics.total_replys,sqrtValue:Math.sqrt(v.engagement_metrics.total_replys),kValue:I(v.engagement_metrics.total_replys)}];R(e)}}),[v]);var O=function(e){var t=e.active,n=e.payload;e.label,e.coordinate;if(t&&n&&n.length){var i=n[0].payload.value;return(0,h.jsx)("div",{className:"custom-tooltip",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,h.jsx)("div",{style:{marginTop:"10px",marginRight:"10px",marginLeft:"10px"},children:(0,h.jsxs)("p",{className:"intro",style:{textAlign:"center"},children:["Value: ",i]})})})}return null},K=function(e){var t=e.x,n=e.y,i=e.value;return(0,h.jsx)("text",{x:t+0,y:n-7,textAnchor:"start",fontWeight:"bold",children:i})};return(0,h.jsxs)("div",{children:[(0,h.jsxs)("table",{className:"home-table1",style:{display:"flex",alignItems:"center",width:"100%",minWidth:"1280px",maxWidth:"1280px"},children:[(0,h.jsx)("thead",{children:(0,h.jsx)("tr",{children:(0,h.jsx)("th",{colSpan:"2",style:{textAlign:"center",position:"relative"},children:(0,h.jsx)("span",{style:{position:"relative",top:"3.6px"},children:null===v||void 0===v?void 0:v.topic})})})}),(0,h.jsx)("div",{children:(0,h.jsxs)("div",{style:{display:"flex",marginTop:"40px"},children:[(0,h.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginLeft:"130px"},children:[(0,h.jsx)("h3",{children:(0,h.jsx)("strong",{children:null===v||void 0===v||null===(u=v.engagement_metrics)||void 0===u?void 0:u.total_tweets})}),(0,h.jsx)("h6",{children:"Total"}),(0,h.jsx)("p",{}),(0,h.jsx)("h3",{style:{color:"#76CC9D"},children:(0,h.jsx)("strong",{children:null===v||void 0===v||null===(p=v.sentiment_count)||void 0===p?void 0:p.Positive})}),(0,h.jsx)("h6",{children:"Positive"}),(0,h.jsx)("p",{}),(0,h.jsx)("h3",{style:{color:"#FADB7C"},children:(0,h.jsx)("strong",{children:null===v||void 0===v||null===(x=v.sentiment_count)||void 0===x?void 0:x.Neutral})}),(0,h.jsx)("h6",{children:"Neutral"}),(0,h.jsx)("p",{}),(0,h.jsx)("h3",{style:{color:"#F46161"},children:(0,h.jsx)("strong",{children:null===v||void 0===v||null===(m=v.sentiment_count)||void 0===m?void 0:m.Negative})}),(0,h.jsx)("h6",{children:"Negative"})]}),(0,h.jsx)("div",{style:{width:"350px",height:"350px",marginLeft:"150px"},children:(0,h.jsx)(Y,{})}),(0,h.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:(0,h.jsx)(C.h,{width:450,height:350,children:(0,h.jsxs)(N.v,{layout:"vertical",data:B,barSize:35,margin:{left:60,right:80,top:4,bottom:20},children:[" ",(0,h.jsx)(D.K,{type:"number",dataKey:"sqrtValue",hide:!0})," ",(0,h.jsx)(F.B,{type:"category",dataKey:"name",hide:!0})," ",(0,h.jsx)(k.u,{content:(0,h.jsx)(O,{}),wrapperStyle:{backgroundColor:"white",border:"1px solid #ccc"}}),(0,h.jsxs)(S.$,{dataKey:"sqrtValue",fill:"#8884d8",children:[(0,h.jsx)(V.e,{dataKey:"name",position:"top",content:(0,h.jsx)(K,{})}),(0,h.jsx)(V.e,{dataKey:"kValue",position:"right",formatter:function(e){return"".concat(e,"K")}})]})]})})})]})})]}),(0,h.jsx)("br",{}),(0,h.jsx)("div",{className:"container text",children:(0,h.jsxs)("div",{className:"row align-items-start",style:{display:"flex",width:"100%",minWidth:"1280px",maxWidth:"1280px"},children:[(0,h.jsx)("div",{className:"col-lg-6 col-md-4 col-sm-8",style:{marginRight:"15px"},children:(0,h.jsx)("div",{className:"flex-container",children:(0,h.jsxs)("div",{className:"flex-item",children:[(0,h.jsx)("div",{style:{marginBottom:"20px"},children:(0,h.jsx)("h3",{children:"Trending Tweets Today "})}),(0,h.jsxs)("div",{className:"filter-buttons",children:[(0,h.jsx)("button",{className:"top_10_global"===j?"active":"",onClick:function(){return q("top_10_global")},children:"Global"}),(0,h.jsx)("button",{className:"top_10_media"===j?"active":"",onClick:function(){return q("top_10_media")},children:"With Media"}),(0,h.jsx)("button",{className:"top_10_verified"===j?"active":"",onClick:function(){return q("top_10_verified")},children:"Verified"}),(0,h.jsx)("button",{className:"top_10_question"===j?"active":"",onClick:function(){return q("top_10_question")},children:"Concerns"})]}),(0,h.jsx)("br",{}),f.length>0?f.map((function(e,t){return(0,h.jsxs)("div",{style:{marginBottom:"20px",width:"620px",border:"1px solid #ccc",borderRadius:"8px"},children:[(0,h.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[(0,h.jsx)("div",{style:{marginRight:"10px",marginTop:"6px"},children:(0,h.jsx)("img",{src:e.profile_photo,alt:"Profile",style:{width:"65px",marginLeft:"5px"}})}),(0,h.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("strong",{children:["@",e.username]})," ",e.verified&&(0,h.jsx)("img",{src:o,alt:"Verified",style:{width:"13px",height:"13px",verticalAlign:"middle",marginBottom:"2px"}})]}),(0,h.jsxs)("div",{style:{fontSize:"15px",marginRight:"5px"},children:[e.result,(0,h.jsx)("br",{}),null!==e.media?(0,h.jsx)("a",{href:e.media,target:"_blank",rel:"noopener noreferrer",children:e.media}):null]})]})]}),(0,h.jsx)("br",{}),(0,h.jsxs)("div",{style:{marginLeft:"75px",marginBottom:"5px"},children:[(0,h.jsx)(c.dSq,{title:"Impressions"})," ",e.total_impressions," \xa0\xa0\xa0",(0,h.jsx)(c.$0H,{title:"Likes"})," ",e.total_likes," \xa0\xa0\xa0",(0,h.jsx)(c.FxE,{title:"Retweets"})," ",e.total_retweets," \xa0\xa0\xa0",(0,h.jsx)(c.fkU,{title:"Quotes"})," ",e.total_quotes," \xa0\xa0\xa0",(0,h.jsx)(c.Bjt,{title:"Replies"})," ",e.total_replys," \xa0\xa0\xa0",e.mentions>1?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(c.Xws,{title:"Mentions"})," ",e.mentions]}):null,(0,h.jsxs)("div",{style:{marginLeft:"10px",display:"inline-flex",alignItems:"center"},children:["Positive"===e.sentiment?(0,h.jsxs)("p",{children:[(0,h.jsx)(c.vXJ,{style:{color:"#76CC9D"}})," Positive"]}):null,"Negative"===e.sentiment?(0,h.jsxs)("p",{children:[(0,h.jsx)(c.nYS,{style:{color:"#F46161"}})," Negative"]}):null,"Neutral"===e.sentiment?(0,h.jsxs)("p",{children:[(0,h.jsx)(c.UMU,{style:{color:"#FADB7C"}})," Neutral"]}):null]})]})]},t)})):(0,h.jsx)("p",{children:"No data available for the selected filter."})]})})}),(0,h.jsxs)("div",{className:"col-lg-2 col-md-3 col-sm-4",style:{marginLeft:"5px",marginTop:"20px",alignItems:"center"},children:[(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),(0,h.jsx)("div",{style:{width:"600px",height:"270px",marginBottom:"40px"},children:(0,h.jsx)(Z.ZP,{options:M,words:T})}),(0,h.jsx)(g,{}),(0,h.jsx)("div",{style:{width:"600px",height:"270px",marginTop:"40px"},children:(0,h.jsx)(Z.ZP,{options:M,words:A})}),(0,h.jsx)("br",{}),(0,h.jsx)(_,{})]})]})})]})});function M(){var e=(0,l.UO)().topic,t=(0,a.useState)("top_10_global"),n=(0,s.Z)(t,2),o=n[0],c=n[1],d=(0,a.useState)(null),u=(0,s.Z)(d,2),p=u[0],x=u[1],m=(0,a.useState)([]),g=(0,s.Z)(m,2),v=g[0],f=g[1],j=(0,a.useState)([]),_=(0,s.Z)(j,2),y=_[0],b=_[1];(0,a.useEffect)((function(){function t(){return(t=(0,r.Z)((0,i.Z)().mark((function t(){var n,r,a,l,o,c,d;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:5050/statistics/");case 3:if((n=t.sent).ok){t.next=6;break}throw new Error("An error occurred: ".concat(n.statusText));case 6:return t.next=8,n.json();case 8:r=t.sent,a=r.find((function(t){return t.topic===e})),x(a||null),l=(null===a||void 0===a?void 0:a.keywords)||{},o=Object.entries(l).map((function(e){var t=(0,s.Z)(e,2);return{text:t[0],value:t[1]}})),f(o),c=(null===a||void 0===a?void 0:a.hashtags)||{},d=Object.entries(c).map((function(e){var t=(0,s.Z)(e,2);return{text:t[0],value:t[1]}})),b(d),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),window.alert(t.t0.message);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);if(!p)return null;var w={sentimentCount:p.sentiment_count||{},engagementMetrics:Object.entries(p.engagement_metrics||{}),sentimentPerc:Object.entries(p.sentiment_percentages||{}),top_10_global:p.top_10_global||[],top_10_media:p.top_10_media||[],top_10_verified:p.top_10_verified||[],top_10_question:p.top_10_question||[]},k=[];switch(o){case"top_10_global":default:k=w.top_10_global;break;case"top_10_media":k=w.top_10_media;break;case"top_10_verified":k=w.top_10_verified;break;case"top_10_question":k=w.top_10_question}return(0,h.jsx)("div",{children:(0,h.jsx)(q,{record:p,hashtags:w,filteredTop10:k,selectedFilter:o,handleFilterChange:function(e){c(e)},options:{enableTooltip:!0,deterministic:!1,fontFamily:"impact",fontSizes:[15,50],fontStyle:"normal",fontWeight:"normal",padding:1,rotations:0,scale:"sqrt",spiral:"archimedean",transitionDuration:1e3},keywordsArray:v,hashtagsArray:y})})}},34073:function(e,t,n){"use strict";e.exports=n.p+"static/media/verified.189d9f4ef95c546073c8.png"},75042:function(){}}]);
//# sourceMappingURL=810.8b223da3.chunk.js.map