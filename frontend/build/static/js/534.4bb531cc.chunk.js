"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[534],{29848:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var a=n(15671),o=n(43144),r=n(97326),c=n(60136),i=n(27277),l=n(72791),s=n(15563),u=n(11087),d=n(24846),m=n(511),h=n(86166),f=n(18185),v=n.p+"static/media/shoulder.7c298b10460f8fd69bfb.png",g=n(80184),y=function(e){(0,c.Z)(n,e);var t=(0,i.Z)(n);function n(e){var o;return(0,a.Z)(this,n),(o=t.call(this,e)).onChangeSearchnome_utente=o.onChangeSearchnome_utente.bind((0,r.Z)(o)),o.onChangeSearchdata_nascimento=o.onChangeSearchdata_nascimento.bind((0,r.Z)(o)),o.onChangeSearchnum_sequencial=o.onChangeSearchnum_sequencial.bind((0,r.Z)(o)),o.retrieveUtente=o.retrieveUtente.bind((0,r.Z)(o)),o.refreshList=o.refreshList.bind((0,r.Z)(o)),o.setActiveUtente=o.setActiveUtente.bind((0,r.Z)(o)),o.removeAllUtente=o.removeAllUtente.bind((0,r.Z)(o)),o.searchnome_utente=o.searchnome_utente.bind((0,r.Z)(o)),o.searchdata_nascimento=o.searchdata_nascimento.bind((0,r.Z)(o)),o.searchnum_sequencial=o.searchnum_sequencial.bind((0,r.Z)(o)),o.state={Utente:[],currentUtente:null,currentIndex:-1,searchnome_utente:"",searchdata_nascimento:"",searchnum_sequencial:"",currentPage:1,itemsPerPage:6},o}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.retrieveUtente()}},{key:"handleClick",value:function(e){this.setState({currentPage:Number(e.target.id)})}},{key:"onChangeSearchnum_sequencial",value:function(e){var t=this,n=e.target.value;this.setState({searchnum_sequencial:n},(function(){t.searchnum_sequencial()}))}},{key:"onChangeSearchdata_nascimento",value:function(e){var t=this,n=e.target.value;this.setState({searchdata_nascimento:n},(function(){t.searchdata_nascimento()}))}},{key:"onChangeSearchnome_utente",value:function(e){var t=this,n=e.target.value;this.setState({searchnome_utente:n},(function(){t.searchnome_utente()}))}},{key:"retrieveUtente",value:function(){var e=this;s.Z.getAll().then((function(t){e.setState({Utente:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"refreshList",value:function(){this.retrieveUtente(),this.setState({currentUtente:null,currentIndex:-1})}},{key:"setActiveUtente",value:function(e,t){this.setState({currentUtente:e,currentIndex:t})}},{key:"removeAllUtente",value:function(){var e=this;s.Z.deleteAll().then((function(t){console.log(t.data),e.refreshList()})).catch((function(e){console.log(e)}))}},{key:"searchnum_sequencial",value:function(){var e=this;s.Z.findBynum_sequencial(this.state.searchnum_sequencial).then((function(t){e.setState({Utente:t.data,currentUtente:null,currentIndex:-1}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"searchdata_nascimento",value:function(){var e=this;s.Z.findBydata_nascimento(this.state.searchdata_nascimento).then((function(t){e.setState({Utente:t.data,currentUtente:null,currentIndex:-1}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"searchnome_utente",value:function(){var e=this,t=this.state.searchnome_utente.normalize("NFD").replace(/[\u0300-\u036f]/g,"");s.Z.findBynome_utente(t).then((function(t){e.setState({Utente:t.data,currentUtente:null,currentIndex:-1}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){for(var e=this,t=this.state,n=t.searchnome_utente,a=t.searchdata_nascimento,o=t.searchnum_sequencial,r=t.Utente,c=(t.currentUtente,t.currentPage),i=t.itemsPerPage,l=r.filter((function(e){var t=e.num_sequencial;if(o&&parseInt(o)!==t)return!1;var r=n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),c=e.nome_utente.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();if(r&&!c.includes(r))return!1;var i=e.data_nascimento;return!a||a===i})),s=c*i,y=s-i,b=l.slice(y,s),x=[],p=1;p<=Math.ceil(r.length/i);p++)x.push(p);x.map((function(t){return(0,g.jsx)("li",{id:t,onClick:e.handleClick.bind(e),className:c===t?"active":"",children:t},t)}));var j=Math.ceil(r.length/i),_=c>1?c-1:null,k=c<Math.ceil(r.length/i)?c+1:null;return(0,g.jsxs)("div",{className:"list row d-flex justify-content-center",children:[(0,g.jsx)("span",{className:"my-heading",children:"Utentes"}),(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),(0,g.jsx)("table",{className:"table",style:{tableLayout:"fixed",width:"170%"},children:(0,g.jsx)("thead",{style:{backgroundColor:"#57a9d9",color:"white"},children:(0,g.jsx)("tr",{children:(0,g.jsx)("th",{scope:"col",style:{width:"20%",textAlign:"center"},children:"Filtrar por:"})})})}),(0,g.jsx)("div",{className:"col-md-2",children:(0,g.jsxs)("div",{className:"input-group mb-3",children:[(0,g.jsx)("input",{type:"text",className:"form-control",placeholder:"N\xfamero Sequencial",value:o,onChange:function(t){e.onChangeSearchnum_sequencial(t),e.searchnum_sequencial()}}),o&&(0,g.jsx)("div",{className:"input-group-append",children:(0,g.jsx)("button",{type:"button",className:"btn",onClick:function(){e.onChangeSearchnum_sequencial({target:{value:""}}),e.searchnum_sequencial()},children:(0,g.jsx)("div",{children:(0,g.jsx)(f.C7Q,{color:"red"})})})})]})}),(0,g.jsx)("div",{className:"col-md-4",children:(0,g.jsxs)("div",{className:"input-group mb-3",children:[(0,g.jsx)("input",{type:"text",className:"form-control",placeholder:"Nome",value:n,onChange:function(t){e.onChangeSearchnome_utente(t),e.searchnome_utente()}}),n&&(0,g.jsx)("div",{className:"input-group-append",children:(0,g.jsx)("button",{type:"button",className:"btn",onClick:function(){e.onChangeSearchnome_utente({target:{value:""}}),e.searchnome_utente()},children:(0,g.jsx)("div",{children:(0,g.jsx)(f.C7Q,{color:"red"})})})})]})}),(0,g.jsx)("div",{className:"col-md-2",children:(0,g.jsxs)("div",{className:"input-group mb-3",children:[(0,g.jsx)("input",{type:"date",className:"form-control",placeholder:"Data Nascimento",value:a,onChange:function(t){e.onChangeSearchdata_nascimento(t),e.searchdata_nascimento()}}),a&&(0,g.jsx)("div",{className:"input-group-append",children:(0,g.jsx)("button",{type:"button",className:"btn",onClick:function(){e.onChangeSearchdata_nascimento({target:{value:""}}),e.searchdata_nascimento()},children:(0,g.jsx)("div",{children:(0,g.jsx)(f.C7Q,{color:"red"})})})})]})}),(0,g.jsx)("br",{}),(0,g.jsxs)("table",{className:"table",style:{tableLayout:"fixed",width:"170%"},children:[(0,g.jsx)("thead",{style:{backgroundColor:"#57a9d9",color:"white"},children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{scope:"col",style:{width:"17%",textAlign:"center"},children:"N\xfamero Sequencial"}),(0,g.jsx)("th",{scope:"col",style:{width:"25%",textAlign:"center"},children:"Nome"}),(0,g.jsx)("th",{scope:"col",style:{width:"16%",textAlign:"center"},children:"Sexo"}),(0,g.jsx)("th",{scope:"col",style:{width:"17%",textAlign:"center"},children:"Data de nascimento"}),(0,g.jsx)("th",{scope:"col",style:{width:"25%",textAlign:"center"},children:" "})]})}),(0,g.jsxs)("tbody",{children:[b.length>0?b.sort((function(e,t){return e.num_sequencial-t.num_sequencial})).map((function(e,t){return(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{style:{backgroundColor:"white",textAlign:"center"},children:e.num_sequencial}),(0,g.jsx)("td",{style:{backgroundColor:"white",textAlign:"center"},children:e.nome_utente}),(0,g.jsx)("td",{style:{backgroundColor:"white",textAlign:"center"},children:e.sexo}),(0,g.jsx)("td",{style:{backgroundColor:"white",textAlign:"center"},children:new Date(e.data_nascimento).toLocaleDateString("pt-PT")}),(0,g.jsxs)("td",{style:{backgroundColor:"white",textAlign:"center"},children:[(0,g.jsx)(u.rU,{to:"/edit/".concat(e.num_sequencial),style:{textDecoration:"none"},children:(0,g.jsx)("button",{className:"blue-button-small",children:(0,g.jsx)(d.Z,{icon:m.l})})}),(0,g.jsx)(u.rU,{to:"/avini/".concat(e.num_sequencial),style:{textDecoration:"none"},children:(0,g.jsx)("button",{className:"blue-button-small",children:(0,g.jsx)(d.Z,{icon:h.M})})}),(0,g.jsx)(u.rU,{to:"/avombro/".concat(e.num_sequencial),style:{textDecoration:"none"},children:(0,g.jsx)("button",{className:"blue-button-small",children:(0,g.jsx)("img",{src:v,alt:"image",style:{width:"36%",color:"white"}})})})]})]},t)})):(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:"5",style:{backgroundColor:"white",textAlign:"center"},children:"N\xe3o existem utentes registados"})})," "]})]}),(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,g.jsx)("button",{onClick:function(){_&&e.setState({currentPage:_})},type:"button",className:"btn btn-outline-primary button-no-focus",style:{borderColor:"#60b1e0",borderRadius:"0.15rem",width:"4rem",height:"2.2rem",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"0.8rem"},children:(0,g.jsx)("div",{children:(0,g.jsx)(f.pjk,{color:"black"})})}),"\xa0\xa0\xa0\xa0\xa0",c," de ",j,"\xa0\xa0\xa0\xa0\xa0",(0,g.jsx)("button",{onClick:function(){k&&e.setState({currentPage:k})},type:"button",className:"btn btn-outline-primary button-no-focus",style:{borderColor:"#60b1e0",borderRadius:"0.15rem",width:"4rem",height:"2.2rem",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"0.8rem"},children:(0,g.jsx)("div",{children:(0,g.jsx)(f.fmn,{color:"black"})})})]})]})}}]),n}(l.Component)},15563:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(15671),o=n(43144),r=n(82388).Z.create({baseURL:"http://localhost:8080/api",headers:{"Content-type":"application/json"}}),c=new(function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,[{key:"getAll",value:function(){return r.get("/utente")}},{key:"get",value:function(e){return r.get("/utente/".concat(e))}},{key:"create",value:function(e){return r.post("/utente",e)}},{key:"update",value:function(e,t){return r.put("/utente/".concat(e),t)}},{key:"delete",value:function(e){return r.delete("/utente/".concat(e))}},{key:"deleteAll",value:function(){return r.delete("/utente")}},{key:"findBynome_utente",value:function(e){return r.get("/utente?nome_utente=".concat(e))}},{key:"findBydata_nascimento",value:function(e){return r.get("/utente?data_nascimento=".concat(e))}},{key:"findBynum_sequencial",value:function(e){return r.get("/utente?num_sequencial=".concat(e))}},{key:"findAviniBynum_sequencial",value:function(e){return r.get("/forms/aviniforms/all?num_sequencial=".concat(e))}},{key:"findAviniByidcomposition",value:function(e){return r.get("/forms/aviniforms/all?idcomposition=".concat(e))}},{key:"findAviniByestado",value:function(e){return r.get("/forms/aviniforms/all?isCompleted=".concat(e))}},{key:"findAviniBydata",value:function(e){return r.get("/forms/aviniforms/all?createdat=".concat(e))}},{key:"findAvombroBynum_sequencial",value:function(e){return r.get("/forms/avombroforms/all?num_sequencial=".concat(e))}},{key:"findAvombroByidcomposition",value:function(e){return r.get("/forms/avombroforms/all?idcomposition=".concat(e))}},{key:"findAvombroByestado",value:function(e){return r.get("/forms/avombroforms/all?isCompleted=".concat(e))}},{key:"findAvombroBydata",value:function(e){return r.get("/forms/avombroforms/all?createdat=".concat(e))}},{key:"createform",value:function(e){return r.post("/forms",e)}},{key:"getformAvini",value:function(e){return r.get("/forms/avini/".concat(e))}},{key:"getformAvombro",value:function(e){return r.get("/forms/avombro/".concat(e))}},{key:"getAllform",value:function(){return r.get("/forms")}},{key:"getAllformAvini",value:function(){return r.get("/forms/aviniforms/all")}},{key:"getAllformAvombro",value:function(){return r.get("/forms/avombroforms/all")}},{key:"getvaluesAvini",value:function(e){return r.get("/forms/valuesAvini/".concat(e))}},{key:"getvaluesAvombro",value:function(e){return r.get("/forms/valuesAvombro/".concat(e))}},{key:"getSubAvini",value:function(e){return r.get("/forms/subAvini/".concat(e))}},{key:"getSubAvombro",value:function(e){return r.get("/forms/subAvombro/".concat(e))}},{key:"getidAvini",value:function(e){return r.get("/forms/initialAvini/".concat(e))}},{key:"getidAvombro",value:function(e){return r.get("/forms/initialAvombro/".concat(e))}},{key:"updateform",value:function(e,t){return r.put("/forms/".concat(e),t)}},{key:"deleteform",value:function(e){return r.delete("/forms/".concat(e))}},{key:"deleteAllform",value:function(){return r.delete("/forms")}}]),e}())}}]);
//# sourceMappingURL=534.4bb531cc.chunk.js.map