(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[77],{7828:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var s=n(74165),i=n(15861),r=n(70885),l=n(72791),a=n(57689),o=n(34073),c=n(59135),d=n(69961),u=n(17626),m=n(73123),p=n(59500),x=(n(23666),n(80184)),h=function(e){var t=Object.entries(e.record.geographical).reduce((function(e,t){var n=(0,r.Z)(t,2),s=n[0],i=n[1];if("null"!==s){var l=i[0],a=i[1],o=i[2];null!==a&&null!==o&&e.push({country:s,value:l,coordinates:[a,o]})}return e}),[]);return(0,x.jsxs)(d.h,{className:"topicmap",center:[0,0],zoomSnap:0,zoom:1.25,doubleClickZoom:!1,attributionControl:!1,maxBounds:[[90,-180],[-90,180]],children:[(0,x.jsx)(u.I,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",noWrap:!0}),t.map((function(e){return(0,x.jsx)(m.c,{center:e.coordinates,radius:5*Math.pow(e.value,.2),color:"#F9E076",fillColor:"#F9E076",fillOpacity:.8,children:(0,x.jsxs)(p.G,{children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("strong",{children:"Country: "}),e.country]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("strong",{children:"Value: "}),e.value]})]})},e.country)}))]})};function v(){var e=(0,a.UO)().topic,t=(0,l.useState)([]),n=(0,r.Z)(t,2),o=n[0],c=n[1];return(0,l.useEffect)((function(){function t(){return(t=(0,i.Z)((0,s.Z)().mark((function t(){var n,i,r;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://bee-aware-2b421aedee22.herokuapp.com/statistics/");case 3:if((n=t.sent).ok){t.next=6;break}throw new Error("An error occurred: ".concat(n.statusText));case 6:return t.next=8,n.json();case 8:i=t.sent,r=i.filter((function(t){return t.topic===e})),c(r),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),window.alert(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),o.length?(0,x.jsx)("div",{children:o.map((function(e){return(0,x.jsx)(h,{record:e},e.topic)}))}):(0,x.jsx)("div",{children:"No record found"})}var g=n(73909),j=n(21041),f=n(41048),_=n(35667),y=n(20601),b=n(38725),w=n(90466),N=n(12891),k=n(57702),C=n(87970),q=n(6481);n(44992),n(49952);function Z(){var e=(0,a.UO)().topic,t=(0,l.useState)("top_10_global"),n=(0,r.Z)(t,2),o=n[0],c=n[1],d=(0,l.useState)(null),u=(0,r.Z)(d,2),m=u[0],p=u[1],h=(0,l.useState)([]),v=(0,r.Z)(h,2),g=v[0],j=v[1],f=(0,l.useState)([]),_=(0,r.Z)(f,2),y=_[0],b=_[1];(0,l.useEffect)((function(){function t(){return(t=(0,i.Z)((0,s.Z)().mark((function t(){var n,i,l,a,o,c,d;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://bee-aware-2b421aedee22.herokuapp.com/statistics/");case 3:if((n=t.sent).ok){t.next=6;break}throw new Error("An error occurred: ".concat(n.statusText));case 6:return t.next=8,n.json();case 8:i=t.sent,l=i.find((function(t){return t.topic===e})),p(l||null),a=(null===l||void 0===l?void 0:l.keywords)||{},o=Object.entries(a).map((function(e){var t=(0,r.Z)(e,2);return{text:t[0],value:t[1]}})),j(o),c=(null===l||void 0===l?void 0:l.hashtags)||{},d=Object.entries(c).map((function(e){var t=(0,r.Z)(e,2);return{text:t[0],value:t[1]}})),b(d),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),window.alert(t.t0.message);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);if(!m)return null;var w={sentimentCount:m.sentiment_count||{},engagementMetrics:Object.entries(m.engagement_metrics||{}),sentimentPerc:Object.entries(m.sentiment_percentages||{}),top_10_global:m.top_10_global||[],top_10_media:m.top_10_media||[],top_10_verified:m.top_10_verified||[],top_10_question:m.top_10_question||[]},N=[];switch(o){case"top_10_global":default:N=w.top_10_global;break;case"top_10_media":N=w.top_10_media;break;case"top_10_verified":N=w.top_10_verified;break;case"top_10_question":N=w.top_10_question}return(0,x.jsx)("div",{children:(0,x.jsx)(F,{record:m,hashtags:w,filteredTop10:N,selectedFilter:o,handleFilterChange:function(e){c(e)},options:{enableTooltip:!0,deterministic:!1,fontFamily:"impact",fontSizes:[15,50],fontStyle:"normal",fontWeight:"normal",padding:1,rotations:0,scale:"sqrt",spiral:"archimedean",transitionDuration:1e3},keywordsArray:g,hashtagsArray:y})})}var F=function(e){var t,n,s,i,a,d,u,m,p,h,Z=e.record,F=(e.hashtags,e.filteredTop10),V=e.selectedFilter,S=e.handleFilterChange,A=e.options,T=e.keywordsArray,M=e.hashtagsArray,P=Z?[{name:"Positive",value:(null===(t=Z.sentiment_count)||void 0===t?void 0:t.Positive)||0,color:"#76CC9D",perc:null===(n=Z.sentiment_percentages)||void 0===n?void 0:n.Positive},{name:"Neutral",value:(null===(s=Z.sentiment_count)||void 0===s?void 0:s.Neutral)||0,color:"#FADB7C",perc:null===(i=Z.sentiment_percentages)||void 0===i?void 0:i.Neutral},{name:"Negative",value:(null===(a=Z.sentiment_count)||void 0===a?void 0:a.Negative)||0,color:"#F46161",perc:null===(d=Z.sentiment_percentages)||void 0===d?void 0:d.Negative}]:[],B=function(){var e=(0,l.useState)(null),t=(0,r.Z)(e,2),n=t[0],s=t[1];return(0,x.jsxs)(g.u,{width:400,height:400,children:[(0,x.jsx)(j.b,{data:P,dataKey:"value",cx:120,cy:150,innerRadius:75,outerRadius:110,paddingAngle:5,onMouseEnter:function(e,t){s(t)},children:P.map((function(e,t){return(0,x.jsx)(f.b,{fill:e.color},t)}))}),(0,x.jsx)(_.u,{content:function(e){var t=e.payload;if(t&&t.length>0){var n=t[0].payload,s=n.name,i=n.perc;return(0,x.jsx)("div",{style:{marginTop:"10px"},children:(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:s}),": ","".concat(i.toFixed(2),"%")]})})}},active:null!==n,wrapperStyle:{backgroundColor:"white",border:"1px solid #ccc"}})]})},D=function(e){var t=e/1e3;return t.toFixed(t<1?1:0)},R=(0,l.useState)([]),E=(0,r.Z)(R,2),I=E[0],K=E[1];(0,l.useEffect)((function(){if(Z&&Z.engagement_metrics){var e=[{name:"Impressions",value:Z.engagement_metrics.total_impressions,sqrtValue:.9*Math.sqrt(Z.engagement_metrics.total_impressions),kValue:D(Z.engagement_metrics.total_impressions)},{name:"Likes",value:Z.engagement_metrics.total_likes,sqrtValue:Math.sqrt(Z.engagement_metrics.total_likes),kValue:D(Z.engagement_metrics.total_likes)},{name:"Retweets",value:Z.engagement_metrics.total_retweets,sqrtValue:Math.sqrt(Z.engagement_metrics.total_retweets),kValue:D(Z.engagement_metrics.total_retweets)},{name:"Quotes",value:Z.engagement_metrics.total_quotes,sqrtValue:Math.sqrt(Z.engagement_metrics.total_quotes),kValue:D(Z.engagement_metrics.total_quotes)},{name:"Replys",value:Z.engagement_metrics.total_replys,sqrtValue:Math.sqrt(Z.engagement_metrics.total_replys),kValue:D(Z.engagement_metrics.total_replys)}];K(e)}}),[Z]);var O=function(e){var t=e.active,n=e.payload;e.label,e.coordinate;if(t&&n&&n.length){var s=n[0].payload.value;return(0,x.jsx)("div",{className:"custom-tooltip",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,x.jsx)("div",{style:{marginTop:"10px"},children:(0,x.jsxs)("p",{className:"intro",style:{textAlign:"center"},children:["Value: ",s]})})})}return null},z=function(e){var t=e.x,n=e.y,s=e.value;return(0,x.jsx)("text",{x:t+0,y:n-7,textAnchor:"start",fontWeight:"bold",children:s})};return(0,x.jsxs)("div",{children:[(0,x.jsx)("table",{className:"home-table1",style:{width:"100%"},children:(0,x.jsx)("div",{className:"container text",children:(0,x.jsxs)("div",{className:"row align-items-start",children:[(0,x.jsx)("div",{className:"col-lg-2 col-md-2 col-sm-12",children:(0,x.jsx)("div",{className:"topicname",children:(0,x.jsx)("p",{children:null===Z||void 0===Z?void 0:Z.topic})})}),(0,x.jsx)("div",{className:"col-lg-2 col-md-1 col-sm-12",children:(0,x.jsx)("div",{className:"numbertopics",children:(0,x.jsxs)("div",{className:"numbertopic",style:{display:"flex",flexDirection:"column"},children:[(0,x.jsx)("h3",{children:(0,x.jsx)("strong",{children:null===Z||void 0===Z||null===(u=Z.engagement_metrics)||void 0===u?void 0:u.total_tweets})}),(0,x.jsx)("h6",{children:"Total"}),(0,x.jsx)("p",{}),(0,x.jsx)("h3",{style:{color:"#76CC9D"},children:(0,x.jsx)("strong",{children:null===Z||void 0===Z||null===(m=Z.sentiment_count)||void 0===m?void 0:m.Positive})}),(0,x.jsx)("h6",{children:"Positive"}),(0,x.jsx)("p",{}),(0,x.jsx)("h3",{style:{color:"#FADB7C"},children:(0,x.jsx)("strong",{children:null===Z||void 0===Z||null===(p=Z.sentiment_count)||void 0===p?void 0:p.Neutral})}),(0,x.jsx)("h6",{children:"Neutral"}),(0,x.jsx)("p",{}),(0,x.jsx)("h3",{style:{color:"#F46161"},children:(0,x.jsx)("strong",{children:null===Z||void 0===Z||null===(h=Z.sentiment_count)||void 0===h?void 0:h.Negative})}),(0,x.jsx)("h6",{children:"Negative"})]})})}),(0,x.jsx)("div",{className:"col-lg-4 col-md-4 col-sm-12",children:(0,x.jsx)("div",{className:"piegraphic",style:{width:"350px",height:"350px"},children:(0,x.jsx)(B,{})})}),(0,x.jsx)("div",{className:"col-lg-4 col-md-5 col-sm-12",children:(0,x.jsx)("div",{className:"percchart",style:{display:"flex",flexDirection:"column",alignItems:"center"},children:(0,x.jsx)(y.h,{width:450,height:350,children:(0,x.jsxs)(b.v,{layout:"vertical",data:I,barSize:35,margin:{left:60,right:80,top:4,bottom:20},children:[" ",(0,x.jsx)(w.K,{type:"number",dataKey:"sqrtValue",hide:!0})," ",(0,x.jsx)(N.B,{type:"category",dataKey:"name",hide:!0})," ",(0,x.jsx)(_.u,{content:(0,x.jsx)(O,{}),wrapperStyle:{backgroundColor:"white",border:"1px solid #ccc"}}),(0,x.jsxs)(k.$,{dataKey:"sqrtValue",fill:"#8884d8",children:[(0,x.jsx)(C.e,{dataKey:"name",position:"top",content:(0,x.jsx)(z,{})}),(0,x.jsx)(C.e,{dataKey:"kValue",position:"right",formatter:function(e){return"".concat(e,"K")}})]})]})})})})]})})}),(0,x.jsx)("br",{}),(0,x.jsx)("div",{className:"container text",children:(0,x.jsxs)("div",{className:"row align-items-start",style:{display:"flex",width:"100%"},children:[(0,x.jsx)("div",{className:"col-lg-6 col-md-4 col-sm-12",style:{marginRight:"15px"},children:(0,x.jsx)("div",{className:"flex-container",children:(0,x.jsxs)("div",{className:"flex-item",children:[(0,x.jsx)("div",{style:{marginBottom:"20px"},children:(0,x.jsx)("h3",{children:"Trending Tweets Today "})}),(0,x.jsxs)("div",{className:"filter-buttons",children:[(0,x.jsx)("button",{className:"top_10_global"===V?"active":"",onClick:function(){return S("top_10_global")},children:"Global"}),(0,x.jsx)("button",{className:"top_10_media"===V?"active":"",onClick:function(){return S("top_10_media")},children:"With Media"}),(0,x.jsx)("button",{className:"top_10_verified"===V?"active":"",onClick:function(){return S("top_10_verified")},children:"Verified"}),(0,x.jsx)("button",{className:"top_10_question"===V?"active":"",onClick:function(){return S("top_10_question")},children:"Concerns"})]}),(0,x.jsx)("br",{}),F.length>0?F.map((function(e,t){return(0,x.jsxs)("div",{className:"tweetst",style:{marginBottom:"20px",border:"1px solid #ccc",borderRadius:"8px"},children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[(0,x.jsx)("div",{style:{marginRight:"10px",marginTop:"6px"},children:(0,x.jsx)("img",{src:e.profile_photo,alt:"Perfil",style:{width:"65px",marginLeft:"5px"}})}),(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("strong",{children:["@",e.username]})," ",e.verified&&(0,x.jsx)("img",{src:o,alt:"Verificado",style:{width:"13px",height:"13px",verticalAlign:"middle",marginBottom:"2px"}})]}),(0,x.jsxs)("div",{style:{fontSize:"15px",marginRight:"5px"},children:[e.result,(0,x.jsx)("br",{}),null!==e.media?(0,x.jsx)("a",{className:"media",href:e.media,target:"_blank",rel:"noopener noreferrer",children:e.media}):null]})]})]}),(0,x.jsx)("br",{}),(0,x.jsxs)("div",{style:{marginLeft:"75px",marginBottom:"5px"},children:[(0,x.jsx)(c.dSq,{title:"Impressions"})," ",e.total_impressions," \xa0\xa0\xa0",(0,x.jsx)(c.$0H,{title:"Likes"})," ",e.total_likes," \xa0\xa0\xa0",(0,x.jsx)(c.FxE,{title:"Retweets"})," ",e.total_retweets," \xa0\xa0\xa0",(0,x.jsx)(c.fkU,{title:"Quotes"})," ",e.total_quotes," \xa0\xa0\xa0",(0,x.jsx)(c.Bjt,{title:"Replies"})," ",e.total_replys," \xa0\xa0\xa0",e.mentions>1?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(c.Xws,{title:"Mentions"})," ",e.mentions]}):null,(0,x.jsxs)("div",{style:{marginLeft:"10px",display:"inline-flex",alignItems:"center"},children:["Positive"===e.sentiment?(0,x.jsxs)("p",{children:[(0,x.jsx)(c.vXJ,{style:{color:"#76CC9D"}})," Positive"]}):null,"Negative"===e.sentiment?(0,x.jsxs)("p",{children:[(0,x.jsx)(c.nYS,{style:{color:"#F46161"}})," Negative"]}):null,"Neutral"===e.sentiment?(0,x.jsxs)("p",{children:[(0,x.jsx)(c.UMU,{style:{color:"#FADB7C"}})," Neutral"]}):null]})]})]},t)})):(0,x.jsx)("p",{children:"No data available for the selected filter."})]})})}),(0,x.jsxs)("div",{className:"col-lg-2 col-md-3 col-sm-4",style:{marginLeft:"5px",marginTop:"20px",alignItems:"center"},children:[(0,x.jsx)("div",{className:"wordcloud",children:(0,x.jsx)(q.ZP,{options:A,words:M})}),(0,x.jsx)(v,{}),(0,x.jsx)("div",{className:"wordcloud",children:(0,x.jsx)(q.ZP,{options:A,words:T})})]})]})})]})}},34073:function(e,t,n){"use strict";e.exports=n.p+"static/media/verified.189d9f4ef95c546073c8.png"},75042:function(){}}]);
//# sourceMappingURL=77.3b2635b9.chunk.js.map