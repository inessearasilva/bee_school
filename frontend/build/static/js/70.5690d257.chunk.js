"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[70],{15563:function(e,t,n){n.d(t,{Z:function(){return r}});var o=n(15671),i=n(43144),a=n(82388).Z.create({baseURL:"http://localhost:8080/api",headers:{"Content-type":"application/json"}}),r=new(function(){function e(){(0,o.Z)(this,e)}return(0,i.Z)(e,[{key:"getAll",value:function(){return a.get("/utente")}},{key:"get",value:function(e){return a.get("/utente/".concat(e))}},{key:"create",value:function(e){return a.post("/utente",e)}},{key:"update",value:function(e,t){return a.put("/utente/".concat(e),t)}},{key:"delete",value:function(e){return a.delete("/utente/".concat(e))}},{key:"deleteAll",value:function(){return a.delete("/utente")}},{key:"findBynome_utente",value:function(e){return a.get("/utente?nome_utente=".concat(e))}},{key:"findBydata_nascimento",value:function(e){return a.get("/utente?data_nascimento=".concat(e))}},{key:"findBynum_sequencial",value:function(e){return a.get("/utente?num_sequencial=".concat(e))}},{key:"findAviniBynum_sequencial",value:function(e){return a.get("/forms/aviniforms/all?num_sequencial=".concat(e))}},{key:"findAviniByidcomposition",value:function(e){return a.get("/forms/aviniforms/all?idcomposition=".concat(e))}},{key:"findAviniByestado",value:function(e){return a.get("/forms/aviniforms/all?isCompleted=".concat(e))}},{key:"findAviniBydata",value:function(e){return a.get("/forms/aviniforms/all?createdat=".concat(e))}},{key:"findAvombroBynum_sequencial",value:function(e){return a.get("/forms/avombroforms/all?num_sequencial=".concat(e))}},{key:"findAvombroByidcomposition",value:function(e){return a.get("/forms/avombroforms/all?idcomposition=".concat(e))}},{key:"findAvombroByestado",value:function(e){return a.get("/forms/avombroforms/all?isCompleted=".concat(e))}},{key:"findAvombroBydata",value:function(e){return a.get("/forms/avombroforms/all?createdat=".concat(e))}},{key:"createform",value:function(e){return a.post("/forms",e)}},{key:"getformAvini",value:function(e){return a.get("/forms/avini/".concat(e))}},{key:"getformAvombro",value:function(e){return a.get("/forms/avombro/".concat(e))}},{key:"getAllform",value:function(){return a.get("/forms")}},{key:"getAllformAvini",value:function(){return a.get("/forms/aviniforms/all")}},{key:"getAllformAvombro",value:function(){return a.get("/forms/avombroforms/all")}},{key:"getvaluesAvini",value:function(e){return a.get("/forms/valuesAvini/".concat(e))}},{key:"getvaluesAvombro",value:function(e){return a.get("/forms/valuesAvombro/".concat(e))}},{key:"getSubAvini",value:function(e){return a.get("/forms/subAvini/".concat(e))}},{key:"getSubAvombro",value:function(e){return a.get("/forms/subAvombro/".concat(e))}},{key:"getidAvini",value:function(e){return a.get("/forms/initialAvini/".concat(e))}},{key:"getidAvombro",value:function(e){return a.get("/forms/initialAvombro/".concat(e))}},{key:"updateform",value:function(e,t){return a.put("/forms/".concat(e),t)}},{key:"deleteform",value:function(e){return a.delete("/forms/".concat(e))}},{key:"deleteAllform",value:function(){return a.delete("/forms")}}]),e}())},31070:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var o=n(1413),i=n(15671),a=n(43144),r=n(97326),c=n(60136),s=n(27277),l=n(72791),u=n(15563),d=n(11087),m=n(24846),h=n(511),f=n(18185),v=(n(72426),n(80184)),g=function(e){(0,c.Z)(n,e);var t=(0,s.Z)(n);function n(e){var o;return(0,i.Z)(this,n),(o=t.call(this,e)).retrieveForm=o.retrieveForm.bind((0,r.Z)(o)),o.refreshList=o.refreshList.bind((0,r.Z)(o)),o.setActiveForm=o.setActiveForm.bind((0,r.Z)(o)),o.onChangeSearchidcomposition=o.onChangeSearchidcomposition.bind((0,r.Z)(o)),o.onChangeSearchnum_sequencial=o.onChangeSearchnum_sequencial.bind((0,r.Z)(o)),o.onChangeSearchestado=o.onChangeSearchestado.bind((0,r.Z)(o)),o.onChangeSearchdata=o.onChangeSearchdata.bind((0,r.Z)(o)),o.searchidcomposition=o.searchidcomposition.bind((0,r.Z)(o)),o.searchnum_sequencial=o.searchnum_sequencial.bind((0,r.Z)(o)),o.searchestado=o.searchestado.bind((0,r.Z)(o)),o.searchdata=o.searchdata.bind((0,r.Z)(o)),o.state={ClinicalCompositions:[],currentClinicalCompositions:null,currentIndex:-1,searchestado:"",searchidcomposition:"",searchnum_sequencial:"",currentPage:1,itemsPerPage:6},o}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){this.retrieveForm()}},{key:"handleClick",value:function(e){this.setState({currentPage:Number(e.target.id)})}},{key:"onChangeSearchidcomposition",value:function(e){var t=this,n=e.target.value;this.setState({searchidcomposition:n},(function(){t.searchidcomposition()}))}},{key:"onChangeSearchnum_sequencial",value:function(e){var t=this,n=e.target.value;this.setState({searchnum_sequencial:n},(function(){t.searchnum_sequencial()}))}},{key:"onChangeSearchestado",value:function(e){var t=this,n=e.target.value;this.setState({searchestado:n},(function(){t.searchestado()}))}},{key:"onChangeSearchdata",value:function(e){var t=this,n=e.target.value;this.setState({searchdata:n},(function(){t.searchdata()}))}},{key:"retrieveForm",value:function(){var e=this;u.Z.getAllformAvini().then((function(t){var n=t.data.sort((function(e,t){return e.createdat-t.createdat})).map((function(e){var t=e.utente||{};return(0,o.Z)((0,o.Z)({},e),{},{nome_utente:t.nome_utente})}));e.setState({ClinicalCompositions:n}),console.log(n)})).catch((function(e){console.log(e)}))}},{key:"refreshList",value:function(){this.retrieveForm(),this.setState({currentClinicalCompositions:null,currentIndex:-1})}},{key:"setActiveForm",value:function(e,t){this.setState({currentClinicalCompositions:e,currentIndex:t})}},{key:"searchnum_sequencial",value:function(){var e=this;u.Z.findAviniBynum_sequencial(this.state.searchnum_sequencial).then((function(t){var n=t.data.map((function(e){var t=e.utente||{};return(0,o.Z)((0,o.Z)({},e),{},{nome_utente:t.nome_utente})}));e.setState({ClinicalCompositions:n,currentClinicalCompositions:null,currentIndex:-1}),console.log(n)})).catch((function(e){console.log(e)}))}},{key:"searchidcomposition",value:function(){var e=this;u.Z.findAviniByidcomposition(this.state.searchidcomposition).then((function(t){var n=t.data.map((function(e){var t=e.utente||{};return(0,o.Z)((0,o.Z)({},e),{},{nome_utente:t.nome_utente})}));e.setState({ClinicalCompositions:n,currentClinicalCompositions:null,currentIndex:-1}),console.log(n)})).catch((function(e){console.log(e)}))}},{key:"searchestado",value:function(){var e=this,t=this.state.searchestado;u.Z.findAviniByestado(t).then((function(t){var n=t.data.map((function(e){var t=e.utente||{};return(0,o.Z)((0,o.Z)({},e),{},{nome_utente:t.nome_utente})}));e.setState({ClinicalCompositions:n,currentClinicalCompositions:null,currentIndex:-1}),console.log(n)})).catch((function(e){console.log(e)}))}},{key:"searchdata",value:function(){var e=this,t=this.state.searchdata;u.Z.findAviniBydata(t).then((function(t){var n=t.data.map((function(e){var t=e.utente||{};return(0,o.Z)((0,o.Z)({},e),{},{nome_utente:t.nome_utente})}));e.setState({ClinicalCompositions:n,currentClinicalCompositions:null,currentIndex:-1}),console.log(n)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){for(var e=this,t=this.state,n=t.ClinicalCompositions,o=t.searchestado,i=t.searchidcomposition,a=t.searchnum_sequencial,r=t.searchdata,c=t.currentPage,s=t.itemsPerPage,l=n.filter((function(e){e.idcomposition;if(i&&i!==e.idcomposition.toString())return!1;e.num_sequencial;if(a&&a!==e.num_sequencial.toString())return!1;e.isCompleted;if(""!==o&&("0"===o?0!==e.isCompleted:1!==e.isCompleted))return!1;var t=new Date(e.createdat).toISOString().slice(0,10);return!r||r===t})),u=c*s,g=u-s,p=l.slice(g,u),x=[],y=1;y<=Math.ceil(l.length/s);y++)x.push(y);x.map((function(t){return(0,v.jsx)("li",{id:t,onClick:e.handleClick.bind(e),className:c===t?"active":"",children:t},t)}));var b=Math.ceil(n.length/s),C=c>1?c-1:null,j=c<Math.ceil(n.length/s)?c+1:null;return(0,v.jsxs)("div",{className:"list row d-flex justify-content-center",children:[(0,v.jsx)("span",{className:"my-heading",children:"Question\xe1rios Gerais"}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("table",{className:"table",style:{tableLayout:"fixed",width:"170%"},children:(0,v.jsx)("thead",{style:{backgroundColor:"#57a9d9",color:"white"},children:(0,v.jsx)("tr",{children:(0,v.jsx)("th",{scope:"col",style:{width:"20%",textAlign:"center"},children:"Filtrar por:"})})})}),(0,v.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,v.jsx)("div",{className:"col-md-2",children:(0,v.jsxs)("div",{className:"input-group mb-3",children:[(0,v.jsx)("input",{type:"text",className:"form-control",placeholder:"N\xfamero de Processo",value:i,onChange:function(t){e.onChangeSearchidcomposition(t),e.searchidcomposition()}}),i&&(0,v.jsx)("div",{className:"input-group-append",children:(0,v.jsx)("button",{type:"button",className:"btn",onClick:function(){e.onChangeSearchidcomposition({target:{value:""}}),e.searchidcomposition()},children:(0,v.jsx)("div",{children:(0,v.jsx)(f.C7Q,{color:"red"})})})})]})}),(0,v.jsx)("div",{className:"col-md-2",children:(0,v.jsxs)("div",{className:"input-group mb-3",children:[(0,v.jsx)("input",{type:"text",className:"form-control",placeholder:"N\xfamero Sequencial",value:a,onChange:function(t){e.onChangeSearchnum_sequencial(t),e.searchnum_sequencial()}}),a&&(0,v.jsx)("div",{className:"input-group-append",children:(0,v.jsx)("button",{type:"button",className:"btn",onClick:function(){e.onChangeSearchnum_sequencial({target:{value:""}}),e.searchnum_sequencial()},children:(0,v.jsx)("div",{children:(0,v.jsx)(f.C7Q,{color:"red"})})})})]})}),(0,v.jsx)("div",{className:"col-md-2",children:(0,v.jsxs)("div",{className:"input-group mb-3",children:[(0,v.jsx)("input",{type:"date",className:"form-control",placeholder:"Data de submiss\xe3o",value:r,onChange:function(t){e.onChangeSearchdata(t),e.searchdata()}}),r&&(0,v.jsx)("div",{className:"input-group-append",children:(0,v.jsx)("button",{type:"button",className:"btn",onClick:function(){e.onChangeSearchdata({target:{value:""}}),e.searchdata()},children:(0,v.jsx)("div",{children:(0,v.jsx)(f.C7Q,{color:"red"})})})})]})}),(0,v.jsx)("div",{className:"col-md-2",children:(0,v.jsxs)("div",{className:"select-wrapper",children:[(0,v.jsxs)("select",{className:"form-control",id:"estado",required:!0,value:o,onChange:function(t){e.onChangeSearchestado(t),e.searchestado()},name:"estado",children:[(0,v.jsx)("option",{value:"",children:"Estado"}),(0,v.jsx)("option",{value:0,children:"Rascunho"}),(0,v.jsx)("option",{value:1,children:"Terminado"})]}),(0,v.jsx)("span",{className:"arrow"})]})})]}),(0,v.jsx)("br",{}),(0,v.jsxs)("table",{className:"table",style:{tableLayout:"fixed",width:"170%"},children:[(0,v.jsx)("thead",{style:{backgroundColor:"#57a9d9",color:"white"},children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{scope:"col",style:{width:"15%",textAlign:"center"},children:"N\xfamero de Processo"}),(0,v.jsx)("th",{scope:"col",style:{width:"15%",textAlign:"center"},children:"N\xfamero Sequencial"}),(0,v.jsx)("th",{scope:"col",style:{width:"19%",textAlign:"center"},children:"Nome"}),(0,v.jsx)("th",{scope:"col",style:{width:"17%",textAlign:"center"},children:"Data de submiss\xe3o"}),(0,v.jsx)("th",{scope:"col",style:{width:"17%",textAlign:"center"},children:"Estado"}),(0,v.jsx)("th",{scope:"col",style:{width:"17%",textAlign:"center"},children:" "})]})}),(0,v.jsx)("tbody",{children:p.length>0?p.sort((function(e,t){return e.createdat-t.createdat})).map((function(e,t){return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{style:{backgroundColor:"white",textAlign:"center"},children:e.idcomposition}),(0,v.jsx)("td",{style:{backgroundColor:"white",textAlign:"center"},children:e.num_sequencial}),(0,v.jsx)("td",{style:{backgroundColor:"white",textAlign:"center"},children:e.nome_utente}),(0,v.jsx)("td",{style:{backgroundColor:"white",textAlign:"center"},children:new Date(e.createdat).toLocaleDateString("pt-PT")}),(0,v.jsx)("td",{style:{backgroundColor:"white",textAlign:"center"},children:(0,v.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[0===e.isCompleted?(0,v.jsx)("div",{children:(0,v.jsx)(f.qMH,{color:"#FFC82E",style:{marginLeft:"90px"}})}):(0,v.jsx)("div",{children:(0,v.jsx)(f.Reu,{color:"#03CD45",style:{marginLeft:"90px"}})}),(0,v.jsx)("span",{style:{marginLeft:"10px"},children:0===e.isCompleted?"Rascunho":"Terminado"})]})}),(0,v.jsxs)("td",{style:{backgroundColor:"white",textAlign:"center"},children:[0===e.isCompleted?(0,v.jsx)(d.rU,{to:"/subAvini/".concat(e.idcomposition,"/").concat(e.num_sequencial),children:(0,v.jsx)("button",{className:"blue-button-small",children:(0,v.jsx)(m.Z,{icon:h.l})})}):null,(0,v.jsx)(d.rU,{to:"/vizAvini/".concat(e.idcomposition,"/").concat(e.num_sequencial),children:(0,v.jsx)("button",{className:"blue-button-small",children:(0,v.jsx)("div",{children:(0,v.jsx)(f.rCC,{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"110%",height:"110%"}})})})})]})]},t)})):(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:"6",style:{backgroundColor:"white",textAlign:"center"},children:"N\xe3o existem question\xe1rios registados"})})})]}),(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,v.jsx)("button",{onClick:function(){C&&e.setState({currentPage:C})},type:"button",className:"btn btn-outline-primary button-no-focus",style:{borderColor:"#60b1e0",borderRadius:"0.15rem",width:"4rem",height:"2.2rem",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"0.8rem"},children:(0,v.jsx)("div",{children:(0,v.jsx)(f.pjk,{color:"black"})})}),"\xa0\xa0\xa0\xa0\xa0",c," de ",b,"\xa0\xa0\xa0\xa0\xa0",(0,v.jsx)("button",{onClick:function(){j&&e.setState({currentPage:j})},type:"button",className:"btn btn-outline-primary button-no-focus",style:{borderColor:"#60b1e0",borderRadius:"0.15rem",width:"4rem",height:"2.2rem",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"0.8rem"},children:(0,v.jsx)("div",{children:(0,v.jsx)(f.fmn,{color:"black"})})})]})]})}}]),n}(l.Component)}}]);
//# sourceMappingURL=70.5690d257.chunk.js.map